/*!
 * 
 * Intro Tour Tutorial PRO
 * 
 * @author [object Object]
 * @version 4.4.0
 * @link #
 * @license 
 * 
 * Copyright (c) 2022 [object Object]
 * 
 * Copyright (c) 2020 DeepPresentation <Tomáš Groulík>. All rights reserved.
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackiodpIntroToursmainJsonp=window.wpackiodpIntroToursmainJsonp||[]).push([[17],{11:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var o=i(13),r=i(2),n=i(4),a=i(0);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=function(){function t(){Object(r.a)(this,t)}return Object(n.a)(t,[{key:"_mergeElementsBoundingBoxes",value:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.mergeBoundingBoxes.apply(t,Object(o.a)(i.map((function(e){return t.getElBoundingBox(e)}))))}}],[{key:"actualizeBottomAndRightInBoundingBox",value:function(t){return t.bottom=t.top+t.height,t.right=t.left+t.width,t}},{key:"actualizeHeightAndWidthInBoundingBox",value:function(t){return t.height=t.bottom-t.top,t.width=t.right-t.left,t}},{key:"boundingBox2RelativeScrollPos",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=$(window).scrollTop(),o=$(window).scrollLeft(),r=l({},t);return r.top-=e?i:0,r.left-=e?o:0,r.bottom-=e?i:0,r.right-=e?o:0,r}},{key:"mergeBoundingBoxes",value:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i.length){var n=i.filter((function(t){return t})),a=n.map((function(t){return t.top})),s=n.map((function(t){return t.left})),l=n.map((function(t){return t.bottom})),u=n.map((function(t){return t.right}));if(a&&a.length&&s&&s.length&&l&&l.length&&u&&u.length)return t.actualizeHeightAndWidthInBoundingBox({top:Math.min.apply(Math,Object(o.a)(a)),left:Math.min.apply(Math,Object(o.a)(s)),right:Math.max.apply(Math,Object(o.a)(u)),bottom:Math.max.apply(Math,Object(o.a)(l))})}return null}},{key:"intersectBoundingBoxes",value:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i.length){var n=i.filter((function(t){return t})),a=n.map((function(t){return t.top})),s=n.map((function(t){return t.left})),l=n.map((function(t){return t.bottom})),u=n.map((function(t){return t.right}));if(a&&a.length&&s&&s.length&&l&&l.length&&u&&u.length)return t.actualizeHeightAndWidthInBoundingBox({top:Math.max.apply(Math,Object(o.a)(a)),left:Math.max.apply(Math,Object(o.a)(s)),right:Math.min.apply(Math,Object(o.a)(u)),bottom:Math.min.apply(Math,Object(o.a)(l))})}return null}}]),t}();Object(a.a)(u,"getElBoundingBox",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t){var r=$(t),n=r.offset();return e?u.boundingBox2RelativeScrollPos(u.actualizeBottomAndRightInBoundingBox({top:Math.round(n.top),left:Math.round(n.left),width:Math.round(r.outerWidth(!1)),height:Math.round(r.outerHeight(!1))}),i):u.boundingBox2RelativeScrollPos(u.actualizeBottomAndRightInBoundingBox({top:Math.round(n.top-parseFloat($(r).css("marginTop"),0)),left:Math.round(n.left-parseFloat($(r).css("marginLeft"),0)),width:Math.round(r.outerWidth(!0)),height:Math.round(r.outerHeight(!0))}),i)}return"EMPTY_OFFSET"==o?u.boundingBox2RelativeScrollPos(u.actualizeBottomAndRightInBoundingBox({top:0,width:0,height:0,left:0}),i):o}))},118:function(t,e,i){i(15),t.exports=i(119)},119:function(t,e,i){"use strict";i.r(e);var o=i(45),r=i(33),n=i(42),a=i(3);window.DpitHooks=n.a,jQuery(window).on("load",(function(){window.dpIntroTourPublicConfig.dpDebugEn&&console.log("PRO config:",window.dpIntroTourPublicConfig),window.$=jQuery,null===a.a.getDpUrlParam("dp_qp_step",window.dpIntroTourPublicConfig.queryParamsDefs)&&r.a.processVisit(window.dpIntroTourPublicConfig),window.dpIntroTourPublicConfig.tours&&window.dpIntroTourPublicConfig.tours.length&&window.dpIntroTourPublicConfig.tours.forEach((function(t){new o.a(window.dpIntroTourPublicConfig,t)}))}))},14:function(t,e,i){"use strict";i.d(e,"c",(function(){return _})),i.d(e,"b",(function(){return w})),i.d(e,"a",(function(){return C})),i.d(e,"d",(function(){return S}));var o=i(18),r=i(2),n=i(4),a=i(0),s=i(10),l=i.n(s),u=i(17),c=i(11),h=i(7),p=i.n(h),d=i(20);function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m=i(39),v=i(67).normal,y=function(t){return{r:t.red(),g:t.green(),b:t.blue(),a:t.alpha()}},b=function(t){var e=l.a.rgb(t.r,t.g,t.b);return e.alpha(t.a),e},_={main:"dpintro-main",highlight:"dpintro-highlight",tooltipReference:"dpintro-tooltip-ref",tooltip:"dpintro-tooltip",tooltipText:"dpintro-tooltip-text",arrow:"dpintro-arrow",progress:"dpintro-progress",progressBar:"dpintro-progress-bar",tooltipButtons:"dpintro-tooltip-buttons",bullets:"dpintro-bullets",tooltipNumber:"dpintro-tooltip-number",button:"dpintro-button",buttonNext:"dpintro-button--next",buttonPrev:"dpintro-button--prev",buttonSkip:"dpintro-button--skip",buttonFull:"dpintro-button--full",buttonDone:"dpintro-button--done",overlay:"dpintro-overlay",overlayBlurredModifier:"--blurred",overlayContainer:"dpintro-overlay-container",disableInteraction:"dpintro-disable-interaction",hidden:"dpintro-hidden",hiddenByOpacity:"dpintro-hidden-by-opacity",disabled:"dpintro-disabled"},w={onBeforeChange:"onBeforeChange",onStarted:"onStarted",onChange:"onChange",onAfterChange:"onAfterChange",onComplete:"onComplete",onExit:"onExit",onSkip:"onSkip",onBeforeExit:"onBeforeExit",onLayersInit:"onLayersInit",onButtonHover:"onButtonHover",onResize:"onResize"},C={onBeforeChange:"onBeforeChange",onBeforeShowStep:"onBeforeShowStep",onBeforeExit:"onBeforeExit"},S=function(){function t(e,i){var n=this;Object(r.a)(this,t),Object(a.a)(this,"_getCssVarVal",(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=i;if(t&&e){var r=getComputedStyle(t).getPropertyValue(e);null!=r&&""!==r&&(o=r)}return o})),Object(a.a)(this,"isFixedTooltipBottomTheme",(function(){var t=!1;return n._wrapperEl&&(t=$(n._wrapperEl).hasClass("fancybar")),t})),Object(a.a)(this,"setStepAsDummy",(function(t){t&&(n.dummyElement=n._mainElement.querySelector(".dpintro-dummyelement"),t.isDummyElement=!0,null===n.dummyElement&&(n.dummyElement=document.createElement("div"),n._mainElement.appendChild(n.dummyElement)),n.dummyElement.className="dpintro-dummyelement",t.element=n.dummyElement)})),Object(a.a)(this,"resetStepAsDummy",(function(t){t&&t.isDummyElement&&(t.isDummyElement=!1)})),Object(a.a)(this,"start",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.ending=!1,n._introItems=n.initSteps(),n._currentStep=Math.max(-1,Math.min(t-1,n._introItems.length-1)),n.wasLastDummy=!0,n.emitter.emit(w.onStarted,n),n.addOverlayLayer(!1,n._options.overlayBlurred)&&(n.nextStep(e,!0),$(n.overlayLayer).on("click",n._onOverlayClick),n._onKeyDownEventHandler=n._onKeyDown.bind(n),$(window).on("keydown",n._onKeyDownEventHandler),$(window).on("resize",n._onResize)),!1})),Object(a.a)(this,"_onOverlayClick",(function(){!0===n._options.exitOnOverlayClick&&n._exitIntro("skip")})),Object(a.a)(this,"setOption",(function(t,e){n._options[t]=e})),Object(a.a)(this,"goToStep",(function(t){var e=t-2<n._currentStep;n._currentStep=t-2,void 0!==n._introItems&&n.nextStep(e)})),Object(a.a)(this,"goToStepNumber",(function(t){n._introItems[n._currentStep]&&n.updateIterateAfter(n._introItems[n._currentStep],!0),n._currentStepNumber=t,void 0!==n._introItems&&n.nextStep()})),Object(a.a)(this,"nextStep",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==n._currentStepNumber&&n._forEach(n._introItems,(function(t,e){t.step===n._currentStepNumber&&(n._currentStep=e-1,n._currentStepNumber=void 0)}));var i=e?null:n._introItems[n._currentStep];i&&n.updateIterateAfter(i,!0),void 0===n._currentStep?n._currentStep=0:++n._currentStep;var o=n._introItems[n._currentStep],r=!0;if(n.emitter.emit(w.onBeforeChange,n,o,t,i),void 0!==n._introBeforeChangeCallback&&(r=n._introBeforeChangeCallback(n,o,t,i)),-1===r)return--n._currentStep,!1;0!==r?n._introItems.length<=n._currentStep?n.nextStepOnLastStep():(n._activeControl=t?"back":"next",n._showElement(o,!1,!1,t)):n.nextStep()})),Object(a.a)(this,"previousStep",(function(){if(0===n._currentStep)return!1;n._activeControl="back";var t=n._introItems[n._currentStep];t&&n.updateIterateAfter(t,!0),--n._currentStep;var e=n._introItems[n._currentStep],i=!0;if(n.emitter.emit(w.onBeforeChange,n,e,!0,t),void 0!==n._introBeforeChangeCallback&&(i=n._introBeforeChangeCallback(n,e,!0,t)),-1===i)return++n._currentStep,!1;0!==i?n._showElement(e,!1,!1,!0):n.previousStep()})),Object(a.a)(this,"refresh",(function(){return void 0!==n._currentStep&&null!==n._currentStep&&n._introItems[n._currentStep]&&n._showElement(n._introItems[n._currentStep],!0),n})),Object(a.a)(this,"_hideIntroElements",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.isFollowTargetPositionEnabled=!1,t||n._hideIntroOverlay(),n._hideLayerByOpacity(n.highlightLayer,300),n._hideLayerByOpacity(n.tooltipReferenceLayer,300),$(n.tooltipLayer).fadeOut(300),n._hideLayerByOpacity(n.tooltipNumberLayer,300),$(n.disableInteractionLayer).fadeOut(300)})),Object(a.a)(this,"_showIntroElements",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||n._showIntroOverlay(),n._showLayerByOpacity(n.highlightLayer),n._showLayerByOpacity(n.tooltipReferenceLayer),$(n.tooltipLayer).fadeIn(300),n._showLayerByOpacity(n.tooltipNumberLayer),$(n.disableInteractionLayer).fadeIn(300),n.isFollowTargetPositionEnabled=!0})),Object(a.a)(this,"_hideIntroOverlay",(function(){$(n.overlayLayer).css("opacity",0),setTimeout((function(){$(n.overlayContainer).hide()}),450)})),Object(a.a)(this,"bringIntroOverlayUp",(function(){$(n.overlayLayer).css("opacity",0),setTimeout((function(){$(n.overlayContainer).css("z-index",100000001),$(n.overlayLayer).css("opacity",n._options.overlayOpacity)}),450)})),Object(a.a)(this,"_showIntroOverlay",(function(){$(n.overlayContainer).show(),$(n.overlayLayer).css("opacity",n._options.overlayOpacity)})),Object(a.a)(this,"_hideLayerByOpacity",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;t&&(t.style.opacity=0,setTimeout((function(){$(t).hide()}),e))})),Object(a.a)(this,"_showLayerByOpacity",(function(t){t&&($(t).show(),t.style.opacity=1)})),Object(a.a)(this,"exitIntro",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.ending=!0;var o=!0;n._options.leave_overlay_always&&(t=!0),n.emitter.emit(w.onBeforeExit,n,i),void 0!==n._introBeforeExitCallback&&(o=n._introBeforeExitCallback(n)),(e||!1!==o)&&(n._hideIntroElements(t),setTimeout((function(){switch(i){case"skip":n.emitter.emit(w.onSkip,n);break;case"complete":n.emitter.emit(w.onComplete,n)}n._enableInteraction(!0),n.dummyElement&&(n.dummyElement.parentNode.removeChild(n.dummyElement),n.dummyElement=null),n._clearCurrentStepElement(),n._onKeyDownEventHandler&&$(window).off("keydown",n._onKeyDownEventHandler),$(window).off("resize",n._onResize),$(n.overlayLayer).off("click",n._onOverlayClick),n.emitter.emit(w.onExit,n,i),n._currentStep=void 0,n._lastShownItem=void 0}),500))})),Object(a.a)(this,"_restoreCurrentStepElement",(function(){n._setShowElement(n._introItems[n._currentStep].element),n._clearContrastAdjustment(),n._lastShowElementBgTimer&&window.clearTimeout(n._lastShowElementBgTimer),n._fixTargetLowContrast(n.highlightLayer,n._introItems[n._currentStep].element,!1,n._introItems[n._currentStep])})),Object(a.a)(this,"_clearCurrentStepElement",(function(){n._removeShowElement(),n._clearContrastAdjustment()})),Object(a.a)(this,"_pauseTour",(function(){n._enableInteraction(),n._clearCurrentStepElement(),n._hideIntroElements()})),Object(a.a)(this,"_restoreTour",(function(){n._disableInteraction(),n._restoreCurrentStepElement(),n._showIntroElements()})),Object(a.a)(this,"unsubscribeEvent",(function(t,e){if("function"!=typeof e)throw new Error("Provided callback for ".concat(t," was not a function."));if(!(t in w))throw new Error("Provided event name ".concat(t," was not recognized. Choose from: ").concat(w.values().join(",")));n.emitter.off(t,e)})),Object(a.a)(this,"setCallback",(function(t,e){if("function"!=typeof e)throw new Error("Provided callback for ".concat(t," was not a function."));switch(t){case C.onBeforeChange:n._introBeforeChangeCallback=e;break;case C.onBeforeShowStep:n._introBeforeShowStepCallback=e;break;case C.onBeforeExit:n._introBeforeExitCallback=e;break;default:throw new Error("Provided callback name ".concat(t," was not recognized."))}})),Object(a.a)(this,"createBullet",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=document.createElement("li"),a=document.createElement("div");return e&&(r.setAttribute("role","presentation"),a.setAttribute("role","tab")),o&&(a.onclick=o),i&&(a.className="active"),e&&(n._setAnchorAsButton(a),a.innerHTML="&nbsp;",a.setAttribute("data-stepnumber",t)),r.appendChild(a),r})),Object(a.a)(this,"createBullets",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.bullets,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=document.createElement("div");$(a).addClass(t);var s=document.createElement("ul");return i&&s.setAttribute("role","tablist"),n._forEach(n._introItems,(function(t,e){s.appendChild(n.createBullet(t.step,i,e===o,r))})),a.appendChild(s),e||$(a).fadeOut(),a})),Object(a.a)(this,"_onResize",(function(){var t={oldWidth:n.document_width,currentWidth:$("body").innerWidth(),oldHeight:n.document_height,currentHeight:$(document).height()};t.oldWidth==t.currentWidth&&t.oldHeight==t.currentHeight||(n.document_width=t.currentWidth,n.document_height=t.currentHeight,n._resizeTimeout||(n._resizeTimeout=setTimeout((function(){clearTimeout(n._resizeTimeout),n._resizeTimeout=null;var e=c.a.getElBoundingBox(n.tooltipTextLayer,!1,!0);n._isIframeInTooltip&&e.width!==n.tooltipBBRel.width||(n._options.dpDebugEn&&console.log("Resize:",t),n.emitter.emit(w.onResize,t),n.refresh()),n.tooltipBBRel=e}),50)))})),Object(a.a)(this,"_cloneObject",(function(t){if(null===t||"object"!==Object(o.a)(t)||void 0!==t.nodeType)return t;var e={};for(var i in t)void 0!==window.jQuery&&t[i]instanceof window.jQuery?e[i]=t[i]:e[i]=n._cloneObject(t[i]);return e})),Object(a.a)(this,"placeTooltip",(function(t){n._placeTooltip(t,n.highlightLayer,n.tooltipLayer,n.arrowLayer,n.tooltipNumberLayer)})),Object(a.a)(this,"_placeTooltip",(function(t,e,i,o,r){var a,s,l,u,h="",p=i.style.transition;i.style.transition="none !important",i.style.top=null,i.style.right=null,i.style.bottom=null,i.style.left=null,i.style.marginLeft=null,i.style.marginTop=null,o.style.display="inherit","1"===(null==t||null===(a=t.hidden_meta)||void 0===a||null===(s=a.ext)||void 0===s?void 0:s.build_with_wp_editor)?$(n.tooltipTextLayer).addClass("dpintro-tooltip-text--rt"):$(n.tooltipTextLayer).removeClass("dpintro-tooltip-text--rt"),n._options.customTextStylesEn?$(n.tooltipTextLayer).addClass("dpintro-tooltip-text--cs"):$(n.tooltipTextLayer).removeClass("dpintro-tooltip-text--cs");var d=n._getWinSize(),f=$(document).height();t.isFixedPosition&&(f=d.height+$(window).scrollTop());var g=c.a.actualizeBottomAndRightInBoundingBox({top:0,left:0,width:d.width,height:f}),m=parseFloat($(o).css("border-top-width"));isNaN(m)&&(m=$(o).outerWidth()/2);var v=2*m;if(null!=r&&(r.style.top=null,r.style.left=null),n._introItems[n._currentStep]){h="string"==typeof(l=n._introItems[n._currentStep]).tooltipClass?l.tooltipClass:n._options.tooltipClass,i.className=_.tooltip,$(i).addClass(h.replace(/^\s+|\s+$/g,"")),i.setAttribute("role","dialog"),u=n._introItems[n._currentStep].position,u=t.isDummyElement?d.width<600?"center-top-aligned":"center":n._determineAutoPosition(t,i,u,v+n._options.tooltipDistanceFromTarget),$(i).addClass("".concat(_.tooltip,"--").concat(u));var y=c.a.intersectBoundingBoxes(c.a.getElBoundingBox(e,!1),g),b=c.a.getElBoundingBox(i,!1),w=c.a.getElBoundingBox(r,!1,!1,"EMPTY_OFFSET"),C=parseFloat($(i).css("border-top-right-radius"));isNaN(C)&&(C=0);var S={x:Math.max(Math.min(b.width,y.width)*n._options.arrowAlignNormCoef,v+C),y:Math.max(Math.min(b.height,y.height)*n._options.arrowAlignNormCoef,v+C)},O=Math.min(w.width/y.width,.9),k=Math.min(w.height/y.height,.9),x=w.width/(2-O),P=w.height/(2-k),L={left:-x,top:-P},E={top:-v,left:S.x},T={top:0,left:0};if(n.isFixedTooltipBottomTheme()){r&&(y.left-w.width<0?n._addClass(r,"center"):(r.style.position="absolute",L.left=-.7*w.width,L.top=-.7*w.height,n._removeClass(r,"center")));var I=n._getFixedTooltipOffset();y.top+y.height>f-I.bottom&&!l.isDummyElement?(n._addClass(i,"".concat(_.tooltip,"--on-top")),$(n._mainElement).addClass("".concat(_.main,"--on-top"))):(n._removeClass(i,"".concat(_.tooltip,"--on-top")),$(n._mainElement).removeClass("".concat(_.main,"--on-top")))}else{o.className=_.arrow;var j="top";switch(u){case"top-right-aligned":j="bottom",T.top=-b.height-m-n._options.tooltipDistanceFromTarget,T.left=y.width-b.width,L.top=y.height-P,L.left=-x,E.left=b.width-S.x-v,E.top=b.height;break;case"top-middle-aligned":j="bottom",T.top=-b.height-m-n._options.tooltipDistanceFromTarget,T.left=(y.width-b.width)/2,L.top=y.height-P,L.left=-x,E.left=b.width/2-m,E.top=b.height;break;case"top-left-aligned":case"top":j="bottom",T.top=-b.height-m-n._options.tooltipDistanceFromTarget,L.top=y.height-P,L.left=y.width-x,E.left=S.x,E.top=b.height;break;case"right-top-aligned":T.left=y.width+m+n._options.tooltipDistanceFromTarget,T.top=0,i.style.width=b.width+"px",j="left",E.left=-v,E.top=S.y,L.top=y.height-P;break;case"right-bottom-aligned":T.left=y.width+m+n._options.tooltipDistanceFromTarget,T.top=y.height-b.height,i.style.width=b.width+"px",j="left",E.left=-v,E.top=b.height-S.y-v,L.top=-P;break;case"right-middle-aligned":case"right":T.left=y.width+m+n._options.tooltipDistanceFromTarget,T.top=(y.height-b.height)/2,j="left",E.left=-v,E.top=b.height/2-m;break;case"left-top-aligned":T.left=-m-b.width-n._options.tooltipDistanceFromTarget,T.top=0,i.style.width=b.width+"px",j="right",E.left=b.width,E.top=S.y,L.left=y.width-x,L.top=y.height-P;break;case"left-bottom-aligned":T.left=-m-b.width-n._options.tooltipDistanceFromTarget,T.top=y.height-b.height,i.style.width=b.width+"px",j="right",E.left=b.width,E.top=b.height-S.y-v,L.left=y.width-x,L.top=-P;break;case"left-middle-aligned":case"left":T.left=-m-b.width-n._options.tooltipDistanceFromTarget,T.top=(y.height-b.height)/2,i.style.width=b.width+"px",j="right",E.left=b.width,E.top=b.height/2-m,L.left=y.width-x;break;case"center":o.style.display="none";var B={left:(y.width-b.width)/2,top:(y.height-b.height)/2};T.left=B.left,T.top=B.top,L.left=B.left+b.width-x,L.top=B.top-P;break;case"center-top-aligned":o.style.display="none",T.left=(y.width-b.width)/2,T.top=n._options.centerTopBottomPosOffset,L.left=T.left+b.width-x,L.top=T.top-P;break;case"bottom-right-aligned":j="top",T.top=y.height+m+n._options.tooltipDistanceFromTarget,T.left=y.width-b.width,E.left=b.width-S.x-v,E.top=-v;break;case"bottom-middle-aligned":T.top=y.height+m+n._options.tooltipDistanceFromTarget,T.left=(y.width-b.width)/2,j="top",E.left=b.width/2-m,E.top=-v;break;default:T.top=y.height+m+n._options.tooltipDistanceFromTarget,L.left=y.width-x,j="top",E.left=S.x,E.top=-v}if($(o).addClass("".concat(_.arrow,"--").concat(j)),u.startsWith("top")||u.startsWith("bottom")){var A=0,D=$(n.tooltipReferenceLayer).offset(),N={left:D.left+T.left,top:D.top+T.top};if(N.left<n._options.tooltipMinMarginX)A=n._options.tooltipMinMarginX-N.left,u.endsWith("right-aligned")&&(A=-A),T.left=n._options.tooltipMinMarginX-D.left;else if(N.left+b.width>d.width-n._options.tooltipMinMarginX){var M=d.width-b.width-n._options.tooltipMinMarginX;A=M-N.left,u.endsWith("left-aligned")&&(A=-A),T.left=M-D.left}E.left+=A}i.style.left=T.left+"px",i.style.top=T.top+"px"}if(o&&(o.style.left=E.left+"px",o.style.top=E.top+"px"),r){var R=r.style.transition;r.style.transition="none !important",r.style.left=L.left+"px",r.style.top=L.top+"px";var U=$(r).offset();$(r).offset({left:Math.min(Math.max(0,U.left),d.width-w.width),top:Math.min(Math.max(0,U.top),f-w.height)}),r.style.transition=R}if(u.startsWith("top")){var W=$(i).offset().top+$(i).outerHeight(),V=$(o).offset();$(o).offset({top:W-.3,left:V.left})}i.style.transition=p}})),Object(a.a)(this,"_determineAutoPosition",(function(t,e,i,o){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=t.element,s={};n._options.positionPrecedence.forEach((function(t){s[t]={score:0,disabled:!1}})),r&&$(e).css("width","auto");var l=n._getWinSize(),u=c.a.getElBoundingBox(a),h=c.a.getElBoundingBox(e),p=h.height+o,d=h.width+o,f="bottom",g=$(document).height();t.isFixedPosition&&(g=l.height+$(window).scrollTop());var m="center"===i?u.height:u.height/2,v=p+u.height,y=(l.height-v)/l.height;s.bottom.disabled=u.bottom+p>g,s.bottom.score+=y,s.top.disabled=u.top-p<0,s.top.score+=y,s.right.disabled=u.right+d>l.width,s.right.score+=1-d/(l.width-u.right),s.left.disabled=u.left-d<0,s.left.score+=1-d/u.left,s.center.disabled=u.width<=h.width||m<=h.height,u.width-h.width<u.height-h.height?s.center.score+=(u.width-h.width)/u.width-.5:s.center.score+=(u.height-h.height)/u.height-.5;var b=[];Object.keys(s).forEach((function(t){s[t].disabled||b.push({position:t,score:s[t].score})})),b.sort((function(t,e){return e.score-t.score}));var _,w,C=b.map((function(t){return t.position})),S=-1!==(w=(_=i||"").indexOf("-"))?_.substr(w):"";if(i&&(i=i.split("-")[0]),C.length)f="auto"!==i&&C.indexOf(i)>-1?i:C[0];else if(r){var O=.95*l.width-40-1;h.width<O&&($(e).css("width",O+"px"),f=n._determineAutoPosition(t,e,i,o,!1))}return-1!==["top","bottom"].indexOf(f)&&(f+=n._determineAutoAlignmentX(u,d,l,S)),-1!==["left","right"].indexOf(f)&&(f+=n._determineAutoAlignmentY(u,p,g,S)),f})),Object(a.a)(this,"_determineAutoAlignmentX",(function(t,e,i,o){var r=Math.min(i.width,window.screen.width),a=["-middle-aligned","-left-aligned","-right-aligned"];t.left+e>r&&n._removeEntry(a,"-left-aligned");var s=t.left+t.width/2;return(s-.6*e<0||s+.6*e>r)&&n._removeEntry(a,"-middle-aligned"),t.right-e<0&&n._removeEntry(a,"-right-aligned"),a.length?-1!==a.indexOf(o)?o:a[0]:"-middle-aligned"})),Object(a.a)(this,"_determineAutoAlignmentY",(function(t,e,i,o){var r=["-middle-aligned","-top-aligned","-bottom-aligned"];t.top+e>i&&n._removeEntry(r,"-top-aligned");var a=t.top+t.height/2;return(a-e/2<0||a+e/2>i)&&n._removeEntry(r,"-middle-aligned"),t.bottom-e<0&&n._removeEntry(r,"-bottom-aligned"),r.length?-1!==r.indexOf(o)?o:r[0]:"-middle-aligned"})),Object(a.a)(this,"_removeEntry",(function(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)})),Object(a.a)(this,"_setLayerPosition",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t){if(!n._introItems[n._currentStep])return;var o=n._introItems[n._currentStep],r=c.a.getElBoundingBox(o.element,!0),a=n._options.helperElementPadding/2,s=c.a.actualizeHeightAndWidthInBoundingBox({top:Math.max(r.top-a,0),left:Math.max(r.left-a,0),bottom:Math.min(r.bottom+a,$(document).innerHeight()),right:Math.min(r.right+a,$(window).innerWidth())});e&&n._addClass(t,e),i&&n._removeClass(t,i),n._introItems[n._currentStep].isFixedPosition?(n._addClass(t,"dpintro-fixed-pos-tooltip"),s.top-=$(window).scrollTop(),s.left,$(window).scrollLeft()):n._removeClass(t,"dpintro-fixed-pos-tooltip"),n._introItems[n._currentStep].isFixedPosition?$(t).css({top:s.top+"px",left:s.left+"px",width:s.width+"px",height:s.height+"px"}):($(t).offset({top:s.top,left:s.left}),$(t).css({width:s.width+"px",height:s.height+"px"}))}})),Object(a.a)(this,"_setAnchorAsButton",(function(t){t.setAttribute("role","button"),t.tabIndex=0})),Object(a.a)(this,"_actualizeStepElement",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!1;if(t){var o,r=n._isMobileSize();if(t.is_mobile_menu_active_element){if(t.alt_mobile_selector){var a=Object(u.a)(t.alt_mobile_selector);if(a&&a.length)return t.element=a[0],void n.resetStepAsDummy(t)}}else if(t.alt_mobile_selector&&r){var s=Object(u.a)(t.alt_mobile_selector,null);s&&s.length?t.element=s[0]:t.element=null}else if(t.selector){var l=Object(u.a)(t.selector,null);l&&l.length?t.element=l[0]:t.element=null}else t.element=null;e&&(i=n._shouldBeStepSkipped(t,r),n.setNotVisibleRefBullet(_.bullets,t.step,i)),!n._options.dpDebugEn||t.element&&$(t.element).is(":visible")||console.log("Current not visible!"),t.element&&n.dummyElement!==t.element?n.resetStepAsDummy(t):n.setStepAsDummy(t),n._options.dpDebugEn&&console.log("Current step:",t),n.updateIterateAfter(t),t&&t.element&&"1"==t.enable_interaction.val&&!t.isDummyElement&&"1"==(null===(o=t.enable_interaction.ext)||void 0===o?void 0:o.hide_overlay)?$(n.overlayContainer).addClass(_.hidden):$(n.overlayContainer).removeClass(_.hidden)}return i})),Object(a.a)(this,"iterateAfterClick",(function(){if(!n.isBuilder&&n._introItems[n._currentStep]){var t,e,i,o=null!==(t=null===(e=n._introItems[n._currentStep].enable_interaction)||void 0===e||null===(i=e.ext)||void 0===i?void 0:i.iterate_after_click_delay_ms)&&void 0!==t?t:500;n._clearCurrentStepElement(),n.inHighlightLayerAnimation.createAndRun(),setTimeout((function(){n.inHighlightLayerAnimation.destroy(),n.goToNextStep()}),o)}})),Object(a.a)(this,"iterateAfterHover",(function(){if(!n.isBuilder&&n._introItems[n._currentStep]){var t,e,i,o=null!==(t=null===(e=n._introItems[n._currentStep].enable_interaction)||void 0===e||null===(i=e.ext)||void 0===i?void 0:i.iterate_after_hover_delay_ms)&&void 0!==t?t:500;n._clearCurrentStepElement(),n.inHighlightLayerAnimation.createAndRun(),setTimeout((function(){n.inHighlightLayerAnimation.destroy(),n.goToNextStep()}),o)}})),Object(a.a)(this,"_showElementDelayed",(function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_.highlight,a=!1,s=!1;if(n._actualizeStepElement(t))o?n.goToPreviousStep()||(n.setStartStepWhenReady=!0,n.goToNextStep()):n._currentStep<n._introItems.length-1?(0===n._currentStep&&(n.setStartStepWhenReady=!0),n.goToNextStep()):(n.setEndStepWhenReady=!0,n.goToPreviousStep());else{if(n.setEndStepWhenReady&&(n.endStep=n._currentStep,n.setEndStepWhenReady=!1,s=!0),n.setStartStepWhenReady&&(n.startStep=n._currentStep,n.setStartStepWhenReady=!1,a=!0),n.refreshStepNumber(),n._currentTargetElement=t.element,"string"==typeof t.highlightClass&&t.highlightClass&&(r+=" "+t.highlightClass),"string"==typeof n._options.highlightClass&&n._options.highlightClass&&(r+=" "+n._options.highlightClass),t.isFixedPosition=n._isFixed(t.element),n.highlightLayer=n._mainElement.querySelector("."+r),null===n.highlightLayer&&n._initLayers(t,r),s)for(var l=n._currentStep+1;l<n._introItems.length;l++)n.setNotVisibleRefBullet(_.bullets,l+1,!0);if(a)for(var u=n._currentStep-1;u>=0;u--)n.setNotVisibleRefBullet(_.bullets,u+1,!0);var c=n.isFixedTooltipBottomTheme();n.tooltipLayer.style.opacity=0,n.bulletsLayer.style.opacity=0,c?n._addClass(n.tooltipLayer,"hidden"):n.tooltipLayer.style.opacity=0,$(n.overlayLayer).css("opacity",n._options.overlayOpacityCoefWhenScroll*n._options.overlayOpacity),null!==n.tooltipNumberLayer&&$(n.tooltipNumberLayer).css("opacity",0),(e=n._getScrollParent(t.element))!==document.body&&n._scrollParentToElement(e,t.element),n.highlightLayer.className=r,n.wasLastDummy?$(n.highlightLayer).addClass("dpintro-highlight--no-move-trans"):$(n.highlightLayer).removeClass("dpintro-highlight--no-move-trans"),t.isDummyElement?(n.wasLastDummy=!0,$(n.highlightLayer).addClass("highlight-dummy")):(n.wasLastDummy=!1,$(n.highlightLayer).removeClass("highlight-dummy")),n.highlightLayer.style.opacity=.05,n._setLayerPosition(n.highlightLayer),n._setLayerPosition(n.tooltipReferenceLayer),n._clearCurrentStepElement(),n._fixTargetLowContrast(n.highlightLayer,t.element,!1,t),n._lastShowElementTimer&&window.clearTimeout(n._lastShowElementTimer),n._lastShowElementTimer=window.setTimeout((function(){if(!n.ending){n._setShowElement(t.element),n._actualizeNavigation(),$(t.element).onOffsetOrDimensionChanged((function(e){n.isFollowTargetPositionEnabled&&e==t.element&&t.step-1===n._currentStep&&n.highlightLayer&&n.tooltipReferenceLayer&&n._actualizeTargetPosition(t,i)})),n._mainElement.setAttribute("id","dpintro-step-"+t.step),null!==n.tooltipNumberLayer&&(n.tooltipNumberLayer.innerHTML=t.step),n.tooltipTextLayer.innerHTML=t.intro_proc||t.intro,n.checkTooltipIFrames(n.tooltipTextLayer.innerHTML),n.tooltipLayer.style.display="block",n.tooltipLayer.setAttribute("id","dpintro-tooltip-step-"+t.step),n._options.showBullets&&n.activateBullet(n.tooltipReferenceLayer,_.bullets,t.step);var e=n._getProgress();n.progressBarLayer.style.cssText="width:"+e+"%;",n.progressBarLayer.setAttribute("aria-valuenow",e),n.highlightLayer.style.opacity=1,n.highlightLayer.setAttribute("id","".concat(_.highlight,"-step-").concat(t.step)),n.bulletsLayer.style.opacity=1,n._placeTooltip(t,n.highlightLayer,n.tooltipLayer,n.arrowLayer,n.tooltipNumberLayer);var o=n._getScrollOffset(t.scrollTo,t);n._scrollTo(o,i)}}),n._movingTime),"1"==t.enable_interaction.val||t.isDummyElement?n._enableInteraction():n._disableInteraction()}})),Object(a.a)(this,"checkTooltipIFrames",(function(t){if(n.tooltipBBRel=c.a.getElBoundingBox(n.tooltipTextLayer,!1,!0),t){var e=t.indexOf("<iframe");if(e>=0){var i=t.indexOf(">",e+7);if(i>=0){var o=t.substr(e,i-e+1);if(o&&o.includes("allowfullscreen"))return void(n._isIframeInTooltip=!0)}}}n._isIframeInTooltip=!1})),Object(a.a)(this,"_showElement",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n.emitter.emit(w.onChange,n,t),n.currentFlyingObjectBB=null,i?n._autoPosCorrectionRepetition++:n._autoPosCorrectionRepetition=0;var r=0;void 0!==n._introBeforeShowStepCallback&&(r=n._introBeforeShowStepCallback(n,t)),setTimeout((function(){n._showElementDelayed(t,e,o)}),r)})),Object(a.a)(this,"_actualizeNavigation",(function(){var t,e,i,o=n.isHideNextByCurrentStepMeta(),r=n.getEndStepIdx()<=n._currentStep,s=n._currentStep<=n.getStartStepIdx(),l=n._options.hide_previous_step_button||n._options.hidePrev&&s,u=n._options.hideNextAlways||o||!0===n._options.hideNext&&r,c=p()((t={},Object(a.a)(t,n._options.buttonClass,!0),Object(a.a)(t,_.buttonPrev,!0),Object(a.a)(t,_.hiddenByOpacity,l),Object(a.a)(t,_.disabled,!l&&s),Object(a.a)(t,_.buttonFull,u),t)),h=p()((e={},Object(a.a)(e,n._options.buttonClass,!0),Object(a.a)(e,_.buttonNext,!0),Object(a.a)(e,_.hiddenByOpacity,u),Object(a.a)(e,_.disabled,!u&&r),Object(a.a)(e,_.buttonFull,l),e)),d=p()((i={},Object(a.a)(i,n._options.buttonClass,!0),Object(a.a)(i,_.buttonSkip,!0),Object(a.a)(i,_.buttonDone,r),Object(a.a)(i,_.hiddenByOpacity,n._options.hide_skip_button&&!r),i)),f=r?n._options.doneLabel:n._options.skipLabel;s&&n._introItems.length>1?n._activeControl="next":r&&(n._activeControl="skip"),void 0!==n.buttonPrevLayer&&null!==n.buttonPrevLayer&&(n.buttonPrevLayer.className=c,$(n.buttonPrevLayer).hover((function(){return n.emitter.emit(w.onButtonHover,"back",!0)}),(function(){return n.emitter.emit(w.onButtonHover,"back",!1)}))),void 0!==n.buttonNextLayer&&null!==n.buttonNextLayer&&(n.buttonNextLayer.className=h,$(n.buttonNextLayer).hover((function(){return n.emitter.emit(w.onButtonHover,"next",!0)}),(function(){return n.emitter.emit(w.onButtonHover,"next",!1)}))),void 0!==n.buttonSkipLayer&&null!==n.buttonSkipLayer&&(n.buttonSkipLayer.className=d,n.buttonSkipLayer.innerHTML=f),n._options.disable_navigation_by_bullets?$(n.bulletsLayer).addClass(_.bullets+"--pointer-events-none"):$(n.bulletsLayer).removeClass(_.bullets+"--pointer-events-none"),n._introItems.length>1&&n._options.showBullets?$(n.bulletsLayer).slideDown():$(n.bulletsLayer).slideUp(),n._fixButtonFont()})),Object(a.a)(this,"_fixTargetLowContrast",(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;try{if(e.isDummyElement)return;if(t&&o){if("light_bg"===o.highlight)return void(t.style.backgroundColor="rgb(255, 255, 255)");if("dark_bg"===o.highlight)return void(t.style.backgroundColor="rgb(34, 34, 34)")}var r=!1,a=t.style.backgroundColor;if(i||(a="rgb(".concat(n._getCssVarVal(n._wrapperEl,"--highlight-layer-bg-color","255, 255, 255"),")")),a){var s=new l.a(a);if(s){var u=$(e).find(":visible").add(e);if(u){var c=$(e).parent();c&&(c=c[0]);var h=n;u.each((function(){var n=1,a=$(this).css("opacity");a&&(n=Number(a));var u=1,p=window.getComputedStyle(this,":before"),d="none"!=p.getPropertyValue("content");if(d){var f=p.getPropertyValue("opacity");f&&(u=Number(f))}var g=1,m=window.getComputedStyle(this,":after"),_="none"!=m.getPropertyValue("content");if(_){var w=m.getPropertyValue("opacity");w&&(g=Number(w))}var C=!!this.firstChild&&"svg"===$(this.firstChild).prop("tagName"),S=d&&u>0||_&&g>0;if(this.firstChild&&(this.firstChild.nodeType===Node.TEXT_NODE||C)&&n>0||S){var O=this.textContent,k=$(this).css("color");if(!O&&S&&(d?k=p.getPropertyValue("color"):_&&(k=m.getPropertyValue("color"))),k){var x=new l.a(k);if(x){for(var P={r:0,g:0,b:0,a:0},L=this;L&&L!=c;){var E=$(L).css("background-color");if(E){var T=new l.a(E);if(T&&(T.alpha()&&(P=v(y(T),P)),P.a>.9))break}(L=$(L).parent())&&(L=L[0])}if(P.a<.9){var I=b(v(y(s),P)).luminosity(),j=x.luminosity();if(Math.abs(I-j)<.3){var B;if(!i)return B=s.isDark()?"rgb(255, 255, 255)":"rgb(34, 34, 34)",t.style.backgroundColor=B,h._fixTargetLowContrast(t,e,!0,o),void(r=!0);$(this).addClass("dp-intro-color-adjusted"),$(this).data("init-color")||$(this).attr("data-init-color",k),s.isDark()?$(this).css("color",x.lighten(.5).rgb().toString()):$(this).css("color",x.darken(.5).rgb().toString())}}}}}}))}}!t.style.backgroundColor||i||r||n._removeInlineProp(t,"background-color")}}catch(t){console.warn("Exception thrown in _fixTargetLowContrast",t.stack)}})),Object(a.a)(this,"_bulletClickCallback",(function(t){t&&t.target&&!n._options.disable_navigation_by_bullets&&n.goToStep(t.target.getAttribute("data-stepnumber"))})),Object(a.a)(this,"_getFixedTooltipOffset",(function(){if(n.isFixedTooltipBottomTheme()){var t=$(n.tooltipLayer);if(t){if(t.hasClass("".concat(_.tooltip,"--on-top")))return{top:t.outerHeight(),bottom:0};var e=0,i=$(n.bulletsLayer);if(i&&i.length){var o=parseFloat(i.css("top"));isNaN(o)&&(o=0),e=o+i.outerHeight()}return{top:e,bottom:t.outerHeight()}}}return{top:0,bottom:0}})),Object(a.a)(this,"_getFlyingObjectsBB",(function(t,e,i){return n.isFixedTooltipBottomTheme()?t:"element"===scrollTo?c.a.mergeBoundingBoxes(t,i):"tooltip"===scrollTo?e:c.a.mergeBoundingBoxes(t,e,i)})),Object(a.a)(this,"_getScrollOffset",(function(t,e){if("off"!==t&&n._options.scrollToElement&&!e.isDummyElement&&!e.isFixedPosition){var i=e.element,o=n._getWinSize(),r=n._getFixedTooltipOffset(),a=o.height-(r.top+r.bottom),s=c.a.getElBoundingBox(i),l=c.a.getElBoundingBox(n.tooltipLayer),u=!0===n._options.showStepNumbers?c.a.getElBoundingBox(n.tooltipNumberLayer):null;if(n.currentFlyingObjectBB=n._getFlyingObjectsBB(s,l,u),n.isFixedTooltipBottomTheme()&&n.bulletsLayer&&($(n.bulletsLayer).removeClass("dpintro-bullets--hidden"),!e.isDummyElement)){var h=c.a.getElBoundingBox(n.bulletsLayer);n.currentFlyingObjectBB.top<h.bottom+10&&$(n.bulletsLayer).addClass("dpintro-bullets--hidden")}var p=n.getBottomScrollOffset(n.currentFlyingObjectBB,s,l,a,r,$(n.tooltipLayer).hasClass("".concat(_.tooltip,"--on-top"))),d=n.currentFlyingObjectBB.left-(o.width/2-n.currentFlyingObjectBB.width/2);n.currentFlyingObjectBB.width-10>o.width&&(l.left>s.right?d=n.currentFlyingObjectBB.right-o.width+20:l.right<s.left&&(d=n.currentFlyingObjectBB.left-20));var f=$(document).width()-o.width,g=$(document).height()-o.height;return{x:Math.max(0,Math.min(d,f)),y:Math.max(0,Math.min(p,g))}}return null})),Object(a.a)(this,"_scrollTo",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?$("html").animate({scrollLeft:t.x,scrollTop:t.y},n._options.scrollDurationMsOverride>=0?n._options.scrollDurationMsOverride:n._calculateScrollTimeToTargetEl(t),n._options.scrollEasing,(function(){n._afterScrollOnNewElement(e)})):n._afterScrollOnNewElement(e)})),Object(a.a)(this,"_afterScrollOnNewElement",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.tooltipReferenceLayer&&!n.ending){var e=n._introItems[n._currentStep];if(n._lastShownItem=e,!n._checkTargetPosition(e,t))return;$(n.overlayLayer).css("opacity",n._options.overlayOpacity),n.tooltipNumberLayer&&(n.tooltipNumberLayer.style.opacity=1),n.tooltipLayer.style.opacity=1;var i=n.isFixedTooltipBottomTheme();if(i&&n._removeClass(n.tooltipLayer,"hidden"),n._options.controlsAutoFocusEnable){var o,r=null;switch(n._activeControl){case"next":r=n.buttonNextLayer;break;case"back":r=n.buttonPrevLayer;break;case"skip":r=n.buttonSkipLayer}null===(o=r)||void 0===o||o.focus()}var a=$(n._mainElement).hasClass("".concat(_.main,"--on-top"));n.emitter.emit(w.onAfterChange,n,e,{isFixedTooltipTheme:i,isFixedTooltipOnTop:a&&i}),n._options.disableDelayedAfterCheckPosition||setTimeout((function(){n._checkTargetPosition(e,t)}),300)}})),Object(a.a)(this,"_removeShowElement",(function(){n._removePossiblyChangingPositionClassSafe("dpintro-fix-parent","fix-parent","dpintro-fixed-position"),n._removePossiblyChangingPositionClassSafe("dpintro-relative-position","rel-pos"),n._resetInlineStyle(),$(".dpintro-show-el-admin-menu").removeClass("dpintro-show-el-admin-menu");var t=document.querySelectorAll(".dpintro-show-element");n._forEach(t,(function(t){var e=t===n.dummyElement;if(t.className&&"string"==typeof t.className){var i=t.className&&t.className.split(/\s+/);i&&i.length&&i.forEach((function(e){e.startsWith("dpintro-")&&$(t).removeClass(e)}))}e&&$(t).addClass("dpintro-dummyelement")}))})),Object(a.a)(this,"_setShowElement",(function(t){var e;if(t!==n.dummyElement){if(t instanceof SVGElement)for(e=t.parentNode;null!==t.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&(n._addClass(e,"dpintro-show-element"),n._addPossiblyChangingPositionClassSafe($(e),"dpintro-relative-position","rel-pos")),e=e.parentNode;n._addClass(t,"dpintro-show-element");var i=n._getPropValue(t,"position");"absolute"!==i&&"relative"!==i&&"fixed"!==i&&n._addPossiblyChangingPositionClassSafe($(t),"dpintro-relative-position","rel-pos"),e=t.parentNode;for(var o=!1,r=null;null!==e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var a=n._getPropValue(e,"z-index"),s=parseFloat(n._getPropValue(e,"opacity")),l=n._getPropValue(e,"filter"),u=n._getPropValue(e,"transform")||n._getPropValue(e,"-webkit-transform")||n._getPropValue(e,"-moz-transform")||n._getPropValue(e,"-ms-transform")||n._getPropValue(e,"-o-transform");if(/[0-9]+/.test(a)||s<1||l||"none"!==u&&void 0!==u){var c=["dpintro-fix-parent"],h=n._getPropValue(e,"position");"fixed"===h&&c.push("dpintro-fixed-position"),"fixed"!==h&&"absolute"!==h||(o=!0,r=e),n._addPossiblyChangingPositionClassSafe($(e),c.join(" "),"fix-parent")}e=e.parentNode}o?($(n.highlightLayer).addClass("".concat(_.highlight,"--fixed-pos")),r&&$(r).find(".dpintro-fix-parent").addClass("dpintro-fixed-position")):$(n.highlightLayer).removeClass("".concat(_.highlight,"--fixed-pos"))}})),Object(a.a)(this,"_addPossiblyChangingPositionClassSafe",(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fix";if(t.length){var o=n.isFollowTargetPositionEnabled;n.isFollowTargetPositionEnabled=!1;var r=t[0],a=t.offset();t.addClass(e);var s=t.offset(),l=!1;Math.abs(s.top-a.top)>1&&(t.attr("data-".concat(i,"-inline-top"),r.style.top),l=!0),Math.abs(s.left-a.left)>1&&(t.attr("data-".concat(i,"-inline-left"),r.style.left),l=!0),l&&(t.attr("data-".concat(i,"-inline-position"),r.style.position),t.offset(a)),n.isFollowTargetPositionEnabled=o}})),Object(a.a)(this,"_restoreInlineStyleAfterAddingPossiblyChangingPositionClass",(function(t,e,i){var o="data-".concat(e,"-inline-").concat(i);if(t.hasAttribute(o)){var r=n.isFollowTargetPositionEnabled;n.isFollowTargetPositionEnabled=!1,$(t).css(i,t.getAttribute(o)),t.removeAttribute(o),n.isFollowTargetPositionEnabled=r}})),Object(a.a)(this,"_removePossiblyChangingPositionClassSafe",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fix",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=n.isFollowTargetPositionEnabled;n.isFollowTargetPositionEnabled=!1;var r=document.querySelectorAll("."+t);n._forEach(r,(function(o){n._removeClass(o,t),i&&n._removeClass(o,i),n._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,e,"left"),n._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,e,"top"),n._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,e,"width"),n._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,e,"height"),n._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,e,"position")})),n.isFollowTargetPositionEnabled=o})),Object(a.a)(this,"_forEach",(function(t,e,i){if(t)for(var o=0,r=t.length;o<r;o++)e(t[o],o);"function"==typeof i&&i()})),Object(a.a)(this,"_addClass",(function(t,e){if(t)if(t instanceof SVGElement){var i=t.getAttribute("class")||"";t.setAttribute("class",i+" "+e)}else if(void 0!==t.classList){var o=e.split(" ");n._forEach(o,(function(e){t.classList.add(e)}))}else t.className.match(e)||(t.className+=" "+e)})),Object(a.a)(this,"_removeClass",(function(t,e){if(t instanceof SVGElement){var i=t.getAttribute("class")||"";t.setAttribute("class",i.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")})),Object(a.a)(this,"_getPropValue",(function(t,e){var i="";return t.currentStyle?i=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),i&&i.toLowerCase?i.toLowerCase():i})),Object(a.a)(this,"_isFixed",(function(t){var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"===n._getPropValue(t,"position")||n._isFixed(e))})),Object(a.a)(this,"_getWinSize",(function(){var t=$("body");if(t)return{width:t.innerWidth(),height:window.innerHeight};if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}})),Object(a.a)(this,"addOverlayLayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n._mainElement.querySelector("."+_.overlay)||(n.overlayContainer=document.createElement("div"),n.overlayContainer.className=e?_.overlayContainer+" "+_.overlayContainer+_.overlayBlurredModifier:_.overlayContainer,n.overlayLayer=document.createElement("div"),n.overlayLayer.className=e?_.overlay+" "+_.overlay+_.overlayBlurredModifier:_.overlay,n.overlayContainer.appendChild(n.overlayLayer),n._mainElement.appendChild(n.overlayContainer),t||window.setTimeout((function(){n.overlayLayer.style.cssText="opacity: "+n._options.overlayOpacity.toString()+";"}),10)),!0})),Object(a.a)(this,"_getScrollParent",(function(t){var e=window.getComputedStyle(t),i="absolute"===e.position,o=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var r=t;r=r.parentElement;)if(e=window.getComputedStyle(r),(!i||"static"!==e.position)&&o.test(e.overflow+e.overflowY+e.overflowX))return r;return document.body})),Object(a.a)(this,"_scrollParentToElement",(function(t,e){var i=t.getBoundingClientRect(),o=e.getBoundingClientRect();(o.top-40<i.top||o.bottom+40>i.bottom)&&(t.scrollTop+=o.top-40),(o.left-40<i.left||o.right+40>i.right)&&(t.scrollLeft+=o.left-40),n._options.dpDebugEn&&console.log("Scrolling inside parent container:",{parentPos:i,childPos:o})})),Object(a.a)(this,"_getProgress",(function(){return parseInt(n._currentStep+1,10)/(n._introItems.length-n.getNotVisibleStepCnt(_.bullets))*100})),this.VERSION="1.0.1",i&&console.log("DPIntroCore "+this.VERSION),this._mainElement=e;var s=$(this._mainElement).closest(".dpintro-wrapper");this._wrapperEl=s.length?s[0]:null,this._introItems=[],this._activeControl="next",this._lastShownItem=null,this.document_width=$("body").innerWidth(),this.document_height=$(document).height(),this.isFollowTargetPositionEnabled=!0,this.emitter=m(),this._movingTime=parseInt(this._getCssVarVal(this._wrapperEl,"--moving-transition-time-ms",300))+80,this._options={dpDebugEn:i,nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hide_previous_step_button:!1,disable_navigation_by_bullets:!1,hideNextAlways:!1,hidePrev:!0,hideNext:!0,hide_skip_button:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,tooltipDistanceFromTarget:3,tooltipMinMarginX:10,arrowAlignNormCoef:.07,scrollTo:"all",scrollPadding:30,overlayOpacity:.8,overlayOpacityCoefWhenScroll:.6,overlayBlurred:!1,positionPrecedence:["bottom","top","right","left","center"],enable_interaction:"1",helperElementPadding:15,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:_.button,controlsAutoFocusEnable:!0,centerTopBottomPosOffset:80,scrollSpeedPerPageMs:300,maxScrollSpeedPerPageMs:550,disableDelayedAfterCheckPosition:!1,max_tooltip_width:0,leave_overlay_always:!1,customTextStylesEn:!0,scrollEasing:"swing",scrollDurationMsOverride:-1},jQuery.fn.onOffsetOrDimensionChanged=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;null!==(e=o)&&void 0!==e||(o=10);var r=$(this[0]);if(r.length<1)return r;var n=null,a=null,s=null;return r.interval=setInterval((function(){var e,o,l;if(null==r||r.length<1)return r;r.hasClass("dpintro-show-element")||clearInterval(r.interval),null!==(e=n)&&void 0!==e||(n=r.offset()),null!==(o=a)&&void 0!==o||(a=r.width()),null!==(l=s)&&void 0!==l||(s=r.height());var u=r.offset(),c=r.width(),h=r.height();(Math.abs(n.top-u.top)>i||Math.abs(n.left-u.left)>i||Math.abs(a-c)>i||Math.abs(s-h)>i)&&($(this).trigger("onOffsetOrDimensionChanged",{source:r[0],lastOff:n,newOff:u,lastWidth:a,newWidth:c,lastHeight:s,newHeight:h}),"function"==typeof t&&t(r[0],n,u,a,c,s,h),n=u,a=c,s=h)}),o),r}}return Object(n.a)(t,[{key:"initSteps",value:function(){var t=this,e=[];this._options.steps&&(this._forEach(this._options.steps,(function(i){var o=t._cloneObject(i);o.step=e.length+1,o.selector=o.element,t._actualizeStepElement(o,!1),o.scrollTo=o.scrollTo||t._options.scrollTo,void 0===o.enable_interaction&&(o.enable_interaction={val:t._options.enable_interaction}),null!==o.element&&e.push(o)})),this._showIntroElements());for(var i=[],o=0;o<e.length;o++)e[o]&&i.push(e[o]);return(e=i).sort((function(t,e){return t.step-e.step})),e}},{key:"setOptions",value:function(t){this._options=g(g({},this._options),t)}},{key:"nextStepOnLastStep",value:function(){this._exitIntro("complete")}},{key:"_exitIntro",value:function(t){this.exitIntro(!1,!1,t)}},{key:"subscribeEvent",value:function(t,e){if("function"!=typeof e)throw new Error("Provided callback for ".concat(t," was not a function."));if(!(t in w))throw new Error("Provided event name ".concat(t," was not recognized. Choose from: ").concat(w.values().join(",")));this.emitter.on(t,e)}},{key:"activateBullet",value:function(t,e,i){$(".".concat(e," li > div.active")).removeClass("active"),$(".".concat(e,' li > div[data-stepnumber="').concat(i,'"]')).addClass("active")}},{key:"setNotVisibleRefBullet",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i?$(".".concat(t,' li > div[data-stepnumber="').concat(e,'"]')).addClass("not-visible-ref"):$(".".concat(t,' li > div[data-stepnumber="').concat(e,'"]')).removeClass("not-visible-ref")}},{key:"getNotVisibleStepCnt",value:function(t){return $(".".concat(t," li > div.not-visible-ref")).length}},{key:"_onKeyDown",value:function(t){if(this._options.keyboardNavigation){var e,i,o=null!==(e=t.key)&&void 0!==e?e:t.keyCode,r=this.isHideNextByCurrentStepMeta();null!==(i=o)&&void 0!==i||(o=t.charCode);var n=this._introItems.length-1===this._currentStep;if("Escape"!==o&&27!==o||!0!==this._options.exitOnEsc){if("ArrowLeft"===o||37===o)this._options.hide_previous_step_button||this.previousStep();else if("ArrowRight"===o||39===o)this._options.hideNextAlways||n||r||this.nextStep();else if("Enter"===o||13===o){var a=t.target||t.srcElement;a!==this.buttonPrevLayer||this._options.hide_previous_step_button?a===this.buttonSkipLayer?this._exitIntro("complete"):a&&a.getAttribute("data-stepnumber")?a.click():this._options.hideNextAlways||n||r||this.nextStep():this.previousStep(),t.preventDefault?t.preventDefault():t.returnValue=!1}}else this._exitIntro("skip")}}},{key:"_disableInteraction",value:function(){this.disableInteractionLayer||(this.disableInteractionLayer=document.createElement("div"),this.disableInteractionLayer.className=_.disableInteraction,this._mainElement.appendChild(this.disableInteractionLayer)),this.updateIterateAfter(this._introItems[this._currentStep]),this._setLayerPosition(this.disableInteractionLayer)}},{key:"_enableInteraction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disableInteractionLayer&&(this.disableInteractionLayer.parentNode.removeChild(this.disableInteractionLayer),this.disableInteractionLayer=null),this.updateIterateAfter(this._introItems[this._currentStep],t)}},{key:"_isInteractionEnabled",value:function(){return!this.disableInteractionLayer}},{key:"updateIterateAfter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateIterateAfterClick(t,e),this.updateIterateAfterHover(t,e)}},{key:"updateIterateAfterClick",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.element&&$(t.element).off("click",this.iterateAfterClick).removeClass("dpintro-show-element--click"),!e&&this.isIterateAfterClick(t)&&$(t.element).on("click",this.iterateAfterClick).addClass("dpintro-show-element--click")}},{key:"isIterateAfterClick",value:function(t){var e;return t&&t.element&&"1"==t.enable_interaction.val&&!t.isDummyElement&&"1"==(null===(e=t.enable_interaction.ext)||void 0===e?void 0:e.iterate_after_click)}},{key:"updateIterateAfterHover",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.element&&$(t.element).off("mouseenter",this.iterateAfterHover).removeClass("dpintro-show-element--hover"),!e&&this.isIterateAfterHover(t)&&$(t.element).on("mouseenter",this.iterateAfterHover).addClass("dpintro-show-element--hover")}},{key:"isIterateAfterHover",value:function(t){var e;return t&&t.element&&"1"==t.enable_interaction.val&&!t.isDummyElement&&"1"==(null===(e=t.enable_interaction.ext)||void 0===e?void 0:e.iterate_after_hover)}},{key:"isHideNextByCurrentStepMeta",value:function(){var t,e=this._introItems[this._currentStep];return e&&e.element&&"1"==e.enable_interaction.val&&!e.isDummyElement&&"1"==(null===(t=e.enable_interaction.ext)||void 0===t?void 0:t.hide_next_btn)}},{key:"_isMobileSize",value:function(){var t=this._getWinSize();return this._options.mobileBreakpoints&&t.width<=this._options.mobileBreakpoints.mobile}},{key:"_shouldBeStepSkipped",value:function(t,e){var i=!1;return!this._options.skip_absent_ref_el||!(t.selector||e&&t.alt_mobile_selector)||t.element&&$(t.element).is(":visible")||(i=!0),i}},{key:"_isElementHidden",value:function(t){return null===t.offsetParent}},{key:"_actualizeTargetPosition",value:function(t,e){var i=this;this.highlightLayer&&this.tooltipReferenceLayer&&(this._trackingTargetInProgress=!0,this.highlightLayer.style.opacity=.35,this.tooltipReferenceLayer.style.opacity=.35,this._setLayerPosition(this.highlightLayer),this._setLayerPosition(this.tooltipReferenceLayer),this._placeTooltip(t,this.highlightLayer,this.tooltipLayer,this.arrowLayer,this.tooltipNumberLayer),t.targetMovedTimer&&clearTimeout(t.targetMovedTimer),t.targetMovedTimer=setTimeout((function(){i._setLayerPosition(i.highlightLayer),i._setLayerPosition(i.tooltipReferenceLayer),i._placeTooltip(t,i.highlightLayer,i.tooltipLayer,i.arrowLayer,i.tooltipNumberLayer),i.highlightLayer.style.opacity=1,i.tooltipReferenceLayer.style.opacity=1,i._trackingTargetInProgress=!1,i._checkTargetPosition(t,e)}),400))}},{key:"getStartStepIdx",value:function(){return this.startStep?this.startStep:0}},{key:"getEndStepIdx",value:function(){return this.endStep?this.endStep:this._introItems.length-1}},{key:"_removeInlineProp",value:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)}},{key:"_initLayers",value:function(t,e){var i=this;this.highlightLayer=document.createElement("div"),this.highlightLayer.className=e,this.inHighlightLayerAnimation=new d.a("."+e,"in-highlight-bullets-anim",[_.bullets,"".concat(_.bullets,"--in-highlight")],3,100),this._mainElement.appendChild(this.highlightLayer),this.tooltipReferenceLayer=document.createElement("div"),this.tooltipReferenceLayer.className=_.tooltipReference,this._mainElement.appendChild(this.tooltipReferenceLayer),this.tooltipLayer=document.createElement("div"),this.tooltipLayer.style.opacity=0,this._options.max_tooltip_width&&!isNaN(this._options.max_tooltip_width)&&(this.tooltipLayer.style.maxWidth=this._options.max_tooltip_width+"px"),this.tooltipLayer.className=_.tooltip,this.tooltipReferenceLayer.appendChild(this.tooltipLayer),this.tooltipTextLayer=document.createElement("div"),this.tooltipTextLayer.className=_.tooltipText,this.tooltipTextLayer.innerHTML=t.intro,this.tooltipLayer.appendChild(this.tooltipTextLayer),this.arrowLayer=document.createElement("div"),this.arrowLayer.className=_.arrow,this.tooltipLayer.appendChild(this.arrowLayer),this.progressLayer=document.createElement("div"),this.progressLayer.className=_.progress,!1===this._options.showProgress&&(this.progressLayer.style.display="none"),this.progressBarLayer=document.createElement("div"),this.progressBarLayer.className=_.progressBar,this.progressBarLayer.setAttribute("role","progress"),this.progressBarLayer.setAttribute("aria-valuemin",0),this.progressBarLayer.setAttribute("aria-valuemax",100),this.progressBarLayer.setAttribute("aria-valuenow",this._getProgress()),this.progressBarLayer.style.cssText="width:"+this._getProgress()+"%;",this.progressLayer.appendChild(this.progressBarLayer),this.tooltipLayer.appendChild(this.progressLayer),this.bulletsLayer=this.createBullets(_.bullets,this._options.showBullets,!0,t.step-1,this._bulletClickCallback),this.tooltipLayer.appendChild(this.bulletsLayer),this.tooltipButtonsLayer=document.createElement("div"),this.tooltipButtonsLayer.className=_.tooltipButtons,!1===this._options.showButtons&&(this.tooltipButtonsLayer.style.display="none"),this.tooltipLayer.appendChild(this.tooltipButtonsLayer),this.tooltipNumberLayer=null,this.tooltipNumberLayer=document.createElement("div"),this.tooltipNumberLayer.style.opacity=0,this.tooltipNumberLayer.className=_.tooltipNumber+" dpintro-hidden-by-opacity",this.tooltipNumberLayer.innerHTML=t.step,this.tooltipReferenceLayer.appendChild(this.tooltipNumberLayer),!0!==this._options.showStepNumbers&&$(this.tooltipNumberLayer).addClass("dpintro-hidden-by-opacity"),this.buttonNextLayer=document.createElement("div"),this.buttonNextLayer.className=[_.button,_.buttonNext].join(" "),this.buttonNextLayer.onclick=this.goToNextStep.bind(this),this._setAnchorAsButton(this.buttonNextLayer),this.buttonNextLayer.innerHTML=this._options.nextLabel,this.buttonPrevLayer=document.createElement("div"),this.buttonPrevLayer.className=[_.button,_.buttonPrev].join(" "),this.buttonPrevLayer.onclick=this.goToPreviousStep.bind(this),this._setAnchorAsButton(this.buttonPrevLayer),this.buttonPrevLayer.innerHTML=this._options.prevLabel,this.buttonSkipLayer=document.createElement("div"),this.buttonSkipLayer.className=[_.button,_.buttonSkip].join(" "),this._setAnchorAsButton(this.buttonSkipLayer),this.buttonSkipLayer.innerHTML=this._options.skipLabel,this.buttonSkipLayer.onclick=function(){i.onSkipButtonClick()},this.tooltipButtonsLayer.appendChild(this.buttonSkipLayer),this._introItems.length>=1&&(this.tooltipButtonsLayer.appendChild(this.buttonPrevLayer),this.tooltipButtonsLayer.appendChild(this.buttonNextLayer)),this.refreshStepNumber(),this.emitter.emit(w.onLayersInit,this)}},{key:"onSkipButtonClick",value:function(){this._exitIntro("skip")}},{key:"refreshStepNumber",value:function(){!0===this._options.showStepNumbers&&this._introItems.length>1?$(this.tooltipNumberLayer).removeClass("dpintro-hidden-by-opacity"):$(this.tooltipNumberLayer).addClass("dpintro-hidden-by-opacity")}},{key:"goToPreviousStep",value:function(){return 0!==this._currentStep&&(this.previousStep(),!0)}},{key:"goToNextStep",value:function(){return this._introItems.length-1!==this._currentStep&&(this.nextStep(),!0)}},{key:"_fixButtonFont",value:function(){var t=$("."+this._options.buttonClass);if(t&&t.length){var e=t.css("font-family");e&&e.startsWith('"Martel Sans"')?t.addClass("".concat(this._options.buttonClass,"--higher-top-padding")):t.removeClass("".concat(this._options.buttonClass,"--higher-top-padding"))}}},{key:"getBottomScrollOffset",value:function(t,e,i,o,r,n){var a=this.isFixedTooltipBottomTheme(),s=t.top-(o/2-t.height/2);return!a&&t.height-10>o&&(i.top>e.bottom?s=t.bottom-o+20:i.bottom<e.top&&(s=t.top-20)),a&&(s-=r.top),n&&(s-=r.bottom),s}},{key:"_calculateScrollTimeToTargetEl",value:function(t){var e=this._getWinSize(),i=$(window).scrollLeft(),o=$(window).scrollTop(),r=Math.max(Math.abs(i-t.x),Math.abs(o-t.y));return Math.round(Math.min(this._options.maxScrollSpeedPerPageMs,Math.max(350,r/e.height*this._options.scrollSpeedPerPageMs)))}},{key:"_checkTargetPosition",value:function(t,e){var i=!0;if(this._autoPosCorrectionRepetition<3&&!this._trackingTargetInProgress){var o=this._isMobileSize();if(this._shouldBeStepSkipped(t,o))this._showElement(this._introItems[this._currentStep],e,!0,!1),i=!1;else{var r=this._checkTargetPositionScroll(t),n=this._checkTargetPositionBBRatio(t);if(!(i=r&&n)){if(this.currentFlyingObjectBB){var a=this._getWinSize(),s=c.a.boundingBox2RelativeScrollPos(this.currentFlyingObjectBB);if(s.top>=0&&s.left>=0&&s.bottom<a.height&&s.right<a.width)return!r&&n||(this._setLayerPosition(this.highlightLayer),this._setLayerPosition(this.tooltipReferenceLayer),this._placeTooltip(t,this.highlightLayer,this.tooltipLayer,this.arrowLayer,this.tooltipNumberLayer)),!0}this._showElement(this._introItems[this._currentStep],e,!0,!1)}}}return i}},{key:"_checkTargetPositionBBRatio",value:function(t){if(!t.isDummyElement){var e=c.a.getElBoundingBox(t.element,!0),i=this._options.helperElementPadding/2,o=c.a.actualizeHeightAndWidthInBoundingBox({top:Math.max(e.top-i,0),left:Math.max(e.left-i,0),bottom:Math.min(e.bottom+i,$(document).innerHeight()),right:Math.min(e.right+i,$(window).innerWidth())}),r=c.a.getElBoundingBox(this.highlightLayer,!0),n=c.a.intersectBoundingBoxes(o,r),a=o.height*o.width;if(n.height*n.width/a<.9)return!1}return!0}},{key:"_checkTargetPositionScroll",value:function(t){var e=this._getScrollOffset(t.scrollTo,t);if(e){var i=Math.abs($(window).scrollLeft()-e.x),o=Math.abs($(window).scrollTop()-e.y);if(i>10||o>10)return!1}return!0}},{key:"_clearContrastAdjustment",value:function(){$(".dp-intro-color-adjusted").each((function(t,e){$(e).css("color",$(e).data("init-color")),$(e).removeClass("dp-intro-color-adjusted")}))}},{key:"_setInlineStyle",value:function(t,e){t&&($(t).addClass("dpintro-inline-style-adjusted"),t.style.cssText&&t.setAttribute("data-style-bkp",t.style.cssText),Object.keys(e).forEach((function(i){t.style.cssText&&";"!=t.style.cssText[t.style.cssText.length-1]&&(t.style.cssText+=";"),t.style.cssText+="".concat(i,":").concat(e[i],";")})))}},{key:"_resetInlineStyle",value:function(){$(".dpintro-inline-style-adjusted").each((function(t,e){var i=$(e).data("style-bkp");e.style.cssText=i||"",$(e).removeClass("dpintro-inline-style-adjusted")}))}}]),t}()},17:function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return l})),i.d(e,"b",(function(){return u}));var o=i(0),r=i(3);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var a=function(t,e){t.dpDebugEn&&console.log("builder config:",t);var i=new URL(window.location),a=t.queryParamsDefs,s=r.a.getDpUrlParam("dp_qp_tour_id",a,i),l=r.a.getDpUrlParam("dp_qpb_create_new",a,i),u=r.a.getDpUrlParam("dp_qpb_builder_mode",a,i);if(t.tours&&t.tours.length||"3"===u){var c=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t);delete c.tours,c.builderOrigin=r.a.getDpUrlParam("dp_qpb_builder_origin",a,i),c.builderMode=u,c.originHashId=r.a.getDpUrlParam("dp_qpb_origin_el_id",a,i),c.triggerId=r.a.getDpUrlParam("dp_qp_trigger_id",a,i)||0,c.initState=r.a.getDpUrlParam("dp_qpb_init_state",a,i),c.inNewWindow="1"===r.a.getDpUrlParam("dp_qpb_in_new_window",a,i),c.mobileAltStepMode=r.a.getDpUrlParam("dp_qpb_mobile_alt_step_mode",a,i);var h="mobile_menu"===c.mobileAltStepMode?500:0;setTimeout((function(){"3"===u?e(c,null):t.tours.forEach((function(t){(l&&t.createNew||t.tourId==s)&&e(c,t)}))}),h)}},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return $(t)}catch(t){return e}},l=function(){try{return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}catch(t){return!1}},u=function(t,e){return e[t]?e[t]:t}},19:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var o=i(13),r=i(2),n=i(4),a=i(0),s=i(10),l=i.n(s),u=function(){function t(e){Object(r.a)(this,t),e.dpDebugEn&&console.log("AdminThemeColors")}return Object(n.a)(t,null,[{key:"getContrastColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["#fff","#484848"],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["#292929"],r=[];return e.forEach((function(e){var i=l()(e);r.push({color:i,contrast:l()(t).contrast(i)})})),r.sort((function(t,e){return e.contrast-t.contrast})),r.length?(r[0].contrast<i&&(o.forEach((function(e){var i=l()(e);r.push({color:i,contrast:l()(t).contrast(i)})})),r.sort((function(t,e){return e.contrast-t.contrast}))),r[0].color):e[0]?l()(e[0]):o[0]?l()(o[0]):l()("#fff")}},{key:"getMostColor",value:function(e,i){var r=null;if(e){var n=Object(o.a)(e);n.sort((function(e,o){return t.compareColorsByRgbHue(i,e,o)})),r=n[0]}return r}}]),t}();Object(a.a)(u,"getRgbHueFeature",(function(t,e){switch(t){case"r":return e.red()+(e.red()-e.green())+(e.red()-e.blue());case"g":return e.green()+(e.green()-e.red())+(e.green()-e.blue());case"b":return e.blue()+(e.blue()-e.red())+(e.blue()-e.green())}})),Object(a.a)(u,"compareColorsByRgbHue",(function(t,e,i){return u.getRgbHueFeature(t,i)-u.getRgbHueFeature(t,e)}))},20:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var o=i(2),r=i(4),n=function(){function t(e,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;Object(o.a)(this,t),this.containerSelector=e,this.bulletsClasses=r,this.id=i,this.count=n,this.clockPeriodMs=a}return Object(r.a)(t,[{key:"createAndRun",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=$(e||this.containerSelector);if(i&&i.length){var o=i.find("#".concat(this.id));if(o&&o.length)o.removeClass("inactive");else{var r=this.createBullets(this.count);i[0].appendChild(r)}t?this.startReloadingSpinnerBack():this.startReloadingSpinner()}}},{key:"createBullets",value:function(t){var e=document.createElement("div");$(e).addClass(this.bulletsClasses.join(" ")),e.id=this.id,e.style.opacity=0,e.style.display="block";for(var i=document.createElement("ul"),o=0;o<t;o++){var r=document.createElement("li"),n=document.createElement("div");r.appendChild(n),i.appendChild(r)}return e.appendChild(i),e.style.opacity=1,e}},{key:"activateBullet",value:function(t){$("#".concat(this.id," li > div")).removeClass("active"),$("#".concat(this.id," li > div")).removeClass("semi-active"),$("#".concat(this.id," li:nth-child(").concat(t,") > div")).addClass("active semi-active"),$("#".concat(this.id," li:nth-child(").concat(t-1,") > div")).addClass("active"),$("#".concat(this.id," li:nth-child(").concat(t-2,") > div")).addClass("active semi-active")}},{key:"destroy",value:function(){var t=this;$("#".concat(this.id)).addClass("inactive"),$("#".concat(this.id," li > div")).removeClass("active"),$("#".concat(this.id," li > div")).removeClass("semi-active"),this.bulletHideTimeout=setTimeout((function(){t.spinnerInterval&&clearInterval(t.spinnerInterval)}),1e3)}},{key:"startReloadingSpinner",value:function(){var t=this,e=0;this.spinnerInterval&&clearInterval(this.spinnerInterval),this.bulletHideTimeout&&clearTimeout(this.bulletHideTimeout),this.spinnerInterval=setInterval((function(){t.activateBullet(e),++e>t.count+2&&(e=0)}),this.clockPeriodMs)}},{key:"startReloadingSpinnerBack",value:function(){var t=this;this.spinnerInterval&&clearInterval(this.spinnerInterval),this.bulletHideTimeout&&clearTimeout(this.bulletHideTimeout);var e=this.count+2;this.spinnerInterval=setInterval((function(){t.activateBullet(e),--e<0&&(e=t.count+2)}),this.clockPeriodMs)}}]),t}()},3:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var o=i(0),r=i(2),n=i(4),a=i(22),s=i.n(a),l=i(12),u=i.n(l);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p=function(){function t(e){Object(r.a)(this,t),e.dpDebugEn&&console.log("DPIncUtils")}return Object(n.a)(t,null,[{key:"isVariableUrl",value:function(t){var e=t.indexOf("{"),i=t.indexOf("}");return e>=0&&i>e}},{key:"fillUrlVariables",value:function(t,e){return t&&e&&Object.keys(t).forEach((function(i){e=s()(e,"{".concat(i,"}"),t[i])})),e}},{key:"simpleObjectToStr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",o="";return t&&Object.keys(t).forEach((function(r,n){0!=n&&(o+=e),o+="".concat(r).concat(i).concat(t[r])})),o}},{key:"strToSimpleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",o={};if(t){var r=t.split(e);r&&r.forEach((function(t){var e=t.split(i);e&&e.length>=2&&(o[e[0]]=e[1])}))}return o}},{key:"getInfoIconHtml",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return i&&(e='<strong class="info-tip-title">'.concat(i,"</strong>").concat(e)),$('<div class="'.concat(t,'"></div>')).attr("data-info-text",e)}},{key:"strSeparatedLastPart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.split(e);return o&&o.length>0?o[o.length-1]:i}},{key:"strSeparatedFirstPart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.split(e);return o&&o.length>0?o[0]:i}},{key:"filterQMarkWithNoSlash",value:function(t){var e=t.indexOf("?");return e>=0&&(0!==e&&"/"==t[e-1]||(t="".concat(t.substring(0,e),"/").concat(t.substring(e)))),t}},{key:"forceQMarkWithoutSlash",value:function(t){var e=t.indexOf("?");return e>0&&"/"==t[e-1]&&(t=t.substring(0,e-1)+t.substring(e)),t}},{key:"sanitizePossibleRelativeUrl",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.startsWith("/")&&(e=u()(i,e),o&&(e=t.filterQMarkWithNoSlash(e))),e}},{key:"absToRelativeUrl",value:function(t,e){return e&&t.startsWith(e)&&((t=t.substring(e.length)).startsWith("/")||(t="/".concat(t))),t}},{key:"removeURLParameter",value:function(t,e){var i=t.split("?");if(i.length>=2){for(var o="".concat(encodeURIComponent(e),"="),r=i[1].split(/[&;]/g),n=r.length;n-- >0;)-1!==r[n].lastIndexOf(o,0)&&r.splice(n,1);return i[0]+(r.length>0?"?".concat(r.join("&")):"")}return t}},{key:"removeURLParameters",value:function(e,i){var o=i;return Array.isArray(i)||(o=Object.keys(i)),o.forEach((function(o){e=t.removeURLParameter(e,t.getDpUrlParamName(o,i))})),e}},{key:"unifyUrl",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e){if((e=t.strSeparatedLastPart(e,"://",e))&&e.startsWith("www.")&&(e=e.substring(4)),e&&r&&(e=t.strSeparatedFirstPart(e,"#",e)),e&&i?e=t.strSeparatedFirstPart(e,"?",e):o&&(e=t.filterQMarkWithNoSlash(e)),e){var s=/\/+$/;n||(s=/^\/+/g),e=e.replace(s,"")}e&&a&&(e="/".concat(e))}return e||(e="/"),e}},{key:"getDpUrlParamName",value:function(t,e){var i=t;return e&&(i=e[t]),i}},{key:"getDpUrlParam",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=r,a=t.getDpUrlParamName(e,i);return a&&(o||(o=new URL(window.location)),n=o.searchParams.get(a)),n}},{key:"setDpUrlParam",value:function(e,i,o){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n="",a=t.getDpUrlParamName(e,i);return a&&(n=a+"="+o,r&&(n+="&")),n}},{key:"buildDpQueryString",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=o;if(r){var a=Object.keys(r);a.forEach((function(t){null!==r[t]&&void 0!==r[t]&&""!==r[t]&&(n+=t+"="+r[t]+"&")}))}if(e){var s=Object.keys(e);s.forEach((function(o){null!==e[o]&&void 0!==e[o]&&""!==e[o]&&(n+=t.setDpUrlParam(o,i,e[o]))}))}return n&&"&"==n[n.length-1]&&(n=n.substr(0,n.length-1)),n==o&&(n=""),n}},{key:"decodeStepParamAdvancedVal",value:function(t,e,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=null==i?void 0:i[e],a=null==n?void 0:n.ext,s={val:null!=t?t:null==n?void 0:n.defMain,ext:{}};if(null!=t&&t.startsWith("base64__")||a){var l=null;if(null!=t&&t.startsWith("base64__")){var u,c,p=atob(t.substr(8));l=p?JSON.parse(p):null,s.val=null!==(u=null===(c=l)||void 0===c?void 0:c.val)&&void 0!==u?u:null==n?void 0:n.defMain}a&&Object.keys(a).forEach((function(t){var e,i,o,n,u,c,p,d;r?s.ext[t]=null!==(e=null===(i=l)||void 0===i||null===(o=i.ext)||void 0===o?void 0:o[t])&&void 0!==e?e:null===(n=a[t])||void 0===n?void 0:n.def:s.ext[t]=h(h({},a[t]),{},{val:null!==(u=null===(c=l)||void 0===c||null===(p=c.ext)||void 0===p?void 0:p[t])&&void 0!==u?u:null===(d=a[t])||void 0===d?void 0:d.def})}))}else o&&(s=t);return s}},{key:"encodeStepParamAdvancedVal",value:function(t,e,i){var o;return(null==i||null===(o=i[e])||void 0===o?void 0:o.ext)?"base64__"+btoa(JSON.stringify(t)):t}},{key:"initStepParams",value:function(t){var e={};return Object.keys(t).forEach((function(i){var o="";if(t[i]&&(o=t[i].def||"",t[i].ext)){var r={};Object.keys(t[i].ext).forEach((function(e){r[e]=t[i].ext[e].def})),o={val:o,ext:r}}e[i]=o})),e}},{key:"getNthStr",value:function(t){if(!1!==t&&!isNaN(t)){var e="";switch(t){case 1:e="1st";break;case 2:e="2nd";break;case 3:e="3rd";break;default:e="".concat(t,"th")}return e}return""}},{key:"setTextStyles",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=1;if(i>0&&$(window).width()<=i&&(o=.8),e&&t){var r=h({},e);if(Object.keys(r).forEach((function(e){if(r[e]||"0"==r[e]){var i=r[e];e.endsWith("font")||(i=Math.round(o*r[e])+"px"),t.style.setProperty("--".concat(e),i)}else t.style.removeProperty("--".concat(e))})),r.h2_font_size||0==r.h2_font_size&&r.h5_font_size||0==r.h5_font_size)for(var n=(r.h2_font_size-r.h5_font_size)/4,a=1;a<=6;a++)if(2!==a&&5!==a){var s=a-2;t.style.setProperty("--h".concat(a,"_font_size"),Math.round(o*(r.h2_font_size-s*n))+"px")}if(r.h2_mb||0==r.h2_mb&&r.h5_mb||0==r.h5_mb)for(var l=(r.h2_mb-r.h5_mb)/4,u=1;u<=6;u++)if(2!==u&&5!==u){var c=u-2;t.style.setProperty("--h".concat(u,"_mb"),Math.round(o*(r.h2_mb-c*l))+"px")}}}}]),t}()},33:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var o=i(2),r=i(4),n=i(3),a=function(){function t(){Object(o.a)(this,t)}return Object(r.a)(t,null,[{key:"processVisit",value:function(e){t._processVisit(e,"dp_intro_tours.visited_urls"),0!=e.currentUserId&&t._processVisit(e,"dp_intro_tours.visited_urls_logged_in")}},{key:"_processVisit",value:function(e,i){var o=t._getVisitCount(i);o.obj[o.url]=o.count+1,e.dpDebugEn&&console.log("DPUserVisitCounter",o.url,o.count+1),localStorage.setItem(i,JSON.stringify(o.obj))}},{key:"_getVisitCountLocaleStorageId",value:function(t,e){return 0!=t.currentUserId&&e?"dp_intro_tours.visited_urls_logged_in":"dp_intro_tours.visited_urls"}},{key:"_getVisitCount",value:function(t){var e=new URL(window.location),i=n.a.unifyUrl(e.pathname),o=localStorage.getItem(t),r={};if(o&&isNaN(o))try{r=JSON.parse(o)||{}}catch(t){console.error(t)}var a=parseInt(r[i]);return isNaN(a)&&(a=0),{count:a,obj:r,url:i}}},{key:"getVisitCount",value:function(e,i){if(0!=e.currentUserId&&i){var o=parseInt(e.loggedInVisitCnt);return isNaN(o)?0:o}var r=t._getVisitCountLocaleStorageId(e,i);return t._getVisitCount(r).count}}]),t}()},42:function(t,e,i){"use strict";
/**
 * @file A WordPress-like hook system for JavaScript.
 *
 * This file demonstrates a simple hook system for JavaScript based on the hook
 * system in WordPress. The purpose of this is to make your code extensible and
 * allowing other developers to hook into your code with their own callbacks.
 *
 * There are other ways to do this, but this will feel right at home for
 * WordPress developers.
 *
 * @author Rheinard Korf
 * @license GPL2 (https://www.gnu.org/licenses/gpl-2.0.html)
 *
 * @requires underscore.js (http://underscorejs.org/)
 */var o=o||{};o.actions=o.actions||{},o.filters=o.filters||{},o.add_action=function(t,e,i){void 0===i&&(i=10),o.actions[t]=o.actions[t]||[],o.actions[t].push({priority:i,callback:e})},o.add_filter=function(t,e,i){void 0===i&&(i=10),o.filters[t]=o.filters[t]||[],o.filters[t].push({priority:i,callback:e})},o.remove_action=function(t,e){o.actions[t]=o.actions[t]||[],o.actions[t].forEach((function(i,r){i.callback===e&&o.actions[t].splice(r,1)}))},o.remove_filter=function(t,e){o.filters[t]=o.filters[t]||[],o.filters[t].forEach((function(i,r){i.callback===e&&o.filters[t].splice(r,1)}))},o.do_action=function(t,e){var i=[];void 0!==o.actions[t]&&o.actions[t].length>0&&(o.actions[t].forEach((function(t){i[t.priority]=i[t.priority]||[],i[t.priority].push(t.callback)})),i.forEach((function(t){t.forEach((function(t){t(e)}))})))},o.apply_filters=function(t,e,i){var r=[],n=e;return void 0!==o.filters[t]&&o.filters[t].length>0&&(o.filters[t].forEach((function(t){r[t.priority]=r[t.priority]||[],r[t.priority].push(t.callback)})),r.forEach((function(t){t.forEach((function(t){n=t(n,i)}))}))),n},e.a=o},45:function(t,e,i){"use strict";i.d(e,"a",(function(){return D}));var o=i(2),r=i(4),n=i(6),a=i(21),s=i(8),l=i(9),u=i(5),c=i(0),h=i(14),p=i(20),d=i(17),f=function(){function t(){Object(o.a)(this,t)}return Object(r.a)(t,null,[{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),i=t.indexOf("Trident/");return e>0||i>0}}]),t}();Object(c.a)(f,"isSupported",(function(){var t=!f.isIE();return t||console.log("DP Intro Tours: Browser is not supported"),t}));var g=i(10),m=i.n(g),v=i(19),y=i(3),b=i(33);function _(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,n=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw n}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function C(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?C(Object(i),!0).forEach((function(e){Object(c.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var O=function(){function t(e,i){Object(o.a)(this,t),e.dpDebugEn&&(console.log("DPIntroTour"),console.log("jQuery v: "+jQuery.fn.jquery)),this.tourCfg=i,this.mainCfg=e,this.tourId=null,this.tourCfg&&(this.tourCfg.text_styles=S(S({},this.mainCfg.text_styles),this.tourCfg.text_styles),this.tourId=this.tourCfg.tourId),this.currentUrl=new URL(window.location),this.hookOptions={tourId:this.tourId,currentUrl:this.currentUrl},this.shouldInitialize()&&(this.initWrapperLayer(),this.initBulletsAnimation(),this.tourCfg&&(this.updateTheme(),this.initTriggers(),this.initCore(),this.initTour()))}return Object(r.a)(t,[{key:"stepCoreToHookStep",value:function(t){return t?{index:t.step,tooltipContent:t.intro,tooltipPosition:t.position||"auto",element:t.isDummyElement?null:t.element,selector:t.selector,isEnabledInteraction:1==t.enable_interaction.val}:null}},{key:"shouldInitialize",value:function(){var t=!window.DpitHooks||DpitHooks.apply_filters("shouldInit",!0,this.hookOptions),e="1"===this.currentUrl.searchParams.get("et_fb"),i="true"===this.currentUrl.searchParams.get("ct_builder");return!(e||i)&&f.isSupported()&&t}},{key:"initBulletsAnimation",value:function(){this.bulletsAnimation=new p.a("."+h.c.overlayContainer,"fullscreen-bullets-anim-".concat(this.tourId),[h.c.bullets,"".concat(h.c.bullets,"--fullscreen")],10,100)}},{key:"initTriggers",value:function(){var t=this;this.triggers=[],this.tourCfg.triggers.forEach((function(e,i){t.triggers.push({idx:i,config:e,jElement:"window"===e.selector?$(window):Object(d.a)(e.selector),isInRun:!1,wasRunInThisSession:!1})})),this.activeTriggerIdx=0}},{key:"initWrapperClass",value:function(){$(this.dpIntroWrapper).addClass("dpintro-wrapper");var t=this.getTourIdPostfix("dpintro-wrapper");$(this.dpIntroWrapper).addClass(t),$(this.dpIntroWrapper).attr("id",t)}},{key:"initWrapperLayer",value:function(){var t=this;this.dpIntroWrapper=document.createElement("div"),this.initWrapperClass(),document.body.appendChild(this.dpIntroWrapper),this.dpIntroMain=document.createElement("div"),$(this.dpIntroMain).addClass(h.c.main),this.dpIntroWrapper.appendChild(this.dpIntroMain),setTimeout((function(){t.actualizeDpWrapperSize()}),150)}},{key:"actualizeDpWrapperSize",value:function(){$(this.dpIntroWrapper).height($(document).height()),$(this.dpIntroWrapper).width($("body").innerWidth())}},{key:"isOnLoadTrigger",value:function(t){return"load"==t.config.on||this.shouldAlwaysRunOnLoad()}},{key:"shouldAlwaysRunOnLoad",value:function(){return"1"===y.a.getDpUrlParam("dp_qp_run_always_on_load",this.mainCfg.queryParamsDefs,this.currentUrl)}},{key:"shouldRunAtCurrentDevice",value:function(){return!0}},{key:"initTourWithSelectedTrigger",value:function(t){var e,i,o,r,n=this,a=!0,s=b.a.getVisitCount(this.mainCfg,t.config.allow_just_for_logged_in_users);t.config.first_user_visit_only&&(a=s<=(t.config.first_n_user_visit||1));if(t.config.allow_just_for_logged_in_users&&0==this.mainCfg.currentUserId&&(a=!1),null!==(e=t.config)&&void 0!==e&&null!==(i=e.disable_for_roles)&&void 0!==i&&i.length&&this.mainCfg.currentUserRoles&&null!==(o=this.mainCfg)&&void 0!==o&&null!==(r=o.currentUserRoles)&&void 0!==r&&r.length){var l,u=_(t.config.disable_for_roles);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(this.mainCfg.currentUserRoles.includes(c)){a=!1;break}}}catch(t){u.e(t)}finally{u.f()}}this.shouldRunAtCurrentDevice(t)||(a=!1),(a||this.shouldAlwaysRunOnLoad())&&(this.isOnLoadTrigger(t)?this.startTourWithAnimation(t):t.config.once_per_session_only&&t.wasRunInThisSession||setTimeout((function(){n.activateTrigger(t)}),300))}},{key:"initTour",value:function(){var t=this;this.triggers.forEach((function(e){t.initTourWithSelectedTrigger(e)}))}},{key:"activateTrigger",value:function(t){var e=this;this.isOnLoadTrigger(t)||t.jElement.on(t.config.on,(function(i){var o=!0;t.config.specific_key_pressed&&i&&("keydown"!==t.config.on&&"keypress"!==t.config.on&&"keyup"!==t.config.on||(o=t.config.specific_key_pressed==i.keyCode)),o&&e.startTour(t)&&i&&(i.preventDefault(),i.stopPropagation())}))}},{key:"createCoreInstance",value:function(){return new h.d(this.dpIntroMain,this.mainCfg.dpDebugEn)}},{key:"afterIntroCoreInit",value:function(){}},{key:"initCore",value:function(){var t=this;this.introCore=this.createCoreInstance(),this.steps=this.initPreprocessSteps(),this.afterIntroCoreInit(),this.mainCfg.dpDebugEn&&console.log("ROW STEPS",this.steps),this.steps&&this.isStepsEnough2Start()&&this.introCore.setOptions(this.getIntroCoreOptions()),this.introCore.subscribeEvent(h.b.onExit,(function(e,i){t.onExit(e,i)})),this.introCore.subscribeEvent(h.b.onAfterChange,(function(e,i){window.DpitHooks&&DpitHooks.do_action("afterStepChange",S(S({},t.hookOptions),{},{currentStepObj:t.stepCoreToHookStep(i)}))})),this.introCore.subscribeEvent(h.b.onBeforeChange,(function(e,i,o,r){window.DpitHooks&&DpitHooks.do_action("beforeStepChange",S(S({},t.hookOptions),{},{currentStepObj:t.stepCoreToHookStep(r),nextStepObj:t.stepCoreToHookStep(i),isBackwardDirection:o}))})),this.introCore.subscribeEvent(h.b.onResize,(function(){t.actualizeDpWrapperSize()}))}},{key:"initPreprocessSteps",value:function(){var t=this,e=$.parseJSON(this.tourCfg.steps);return e&&(e=e.map((function(e){var i={};return Object.keys(e).forEach((function(o){i[o]=y.a.decodeStepParamAdvancedVal(e[o],o,t.mainCfg.stepDefinitions,!0,!0)})),i}))),e}},{key:"getIntroCoreOptions",value:function(){return S({steps:this.steps,scrollToElement:!0,scrollTo:"all",enable_interaction:"0",showStepNumbers:this.tourCfg.showStepNumbers,showProgress:this.tourCfg.showProgress,showBullets:this.tourCfg.showBullets,nextLabel:"".concat(this.tourCfg.labeling.nextLabel||Object(d.b)("next",this.mainCfg.i18n)," &rarr;"),prevLabel:"&larr; ".concat(this.tourCfg.labeling.prevLabel||Object(d.b)("back",this.mainCfg.i18n)),skipLabel:this.tourCfg.labeling.skipLabel||Object(d.b)("skip",this.mainCfg.i18n),doneLabel:this.tourCfg.labeling.doneLabel||Object(d.b)("done",this.mainCfg.i18n),exitOnOverlayClick:this.tourCfg.behaviour.exitOnOverlayClick,hide_previous_step_button:this.tourCfg.behaviour.hide_previous_step_button,hideNextAlways:this.tourCfg.behaviour.hideNextAlways,hide_skip_button:this.tourCfg.behaviour.hide_skip_button,overlayBlurred:this.tourCfg.behaviour.overlayBlurred,disable_navigation_by_bullets:this.tourCfg.behaviour.disable_navigation_by_bullets,max_tooltip_width:this.tourCfg.behaviour.max_tooltip_width,skip_absent_ref_el:this.tourCfg.behaviour.skip_absent_ref_el,customTextStylesEn:!$.isEmptyObject(this.mainCfg.text_styles)},this._getScrollSpeed(this.tourCfg.behaviour.scrollSpeed))}},{key:"_getScrollSpeed",value:function(t){var e=Math.max(Math.min(t,100),0),i=100===e?0:.0802*Math.pow(e,2)-18.01*e+1e3;return{scrollSpeedPerPageMs:i,maxScrollSpeedPerPageMs:3*i}}},{key:"isInRun",value:function(){return $(document.documentElement).hasClass("tour-intro")}},{key:"isThisInRun",value:function(){return this.isInRun()&&$(this.dpIntroWrapper).hasClass("dpintro-wrapper--running")}},{key:"getTourIdPostfix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tour-intro";return"".concat(t,"-").concat(this.tourId)}},{key:"isStepsEnough2Start",value:function(){return this.steps.length>0}},{key:"updateTheme",value:function(){var t,e,i;this.initWrapperClass(),this.tourCfg&&this.tourCfg.theme&&$(this.dpIntroWrapper).addClass(this.tourCfg.theme),this.setAccentColor(this.tourCfg.accentColor),this.setRadiuses(this.tourCfg),y.a.setTextStyles(this.dpIntroWrapper,null===(t=this.tourCfg)||void 0===t?void 0:t.text_styles,null===(e=this.mainCfg)||void 0===e||null===(i=e.mobile_break_points)||void 0===i?void 0:i.mobile)}},{key:"setRadiuses",value:function(){this.tourCfg.tooltip_radius>=0&&this.dpIntroWrapper.style.setProperty("--tooltip-border-radius",this.tourCfg.tooltip_radius+"px"),this.tourCfg.highlight_radius>=0&&this.dpIntroWrapper.style.setProperty("--highlight-border-radius",this.tourCfg.highlight_radius+"px"),this.tourCfg.button_radius>=0&&(this.dpIntroWrapper.style.setProperty("--button-border-radius",this.tourCfg.button_radius+"px"),this.dpIntroWrapper.style.setProperty("--button-border-radius-sm",.3*this.tourCfg.button_radius+"px"))}},{key:"adjustBulletsAnimationSizeVar",value:function(){if(this.tourCfg.behaviour.bulletAnimSize){var t=this.tourCfg.behaviour.bulletAnimSize/14;this.dpIntroWrapper.style.setProperty("--bullet-anim-size","".concat(t,"vw")),this.dpIntroWrapper.style.setProperty("--bullet-anim-gap","".concat(t/6,"vw"))}}},{key:"adjustContrastToOverlayVar",value:function(){if(this.tourCfg.behaviour.overlayBlurred)this.dpIntroWrapper.style.setProperty("--dpit-shadow-color","30, 30, 30"),this.dpIntroWrapper.style.setProperty("--dpit-shadow-alpha",0);else{var t=getComputedStyle(this.dpIntroWrapper).getPropertyValue("--overlay-bg-color");if(t&&(t="rgb(".concat(t,")")),this.introCore&&this.introCore.overlayLayer&&(t=getComputedStyle(this.introCore.overlayLayer).getPropertyValue("background-color")),t){var e=m.a.rgb(t);if(e){var i=v.a.getContrastColor(e,["#000","#fff"],3,["#000"]);if(i){this.dpIntroWrapper.style.setProperty("--dpit-shadow-color","".concat(i.red(),", ").concat(i.green(),", ").concat(i.blue()));var o="",r=.35;i.isLight()&&(o="-",r=.25),this.dpIntroWrapper.style.setProperty("--dpit-shadow-alpha",r),this.dpIntroWrapper.style.setProperty("--dpit-shadow-off-S","".concat(o,"1px 1px")),this.dpIntroWrapper.style.setProperty("--dpit-shadow-off-M","".concat(o,"2px 2px")),this.dpIntroWrapper.style.setProperty("--dpit-shadow-off-L","".concat(o,"3px 2px"))}}}}}},{key:"setAccentColor",value:function(t){if(t||(t=this.tourCfg.accentColor),t){var e=m.a.rgb(t);if(e){this.currentAccentColor="".concat(e.red(),", ").concat(e.green(),", ").concat(e.blue()),this.dpIntroWrapper.style.setProperty("--accent-color",this.currentAccentColor);var i=v.a.getContrastColor(t);if(i){this.dpIntroWrapper.style.setProperty("--accent-contrast-color","".concat(i.red(),", ").concat(i.green(),", ").concat(i.blue()));var o=v.a.getContrastColor(i);o&&this.dpIntroWrapper.style.setProperty("--accent-contrast-inv-color","".concat(o.red(),", ").concat(o.green(),", ").concat(o.blue()))}}}else this.currentAccentColor="",this.dpIntroWrapper.style.removeProperty("--accent-color"),this.dpIntroWrapper.style.removeProperty("--accent-contrast-color");this.adjustContrastToOverlayVar(),this.adjustBulletsAnimationSizeVar()}},{key:"setAsRunningTour",value:function(){var t=this;this.isThisInRun()||(window.DpitApi||(window.DpitApi={goToNext:function(){return t.introCore.goToNextStep()},goToPrev:function(){return t.introCore.goToPreviousStep()},goToStep:function(e){return t.introCore.goToStep(e)},exit:function(){return t.introCore._exitIntro("skip")},setAccent:function(e){return t.setAccentColor(e)},getScrollSpeed:function(){var e,i;return null===(e=t.tourCfg)||void 0===e||null===(i=e.behaviour)||void 0===i?void 0:i.scrollSpeed},setScrollSpeed:function(e){return t.introCore.setOptions(t._getScrollSpeed(e))},setCoreOptions:function(e){return t.introCore.setOptions(e)}}),$(this.dpIntroWrapper).addClass("dpintro-wrapper--running"),$(document.documentElement).addClass(this.getTourIdPostfix("tour-intro")),$(document.documentElement).addClass("tour-intro"),window.DpitHooks&&DpitHooks.do_action("started",this.hookOptions))}},{key:"resetAsRunningTour",value:function(){$(this.dpIntroWrapper).removeClass("dpintro-wrapper--running"),$(document.documentElement).removeClass(this.getTourIdPostfix("tour-intro")),$(document.documentElement).removeClass("tour-intro"),window.DpitHooks&&DpitHooks.do_action("ended",this.hookOptions),window.DpitApi=null}},{key:"startTourWithAnimation",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3;this.tourCfg.behaviour.disableStartAnimation?this.startTour(t,i,o):this.isStepsEnough2Start()&&!this.isInRun()&&(this.setAsRunningTour(),this.introCore.addOverlayLayer(!1,this.tourCfg.behaviour.overlayBlurred),this.bulletsAnimation.createAndRun(r,this.introCore.overlayContainer),setTimeout((function(){e.bulletsAnimation.destroy(),e.startTour(t,i,o,!0),e.adjustContrastToOverlayVar()}),n))}},{key:"startTour",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(!this.isStepsEnough2Start()||this.isInRun()&&!o||!i&&t.config.once_per_session_only&&t.wasRunInThisSession)&&(this.setAsRunningTour(),this.hideElementsAtStart(),t.isInRun=!0,this.introCore.start(e,this.isInitializedBackward()),this.mainCfg.dpDebugEn&&console.log("Starting tour: ",this.tourCfg.tourName+" ("+this.tourId+")"),t.wasRunInThisSession=!0,this.activeTriggerIdx=t.idx,!0)}},{key:"isInitializedBackward",value:function(){return!1}},{key:"hideElementsAtStart",value:function(){var t=this;this.tourCfg.hideElementsAtStart&&setTimeout((function(){var e=Object(d.a)(t.tourCfg.hideElementsAtStart);e&&e.length&&e.each((function(t,e){$(e).addClass("dpit-hidden-at-start").fadeOut(400)}))}),1e3)}},{key:"showHiddenElementsAtStart",value:function(){$(".dpit-hidden-at-start").fadeIn(400).removeClass("dpit-hidden-at-start")}},{key:"onExit",value:function(t,e){this.mainCfg.dpDebugEn&&console.log("Exiting tour: "+this.tourId+" - reason: "+e),this.showHiddenElementsAtStart(),this.triggers[this.activeTriggerIdx].isInRun=!1,this.resetAsRunningTour(),window.DpitHooks&&DpitHooks.do_action("afterTourExited",S(S({},this.hookOptions),{},{reason:e}))}}]),t}(),k=i(22),x=i.n(k),P=(i(68),i(12)),L=i.n(P),E=i(34),T=i.n(E);function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function j(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){Object(c.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=Object(u.a)(t);if(e){var r=Object(u.a)(this).constructor;i=Reflect.construct(o,arguments,r)}else i=o.apply(this,arguments);return Object(l.a)(this,i)}}var A=i(39),D=function(t){Object(s.a)(i,t);var e=B(i);function i(t,r){var a;Object(o.a)(this,i);var s=new URL(window.location),l=y.a.getDpUrlParam("dp_qp_theme",t.queryParamsDefs,s),u=y.a.getDpUrlParam("dp_qp_tour_id",t.queryParamsDefs,s),h=y.a.getDpUrlParam("dp_qp_accent_color",t.queryParamsDefs,s);return h&&(r.accentColor="rgb(".concat(h,")")),l&&(!u||r&&u==r.tourId)&&(r.theme=l),a=e.call(this,t,r),Object(c.a)(Object(n.a)(a),"subscribeEvent",(function(t,e){if("function"!=typeof e)throw new Error("Provided callback for ".concat(t," was not a function."));var i=["onBeforeRedirect","onMobileMenuOpen","onMobileMenuClose"];if(!i.includes(t))throw new Error("Provided event name ".concat(t," was not recognized. Choose from: ").concat(i.join(",")));a.emitter.on(t,e)})),Object(c.a)(Object(n.a)(a),"setCallback",(function(t,e){if("function"!=typeof e)throw new Error("Provided callback for ".concat(t," was not a function."));switch(t){case"onBeforeRedirect":a._introBeforeRedirectCallback=e;break;default:throw new Error("Provided callback name ".concat(t," was not recognized."))}})),Object(c.a)(Object(n.a)(a),"onMenuCloserClick",(function(){a.menuOpened=!1,$(".dpintro-show-header").removeClass("dpintro-show-header"),a.emitter.emit("onMobileMenuClose",Object(n.a)(a))})),t.dpDebugEn&&console.log("DPIntroTourPRO"),a.activateThemeModifierChecker(),a}return Object(r.a)(i,[{key:"getDpUrlParam",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return y.a.getDpUrlParam(t,this.mainCfg.queryParamsDefs,this.currentUrl,e)}},{key:"isInitializedBackward",value:function(){return"1"===this.getDpUrlParam("dp_qp_backward")}},{key:"afterIntroCoreInit",value:function(){"1"===this.getDpUrlParam("dp_qp_ses")&&(this.introCore.setEndStepWhenReady=!0),"1"===this.getDpUrlParam("dp_qp_sss")&&(this.introCore.setStartStepWhenReady=!0)}},{key:"stepCoreToHookStep",value:function(t){return t?j(j({},Object(a.a)(Object(u.a)(i.prototype),"stepCoreToHookStep",this).call(this,t)),{},{url:t.url,altMobileSelector:t.alt_mobile_selector,isInMobileMenu:1==t.is_in_mobile_menu,skipOnBigScreen:1==t.skip_on_big_screen,skipOnMobile:1==t.skip_on_mobile}):null}},{key:"initTour",value:function(){var t=this;this.introCore&&(this.introCore.setCallback(h.a.onBeforeChange,this.onBeforeChange.bind(this)),this.introCore.setCallback(h.a.onBeforeShowStep,this.onBeforeShowStep.bind(this))),this.emitter=A();var e=this.getDpUrlParam("dp_qp_tour_id"),i=this.getDpUrlParam("dp_qp_pch"),o="1"===this.getDpUrlParam("dp_qp_backward");if("1"!==i&&null==this.tourCfg.startStepOverride||e!=this.tourId){if(this.isCurrentUrlTriggerable()||this.shouldAlwaysRunOnLoad()){var r=this.getDpUrlParam("dp_qp_lock");this.triggers.forEach((function(e){(!e.config.lock_by_url_parameter||r&&r==e.config.key_unlock||t.shouldAlwaysRunOnLoad())&&("1"===i&&t.isOnLoadTrigger(e)||t.initTourWithSelectedTrigger(e))}))}}else{var n=this.getDpUrlParam("dp_qp_step");null!=this.tourCfg.startStepOverride&&(n=Math.min(this.tourCfg.startStepOverride,this.steps.length-1)),null!==n&&(this.startTourWithAnimation(this.triggers[this.getDpUrlParam("dp_qp_trigger_id")||0],n,!0,o),this.triggers.forEach((function(e){t.activateTrigger(e)})))}}},{key:"initPreprocessSteps",value:function(){var t=this,e=Object(a.a)(Object(u.a)(i.prototype),"initPreprocessSteps",this).call(this);if(this.tourCfg.url_vars)this.urlVars=j({},this.tourCfg.url_vars);else{var o=this.getDpUrlParam("dp_qp_url_vars");o&&(this.urlVars=T.a.parse(o))}return this.urlVars||(this.urlVars={}),this.urlVarsNoSys=j({},this.urlVars),this.tourCfg.sysUrlVars&&Object.keys(this.tourCfg.sysUrlVars).forEach((function(e){t.urlVars[e]=t.tourCfg.sysUrlVars[e]})),this.mainCfg.dpDebugEn&&console.log("url vars:",this.urlVars),e&&(e=e.map((function(e){return j(j({},e),{},{url:y.a.sanitizePossibleRelativeUrl(e.url,t.mainCfg.siteUrl)})}))),e}},{key:"shouldRunAtCurrentDevice",value:function(t){var e=this.introCore._getWinSize();return!(!t.config.allow_for_mobile&&e.width<=this.mainCfg.mobile_break_points.mobile)&&!(!t.config.allow_for_wide_screens&&e.width>this.mainCfg.mobile_break_points.mobile)}},{key:"activateThemeModifierChecker",value:function(){var t=this;$(".dpi-theme-modifier").on("click","*",(function(e){if(!t.mainCfg.builderMode){e.preventDefault(),e.stopPropagation();var i=$(e.target).closest(".dpi-theme-modifier"),o=i.attr("data-theme"),r=i.attr("data-accent-color");if(o)if(t.isInRun()){if(t.isThisInRun()){var n=t.tourCfg.behaviour.disableStartAnimation?350:850;t.tourCfg.behaviour.disableStartAnimation||(t.bulletsAnimation.destroy(),t.bulletsAnimation.createAndRun(!1,t.introCore.overlayContainer)),t.introCore.highlightLayer.style.opacity=0,t.introCore.tooltipReferenceLayer.style.opacity=0,$(".dpintro-show-element").addClass("dpintro-show-element-tmp"),$(".dpintro-show-element").removeClass("dpintro-show-element"),setTimeout((function(){t.switchThemeTo(o,r),t.introCore.refresh(),setTimeout((function(){t.introCore.highlightLayer.style.opacity=1,t.introCore.tooltipReferenceLayer.style.opacity=1,$(".dpintro-show-element-tmp").addClass("dpintro-show-element"),$(".dpintro-show-element-tmp").removeClass("dpintro-show-element-tmp"),t.tourCfg.behaviour.disableStartAnimation||t.bulletsAnimation.destroy()}),n)}),n)}}else{var a=i.attr("data-tour-id");a&&t.tourId!=a||(t.switchThemeTo(o,r),t.triggers.length&&t.startTour(t.triggers[0]))}}}))}},{key:"switchThemeTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=$(this.dpIntroWrapper),o=!1;return i&&i.length&&(this.tourCfg.theme&&i.removeClass(this.tourCfg.theme),this.tourCfg.theme=t,this.setAccentColor(e),i.addClass(t),i.attr("data-theme",t)),o}},{key:"activateTrigger",value:function(t){var e=this;this.isOnLoadTrigger(t)||this.isCurrentUrlTriggerable()&&("inviewport"===t.config.on?t.jElement.length&&(this.waypointTrigger=new Waypoint({element:t.jElement[0],handler:function(){return e.startTour(t)},offset:t.config.in_view_port_offset||0})):Object(a.a)(Object(u.a)(i.prototype),"activateTrigger",this).call(this,t))}},{key:"isCurrentUrl",value:function(t){return this.isUrlSame(y.a.removeURLParameters(window.location.href,this.mainCfg.queryParamsDefs),t,!1)}},{key:"shouldReloadBetweenSteps",value:function(t,e){return this.tourCfg.behaviour.strictUrlCompare&&e?!this.isUrlSame(t,e,!0):!this.isCurrentUrl(t)}},{key:"isUrlAtOurSite",value:function(t){var e=y.a.unifyUrl(t),i=y.a.unifyUrl(this.mainCfg.siteUrl);return e.startsWith(i)}},{key:"isUrlSame",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=y.a.unifyUrl(t,!i,!0),r=y.a.unifyUrl(e,!i,!0);return this.mainCfg.dpDebugEn&&console.log("URL1",o,"URL2",r),o===r}},{key:"isCurrentUrlTriggerable",value:function(){if(!this.steps.length)return!1;var t=this.fixFirstStepVariableUrl(this.steps[0].url);return this.isLinkKeepCurrentUrl(t)&&(t=this.mainCfg.siteUrl),this.urlVars&&(t=y.a.fillUrlVariables(this.urlVars,t)),this.isCurrentUrl(t)||this.triggers[0].config.global_start_at_all_pages}},{key:"startTour",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!(o||this.shouldAlwaysRunOnLoad()||this.isCurrentUrlTriggerable())&&Object(a.a)(Object(u.a)(i.prototype),"startTour",this).call(this,t,e,o,r)}},{key:"onExit",value:function(t,e){if(Object(a.a)(Object(u.a)(i.prototype),"onExit",this).call(this,t,e),this.closeMobileMenu(),"skip"==e||"complete"==e){var o=y.a.removeURLParameters(window.location.href,this.mainCfg.queryParamsDefs);window.history.pushState({},document.title,o),localStorage.removeItem(this.getLocalStorageStartUrlGlobalId())}}},{key:"isLinkKeepCurrentUrl",value:function(t){return"$kep-current-url"===t||"$keep-current-url"===t}},{key:"isKeepVarUrl",value:function(t){return"$keep-prev-step-url"===t||this.isLinkKeepCurrentUrl(t)}},{key:"fixFirstStepVariableUrl",value:function(t){return this.isKeepVarUrl(t)?this.mainCfg.siteUrl:t}},{key:"preprocessStepUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t,o=this.introCore._currentStep,r=o;if("$keep-prev-step-url"===i){var n="$keep-prev-step-url";do{--r>=0&&(n=this.introCore._introItems[r].url)}while(r>=0&&("$keep-prev-step-url"===n||this.isNotAllowedExtraneousUrl(n)));r<=0&&(this.triggers[0].config.global_start_at_all_pages||"$keep-prev-step-url"!==n||(n=this.mainCfg.siteUrl)),i=n}var a=r<=0,s=a&&"$keep-prev-step-url"===i||this.isLinkKeepCurrentUrl(i);s&&(i=y.a.removeURLParameters(window.location.href,this.mainCfg.queryParamsDefs));var l=this.getLocalStorageStartUrlGlobalId();if(a)if(e){var u=localStorage.getItem(l);u&&(i=u)}else localStorage.setItem(l,i);return this.urlVars&&(i=y.a.fillUrlVariables(this.urlVars,i)),y.a.isVariableUrl(i)&&(i=x()(x()(x()(i,"{",""),"}",""),"$","")),i}},{key:"getLocalStorageStartUrlGlobalId",value:function(){return"dp_intro_tour_".concat(this.tourId,".start_step_url")}},{key:"isNotAllowedExtraneousUrl",value:function(t){return!this.tourCfg.behaviour.allow_redirect_to_extraneous_url&&!this.isUrlAtOurSite(t)}},{key:"shouldBeStepSkipped",value:function(t,e){if(this.mainCfg.mobile_break_points){var i=t._getWinSize().width<=this.mainCfg.mobile_break_points.mobile;if(1==e.skip_on_mobile&&i)return!0;if(1==e.skip_on_big_screen&&!i)return!0}return!1}},{key:"onBeforeChange",value:function(t,e){var i=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t._currentStep;if(r<t._introItems.length){if(this.shouldBeStepSkipped(t,e))return 0;var n=y.a.removeURLParameters(window.location.href,this.mainCfg.queryParamsDefs),a={},s=this.preprocessStepUrl(e.url,o);a.reverseBackward&&(o=!o);var l=!1;if(this.isNotAllowedExtraneousUrl(s)?s=n:this.isLinkKeepCurrentUrl(e.url)||(l=this.shouldReloadBetweenSteps(s,n)),s&&!this.isNotAllowedExtraneousUrl(s)){var u=L()(s,this.getRedirectQuery(r,o,this.activeTriggerIdx,l));if(l)return t.setOption("exitOnOverlayClick",!1),setTimeout((function(){var t=!0;i.emitter.emit("onBeforeRedirect",i,u,o),i._introBeforeRedirectCallback&&(t=i._introBeforeRedirectCallback(i,u,o)),t&&i.redirect(u,o)}),500),-1;window.history.pushState({},document.title,u)}}}},{key:"onBeforeShowStep",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(i=i||this.forceElementForCurrentStep,e.is_mobile_menu_active_element=!1,this.mainCfg.mobile_menu_opener)if((e.alt_mobile_selector&&"1"==e.is_in_mobile_menu||"mobile_menu"===i)&&"regular"!==i){this.menuOpener=Object(d.a)(this.mainCfg.mobile_menu_opener,null);var o=this.isElementVisibleParentInc(this.menuOpener[0]);if(this.mainCfg.dpDebugEn&&console.log("Opened:",this.menuOpener,"isElementVisibleParentInc:",o),this.menuOpener&&this.menuOpener.length&&o){var r=0,n=this.menuOpener.closest("header");if(this.mainCfg.dpDebugEn&&console.log("Opened:",this.menuOpened,"$openersHeader:",n),this.menuOpened||(n.addClass("dpintro-show-header"),this.menuOpener.trigger("click"),this.emitter&&this.emitter.emit("onMobileMenuOpen",this),this.tourCfg.mobile_menu_closer?this.menuCloser=Object(d.a)(this.tourCfg.mobile_menu_closer,null):this.menuCloser=this.menuOpener,this.menuCloser.on("click",this.onMenuCloserClick),this.menuOpened=!0,r=350),e.alt_mobile_selector&&"1"==e.is_in_mobile_menu){var a=$(e.alt_mobile_selector);a&&a.length&&(e.is_mobile_menu_active_element=!0)}else"mobile_menu"===i&&(e.is_mobile_menu_active_element=!0);return this.forceElementForCurrentStep=null,r}}else this.menuOpened&&!this.introCore._autoPosCorrectionRepetition&&this.closeMobileMenu();return this.forceElementForCurrentStep=null,0}},{key:"closeMobileMenu",value:function(){this.menuOpened&&this.menuCloser&&this.menuCloser.length&&(this.menuCloser.trigger("click"),this.menuCloser.off("click",this.onMenuCloserClick))}},{key:"isElementVisible",value:function(t){var e=$(t);return"none"!==e.css("display")&&"hidden"!==e.css("visibility")&&0!=e.css("opacity")}},{key:"isElementVisibleParentInc",value:function(t){for(var e=t;null!=e&&e.tagName&&"body"!==e.tagName.toLowerCase();){if(!this.isElementVisible(e))return!1;e=e.parentNode}return!0}},{key:"redirect",value:function(t,e){this.tourCfg.behaviour.disableStartAnimation||this.bulletsAnimation.createAndRun(e,this.introCore.overlayContainer),this.introCore.bringIntroOverlayUp(),window.location.href=t}},{key:"getBaseRedirectQueryParams",value:function(t,e,i,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return j({dp_qp_step:t,dp_qp_tour_id:this.tourId,dp_qp_backward:e?1:0,dp_qp_trigger_id:i,dp_qp_pch:o?1:0,dp_qp_theme:this.tourCfg.theme,dp_qp_url_vars:this.urlVarsNoSys&&!$.isEmptyObject(this.urlVarsNoSys)?T.a.stringify(this.urlVarsNoSys):null,dp_qp_accent_color:this.currentAccentColor||$(this.dpIntroWrapper).css("--accent-color")||null},r)}},{key:"getRedirectQuery",value:function(t,e,i,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},n=j(j({},this.getBaseRedirectQueryParams(t,e,i,o,r)),{},{dp_qp_ses:this.introCore.setEndStepWhenReady?1:null,dp_qp_sss:this.introCore.setStartStepWhenReady?1:null});return y.a.buildDpQueryString(n,this.mainCfg.queryParamsDefs,"?")}},{key:"getIntroCoreOptions",value:function(){return j(j({},Object(a.a)(Object(u.a)(i.prototype),"getIntroCoreOptions",this).call(this)),{},{mobileBreakpoints:this.mainCfg.mobile_break_points})}}]),i}(O)}},[[118,0,1,27]]]);