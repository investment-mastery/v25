{"version":3,"sources":["webpack:///./includes/assets/js/modules/dpitHidden.js","webpack:///./public/assets/js/modules/core/DpitDebugVisualizer.js"],"names":["hideElement","element","byOpacity","arguments","length","undefined","noSpace","noTransition","transitionBkp","style","transition","classList","add","setTimeout","showElement","remove","IDS","target","flier","docBoard","screenBoard","screen","doc","ACTIVE_VISUALIZERS","CONFIG","color","DpitDebugVisualizer","constructor","container","this","visualizerElements","visualizeBB","id","bb","fixed","adjustHeightByAdminBar","document","createElement","append","adminBarHeight","getAdminBarHeight","isNaN","boardToVisualize","DpitBB","supplyWidthHeight","Object","assign","position","backgroundColor","top","left","width","height","pointerEvents","zIndex","clearStepVisualizers","clearVisualizers","keys","forEach","destroy","visualizeBoards","docBoardBB","winBoardBB","docBB","winBB","visualizeStepData","targetBB","flierBB","isFixedPos"],"mappings":"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","file":"main/DpitDebugVisualizer-85d8bd60.js","sourcesContent":["/**\r\n * @param {Element} element element to hide\r\n */\r\nexport const hideElement = (element, byOpacity = true, noSpace = false, noTransition = false) => {\r\n\tif (element) {\r\n\t\tlet transitionBkp = '';\r\n\t\tif (noTransition) {\r\n\t\t\ttransitionBkp = element.style.transition;\r\n\t\t\telement.style.transition = 'unset';\r\n\t\t}\r\n\r\n\t\telement.classList.add('dpit-hidden');\r\n\t\tif (!byOpacity) element.classList.add('dpit-hidden--by-disp');\r\n\t\tif (noSpace) element.classList.add('dpit-hidden--no-space');\r\n\r\n\t\tif (noTransition) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\telement.style.transition = transitionBkp;\r\n\t\t\t}, 50);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @param {Element} element element to hide\r\n */\r\nexport const hideElementImmediately = (element, byOpacity = true, noSpace = false) => {\r\n\thideElement(element, byOpacity, noSpace, true);\r\n};\r\n\r\n/**\r\n * @param {Element} element element to hide\r\n */\r\nexport const showElement = (element) => {\r\n\tif (element) {\r\n\t\telement.classList.remove('dpit-hidden', 'dpit-hidden--no-space', 'dpit-hidden--by-disp', 'dpit-hidden-keep-events');\r\n\t}\r\n};","import DpitBB from './DpitBB';\r\nimport { getAdminBarHeight } from './../../../../../includes/assets/js/modules/dpitUtilsInc';\r\nimport { hideElement, showElement } from '../../../../../includes/assets/js/modules/dpitHidden';\r\n\r\n\r\nexport const IDS = {\r\n\ttarget: 'dpit-vis-target',\r\n\tflier: 'dpit-vis-flier',\r\n\tdocBoard: 'dpit-vis-doc-board',\r\n\tscreenBoard: 'dpit-vis-screen-board',\r\n\tscreen: 'dpit-vis-screen',\r\n\tdoc: 'dpit-vis-doc'\r\n};\r\n\r\nconst ACTIVE_VISUALIZERS = {\r\n\t[IDS.target]: false,\r\n\t[IDS.flier]: true,\r\n\t[IDS.docBoard]: false,\r\n\t[IDS.screenBoard]: true,\r\n\t[IDS.screen]: false,\r\n\t[IDS.doc]: false,\r\n};\r\n\r\n\r\nconst CONFIG = {\r\n\t[IDS.target]: { color: 'rgba(0, 0, 255, 0.3)' },\r\n\t[IDS.flier]: { color: 'rgba(0, 255, 255, 0.3)' },\r\n\t[IDS.docBoard]: { color: 'rgba(255,0,0,0.3)' },\r\n\t[IDS.doc]: { color: 'rgba(255,100,0,0.2)' },\r\n\t[IDS.screenBoard]: { color: 'rgba(255,0,255,0.3)' },\r\n\t[IDS.screen]: { color: 'rgba(255,100,255,0.2)' }\r\n\r\n};\r\n\r\n\r\nexport default class DpitDebugVisualizer {\r\n\tconstructor(container) {\r\n\t\tthis.container = container;\r\n\t\tthis.visualizerElements = {};\r\n\t}\r\n\r\n\tvisualizeBB(id, bb, fixed, adjustHeightByAdminBar = false) {\r\n\t\tif (bb) {\r\n\t\t\tif (!this.visualizerElements[id]) {\r\n\t\t\t\tthis.visualizerElements[id] = document.createElement('div');\r\n\t\t\t\tthis.visualizerElements[id].id = id;\r\n\t\t\t\tthis.container.append(this.visualizerElements[id]);\r\n\t\t\t}\r\n\r\n\t\t\tconst color = CONFIG[id].color;\r\n\r\n\t\t\tlet adminBarHeight = getAdminBarHeight();\r\n\t\t\tif (isNaN(adminBarHeight)) adminBarHeight = 0;\r\n\t\t\tconst boardToVisualize = DpitBB.supplyWidthHeight(bb);\r\n\r\n\t\t\tObject.assign(this.visualizerElements[id].style, {\r\n\t\t\t\tposition: fixed ? 'fixed' : 'absolute',\r\n\t\t\t\tbackgroundColor: color,\r\n\t\t\t\ttop: (boardToVisualize.top) - (adjustHeightByAdminBar ? adminBarHeight : 0) + 'px',\r\n\t\t\t\tleft: boardToVisualize.left + 'px',\r\n\t\t\t\twidth: boardToVisualize.width + 'px',\r\n\t\t\t\theight: (boardToVisualize.height) + 'px', //(adjustHeightByAdminBar ? adminBarHeight : 0)\r\n\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\tzIndex: 'calc(var(--dp-z-index-base) + 5)',\r\n\t\t\t});\r\n\t\t\tshowElement(this.visualizerElements[id]);\r\n\t\t}\r\n\t}\r\n\r\n\tclearStepVisualizers() {\r\n\t\thideElement(this.visualizerElements[IDS.target], false);\r\n\t\thideElement(this.visualizerElements[IDS.flier], false);\r\n\t}\r\n\r\n\tclearVisualizers() {\r\n\t\tObject.keys(this.visualizerElements).forEach(id => {\r\n\t\t\thideElement(this.visualizerElements[id], false);\r\n\t\t});\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tObject.keys(this.visualizerElements).forEach(id => {\r\n\t\t\tthis.visualizerElements[id].remove();\r\n\t\t});\r\n\t}\r\n\r\n\tvisualizeBoards(docBoardBB, winBoardBB, docBB, winBB) {\r\n\r\n\t\tif (ACTIVE_VISUALIZERS[IDS.doc]) this.visualizeBB(IDS.doc, docBB, false);\r\n\t\tif (ACTIVE_VISUALIZERS[IDS.docBoard]) this.visualizeBB(IDS.docBoard, docBoardBB, false);\r\n\t\tif (ACTIVE_VISUALIZERS[IDS.screen]) this.visualizeBB(IDS.screen, winBB, true, false);\r\n\t\tif (ACTIVE_VISUALIZERS[IDS.screenBoard]) this.visualizeBB(IDS.screenBoard, winBoardBB, true, false);\r\n\r\n\t}\r\n\r\n\tvisualizeStepData(targetBB, flierBB, isFixedPos) {\r\n\t\tif (ACTIVE_VISUALIZERS[IDS.flier]) this.visualizeBB(IDS.flier, flierBB, isFixedPos, false);\r\n\t\tif (ACTIVE_VISUALIZERS[IDS.target]) this.visualizeBB(IDS.target, targetBB, isFixedPos, false);\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}