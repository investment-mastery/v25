/*!
 * 
 * Intro Tour Tutorial
 * 
 * @author [object Object]
 * @version 6.4.4
 * @link http://www.gnu.org/licenses/gpl-2.0.txt
 * @license GPL-2.0+
 * 
 * Copyright (c) 2023 [object Object]
 * 
 * This plugin is released under GPL-2.0+ license to be included in wordpres.org plugin repository
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackiodpIntroToursmainJsonp=window.wpackiodpIntroToursmainJsonp||[]).push([[6,7,8],{5:function(t,e,i){var o;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var n=typeof o;if("string"===n||"number"===n)t.push(o);else if(Array.isArray(o)){if(o.length){var l=s.apply(null,o);l&&t.push(l)}}else if("object"===n){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){t.push(o.toString());continue}for(var r in o)i.call(o,r)&&o[r]&&t.push(r)}}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):void 0===(o=function(){return s}.apply(e,[]))||(t.exports=o)}()},58:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return h}));var o=i(1),s=i(38),n=i(6),l=i(7),r=i(12);class h extends s.default{constructor(t,e,i){super(t,e,i),Object(r.a)(this.arrowEl),document.documentElement.classList.add(o.CLASSES_CORE.isStickyTheme)}printDebugMessage(){console.log("[dpit] INIT DpitCoreSticky: v"+o.VERSION+" | Sticky engine loaded")}fireAfterStepChangeEvent(t){const e=this.isStickyTheme(),i=!!e&&this.isStickyThemeOnTop();this.doAction(o.EVENTS.afterStepChange,{isStickyTheme:e,isStickyThemeOnTop:i&&e,backward:t,currentStepObj:this.stepObject4Hooks(this.stepItem)})}filterWinBoardMargin(t){const e=this.getWinBoardOffset();return t.top+=e.top,t.bottom+=e.bottom,t}determineTooltipPosition(){const t=this.isFixedPos?this.winBB:this.docBB,e=this.targetBB.top-(t.top+this.tooltipBB.height),i=t.bottom-this.tooltipBB.height-(this.targetBB.top+this.targetBB.height);let o=i>e||this.isDummyMode()?"bottom":"top";return i>0&&e>0&&(o="bottom"),{base:o}}placeTooltipInSoftRefresh(){this.placeTooltip(!1,!0)}fixPositionOutOfTheWindowForNotFixedElements(){return this.tooltipTextEl.style.maxHeight="",!1}fixPositionOutOfTheBoard(){if(this.tooltipTextEl.style.maxHeight="",this.actualizeTooltipBB(),this.isDummyMode()){const t=this.tooltipBB.height-this.winBB.height;if(t>0){let e=$(this.tooltipTextEl).height();this.tooltipTextEl.style.maxHeight=e-t+"px",this.actualizeTooltipBB(),this.actualizeFlier(!0)}}return!1}placeTooltipCore(t,e){var i;return e&&this.tooltipPos||(this.tooltipPos=this.determineTooltipPosition(this.stepItem)),this.tooltipEl.classList.add("".concat(o.CLASSES_CORE.tooltip,"--").concat(null===(i=this.tooltipPos)||void 0===i?void 0:i.base)),this.fixPositionOutOfTheWindow(),this.actualizeBoardSizes(),this.debugVisualizer&&this.debugVisualizer.visualizeBoards(this.docBoardBB,this.winBoardBB,this.docBB,this.winBB),{desiredNumberPos:{x:"right",y:Object(n.h)(this.tooltipPos.base),onTooltip:!1},isNeededNextIteration:!1}}getNumberIntersectionFeature(t,e,i,o){return o===this.tooltipBB?0:super.getNumberIntersectionFeature(t,e,i,o)}getNumberDestElSizeFeature(t,e){return e===this.tooltipBB?{x:0,y:0}:super.getNumberDestElSizeFeature(t,e)}getPlaceNumberRepetitionParams(t){return{enableIndentation:!0,desiredPosition:{...t,onTooltip:!1},maxIterations:1}}isNumberCloseToTooltip(){return!1}getIsPossibleNumberPositionsInBoardObject(t){const e=this.isFixedPos?this.winBB:this.docBB;return{left:t.left>=e.left&&t.left+this.numberBB.width<=e.right,top:t.top>=e.top&&t.top+this.numberBB.height<=e.bottom,right:t.right>=e.left&&t.right+this.numberBB.width<=e.right,bottom:t.bottom>=e.top&&t.bottom+this.numberBB.height<=e.bottom}}getScrollFlierOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;const e={align:{top:0,left:.5,lockX:!Object(n.r)(document.documentElement)},time:t};if(this.flierBB)if(this.flierBB.height>this.winBoardBB.height)switch(this.tooltipPos.base){case"top":case"bottom":e.align.topOffset=this.winBoardBB.top}else e.align.topOffset=this.winBoardBB.top+(this.winBoardBB.height-this.flierBB.height)/2;return e}getWinBoardOffset(){if(this.tooltipEl){var t;const e=this.bulletsLayer&&Object(n.k)(getComputedStyle(this.bulletsLayer),"position",["fixed"]);let i=e?this.bulletsLayer.getBoundingClientRect().height:0;if("top"===(null===(t=this.tooltipPos)||void 0===t?void 0:t.base)){const t=Object(n.d)(this.bulletsLayer,"bottom",0);return{top:this.tooltipBB.height,bottom:t+i}}return{top:(e?Object(n.d)(this.bulletsLayer,"top",0):0)+i,bottom:this.tooltipEl.getBoundingClientRect().height}}return{top:0,bottom:0}}isProgressBarEnabled(){return this.stepItems.length>1}isStickyThemeOnTop(){var t;return this.isStickyTheme()&&"top"===(null===(t=this.tooltipPos)||void 0===t?void 0:t.base)}getFlierBB(t,e){return l.default.intersect(l.default.merge(t,e),this.docBB)}actualizeTooltipMinWidth(){this.winBB.width>800?this.actualizeStickyTooltipHeight():(this.actualizeStickyTooltipHeight(),super.actualizeTooltipMinWidth())}actualizeTheme(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super.actualizeTheme(t,e),this.actualizeProgressBar()}actualizeTooltipMaxWidth(){this.tooltipEl.style.maxWidth=""}actualizeStickyTooltipHeight(){if(this.tooltipEl){this.buttonPrevNextWrapEl.classList.remove(o.CLASSES_CORE.buttonPrevNextWrap+o.MODIFIERS.vert),this.actualizeButtonsTextVisibility(!1);const t=this.buttonPrevNextWrapEl.getBoundingClientRect().height;let e=this.tooltipEl.offsetHeight;e>4*t&&(this.buttonPrevNextWrapEl.classList.add(o.CLASSES_CORE.buttonPrevNextWrap+o.MODIFIERS.vert),e=$(this.tooltipEl).height(),e>.5*this.winBB.height&&this.actualizeButtonsTextVisibility(!0))}}loadCancelButtonIcons(){super.loadCancelButtonIcons("vector")}unplugTheme(){Object(r.b)(this.arrowEl),document.documentElement.classList.remove(o.CLASSES_CORE.isStickyTheme)}}},60:function(t,e,i){"use strict";i.r(e),i.d(e,"LAYER_CLASSES_BUILDER",(function(){return u})),i.d(e,"default",(function(){return p}));var o=i(3),s=i(1),n=i(58),l=i(15),r=i(4),h=i(2),a=i(7),d=i(6);const u={builderMode:"dpit-builder-mode",builderInRun:"dpit-bon",builder:"dpit-builder",stepEditMode:"dpit-step-edit-mode",targetSelectingMode:"dpit-target-selecting",hovered:"dpit-hovered"};class p extends n.default{constructor(t,e,i){var n;e.dpDebugEn&&console.log("[dpit] INIT DpitBuilderCore"),super(t,e,i),n=this,Object(o.a)(this,"addNewStepAt",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===t&&(t=n.stepIdx);const e=Object(r.t)(window.location.href,n.mainCfg.queryParamsDefs),i=Object(r.a)(e,n.mainCfg.siteUrl),o={...Object(r.p)(n.mainCfg.stepDefinitions),isNewStep:!0,idx:t,step:t+1,url:t>0?"$keep-prev-step-url":Object(r.E)(i,!1)},s={...o,selector:o.element,element:$(o.element)[0]||null,url:t>0?"$keep-prev-step-url":e};if(t<n.stepItems.length)for(let e=t;e<n.stepItems.length;e++){const t=n.stepItems[e];n.updateIndexOfStepItem(t,t.idx+1)}return n.options.showBullets&&$(n.bulletsLayer).find("ul").append(n.createBullet(n.stepItems.length+1,!0,!1,n.onNavigBulletClick.bind(n))),n.stepItems.splice(t,0,s),{stepItemBase:o,stepItem:s}})),Object(o.a)(this,"removeStepAt",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===t&&(t=n.stepIdx);const e=t===n.stepItems.length-1;if(t<n.stepItems.length)for(let e=t;e<n.stepItems.length;e++){const t=n.stepItems[e];n.updateIndexOfStepItem(t,t.idx-1)}n.stepItems.splice(t,1);const i=e?n.stepIdx-1:n.stepIdx;return n.options.showBullets&&$(n.bulletsLayer).find("ul li:last-child").remove(),i>=0?n.stepItems[i]:null})),this.tourCfg=i,this.mainCfg=e,this.optionsOverride={exitOnOverlayClick:!1,exitOnEsc:!1,leaveOverlayAlways:!0},this.options={...this.options,...this.optionsOverride},l.a.init(e.dpDebugEn),l.a.addAction(s.EVENTS.onInit,()=>{this.buttonPrevEl&&$(this.buttonPrevEl).hover(()=>this.doAction(s.EVENTS.onButtonHover,{id:"back",hoverIn:!0}),()=>this.doAction(s.EVENTS.onButtonHover,{id:"back",hoverIn:!1})),this.buttonNextEl&&$(this.buttonNextEl).hover(()=>this.doAction(s.EVENTS.onButtonHover,{id:"next",hoverIn:!0}),()=>this.doAction(s.EVENTS.onButtonHover,{id:"next",hoverIn:!1}))}),document.documentElement.classList.add(u.builderMode)}setAsEditMode(t){t?document.documentElement.classList.add(u.stepEditMode):document.documentElement.classList.remove(u.stepEditMode)}startByFirstStepItem(t){this.hideIntroLayers(!1,!0,!0),this.stepItems=[t],this.actualizeCurrentStep(t),this.startCoreBasic(!1,t.stepIdx)}startCore(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.mainCfg.builderMode!==h.e.TRIGGER&&super.startCore(t,e)}showBackgroundOverlay(){this.mainCfg.builderMode!==h.e.TRIGGER&&super.showBackgroundOverlay()}initSteps(){const t=super.initSteps();return this.doAction(s.EVENTS.onNoStepsInit),t}setInRunClasses(){document.documentElement.classList.add(u.builderInRun),super.setInRunClasses()}clearInRunClasses(){document.documentElement.classList.remove(u.builderInRun),super.setInRunClasses()}shouldBeStepSkipped(t,e){return this.mainCfg.builderMode===h.e.STEP&&!this.mainCfg.mobileAltStepMode&&super.shouldBeStepSkipped(t,e)}static initBuilderContainer(t){let e=document.createElement("div");return e.className=u.builder,t.appendChild(e),e}pauseTour(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.hideShadowOverlay(),this.hideBackgroundOverlay()),this.mainCfg.builderMode===h.e.STEP&&super.pauseTour(t)}restoreTour(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.REFRESH_REASONS.restore,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.showIntroLayersDisabled||this.showShadowOverlay(),this.mainCfg.builderMode===h.e.STEP&&(i&&(this.stepItems=[i],this.actualizeCurrentStep(i)),this.actualizeThemeSpecifier(this.tourCfg.theme),super.restoreTour(t,e))}getOnBeforeUnloadByLinkClickConfirmMessage(){return Object(d.o)("end-a-tour-builder-q",this.mainCfg.i18n)}actualizeNavigButtonHoverState(t,e){const i=t?this.buttonNextEl:this.buttonPrevEl;e?i.classList.add(u.hovered):i.classList.remove(u.hovered)}showIntroLayers(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showIntroLayersDisabled||super.showIntroLayers(t)}stepObject4Hooks(t){return null!=t?t:null}setOptions(t){super.setOptions({...t,...this.optionsOverride})}onSkipButtonClick(){alert(this.mainCfg.i18n.tour_ending_in_builder)}actualizeEditPanelEl(){this.editPanelEl||(this.editPanelEl=document.querySelector(".dp-pull-out-panel")),this.editPanelEl?this.editPanelBB=a.default.fromElement(this.editPanelEl,!0):this.editPanelBB=null}isStickyEditPanel(){return this.winBB&&this.winBB.width<=480}isStickyEditPanelOpened(){var t;return this.actualizeEditPanelEl(),this.isStickyEditPanel()&&(null===(t=this.editPanelEl)||void 0===t?void 0:t.classList.contains("dp-pull-out-panel--active"))}forceScrollTopOffset(){return this.isStickyEditPanelOpened()}filterWinBoardMargin(t){if(t=super.filterWinBoardMargin(t),this.isStickyEditPanelOpened()){const e=a.default.fromElement(this.editPanelEl,!0);e&&(t.bottom=e.height+this.options.defaultBoardMarginPx.y*this.options.defaultWinBoardMarginMobSizeCoef)}return t}filterTooltipElRelPos(t){if(this.isDummyMode()&&this.isStickyEditPanelOpened()&&this.winBB&&this.winBoardBB&&this.tooltipBB&&this.targetBB)if(this.tooltipBB.height>=this.winBoardBB.height)t.top=this.winBoardBB.top-this.targetBB.top;else{const e=this.editPanelBB?this.winBB.height-this.editPanelBB.height:this.winBoardBB.height;t.top=(e-this.tooltipBB.height)/2-this.targetBB.top}return t}}}}]);
//# sourceMappingURL=DpitBuilderCoreSticky-5ae39f32.js.map