/*!
 * 
 * Intro Tour Tutorial
 * 
 * @author [object Object]
 * @version 6.4.4
 * @link http://www.gnu.org/licenses/gpl-2.0.txt
 * @license GPL-2.0+
 * 
 * Copyright (c) 2023 [object Object]
 * 
 * This plugin is released under GPL-2.0+ license to be included in wordpres.org plugin repository
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackiodpIntroToursmainJsonp=window.wpackiodpIntroToursmainJsonp||[]).push([[15,16,17],{12:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}));const s=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){let n="";s&&(n=t.style.transition,t.style.transition="unset"),t.classList.add("dpit-hidden"),e||t.classList.add("dpit-hidden--by-disp"),i&&t.classList.add("dpit-hidden--no-space"),s&&setTimeout(()=>{t.style.transition=n},50)}},n=t=>{t&&t.classList.remove("dpit-hidden","dpit-hidden--no-space","dpit-hidden--by-disp","dpit-hidden-keep-events")}},26:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return s}));class s{constructor(){this.listeners={}}getEventId(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?e:t+(new Date).getTime()+Math.random().toString(36)}add(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t&&e&&i&&(this.listeners[this.getEventId(e,s)]={type:e,functionRef:i,element:t},t.addEventListener(e,i))}remove(t){if(this.listeners[t]&&this.listeners[t]){const e=this.listeners[t],i=e.element,s=e.type,n=e.functionRef;i&&s&&n&&(i.removeEventListener(s,n),delete this.listeners[t])}}removeAll(){Object.keys(this.listeners).forEach(t=>{this.remove(t)})}}},27:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return r}));var s=i(6),n=i(26);class r{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.data=[],this.noEventTimeoutAfterVeryFirstClickMs=1e3,this.stopPropagationEnabled=e,this.leftButtonOnly=a,this.excludeTargetBlank=r,this.disableAllPointerEvents=i,this.suppressParentsLinkElements=s,this.listeners=new n.default,this.functionRef=t}addElements(t){t&&t.forEach(t=>this.addElement(t))}addElement(t){if(t){const e={element:t,noEventsData:null};this.data.push=e,this.listeners.add(t,"mousedown",t=>this.handleVeryFirstClickEvent(t,e)),this.listeners.add(t,"touchstart",t=>this.handleVeryFirstClickEvent(t,e)),this.listeners.add(t,"click",t=>this.handleFollowingClickEvents(t,e)),this.listeners.add(t,"mouseup",t=>this.handleFollowingClickEvents(t,e)),this.listeners.add(t,"touchend",t=>this.handleFollowingClickEvents(t,e))}}clear(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])this.data.forEach(this.clearNoEvents.bind(this));else{const t=[...this.data];setTimeout(()=>{t.forEach(this.clearNoEvents.bind(this))},this.noEventTimeoutAfterVeryFirstClickMs)}this.data=[],this.listeners.removeAll()}activateAfterClear(){setTimeout(()=>{this.clear(!0)},this.noEventTimeoutAfterVeryFirstClickMs)}isLeftClickEvent(t){return!this.leftButtonOnly||0===t.button}handleVeryFirstClickEvent(t,e){let i=!0;return this.isLeftClickEvent(t)&&(i=!1,this.functionRef instanceof Function&&(i=this.functionRef(t,e.element)),i||(this.stopPropagationEnabled&&t.stopImmediatePropagation(),this.activateNoEvents(e))),i}handleFollowingClickEvents(t,e){return!this.isLeftClickEvent(t)||("click"===t.type&&t.preventDefault(),this.stopPropagationEnabled&&t.stopImmediatePropagation(),this.activateNoEvents(e),!1)}startNoEventTimeout(t,e){t.noEventsTimeout&&clearTimeout(t.noEventsTimeout),t.noEventsTimeout=setTimeout(()=>{this.clearNoEvents(t),e instanceof Function&&e(t.element)},this.noEventTimeoutAfterVeryFirstClickMs)}activateNoEvents(t){if(this.disableAllPointerEvents)if(t.noEventsData)this.startNoEventTimeout(t);else{let e=[t.element];this.suppressParentsLinkElements&&(e=Object(s.g)(t.element,!0,this.excludeTargetBlank)),e.forEach(e=>this.addElementNoEvents(t,e)),this.startNoEventTimeout(t)}}addElementNoEvents(t,e){if(t&&e){const i=e.style.getPropertyValue("pointer-events");e.style.setProperty("pointer-events","none","important"),t.noEventsData||(t.noEventsData=[]),t.noEventsData.push({element:e,pointerEventsBkp:i})}}clearNoEvents(t){t.noEventsData&&(t.noEventsData.forEach(this.clearNoEventsOnNoEventsItem.bind(this)),t.noEventsTimeout&&clearTimeout(t.noEventsTimeout),t.noEventsTimeout=null),t.noEventsData=null}clearNoEventsOnNoEventsItem(t){null!=t&&t.element&&(t.pointerEventsBkp?t.element.style.setProperty("pointer-events",t.pointerEventsBkp):t.element.style.removeProperty("pointer-events"))}}},41:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return o}));var s=i(12),n=i(6),r=i(1),a=i(26),l=i(27);class o{constructor(t,e,i,s,n,r){t.debugEn&&console.log("[dpit] INIT DpitUserInteraction"),this.onBeforeUnloadByLinkClick=r,this.tooltipRefEl=e,this.options=t,this.animation=i,this.onIterateStep=s,this.onIterateStepInProgress=n,this.isIterateStepInAction=!1,this.hoverListeners=new a.default,this.linkClickListener=new l.default(this.processTargetLinkClick.bind(this),!0,!1,!1,!0),this.iterateClickListener=new l.default(this.iterateStepAfterUserAction.bind(this)),this.blockClickListener=new l.default}update(t){this.destroy(),this.stepItem={...t},this.element=null==t?void 0:t.element,this.updateIterateAfterClick(),this.updateIterateAfterHover(),this.updateLinkClick()}destroy(){this.clearIterateAfterClick(),this.clearIterateAfterHover(),this.clearTargetLinkClickAdjustment(),this.iterateClickListener.clear(!0),this.blockClickListener.clear(!0),this.hoverListeners.removeAll()}updateDisableInteractionLayer(t,e,i){t&&"1"!=t.enable_interaction.val?this.insertDisableInteractionLayer(e,i):this.removeDisableInteractionLayer()}insertDisableInteractionLayer(t,e){!this.disableInteractionLayer&&this.tooltipRefEl&&(this.disableInteractionLayer=document.createElement("div"),this.disableInteractionLayer.className=r.CLASSES_CORE.disableInteraction,t.insertBefore(this.disableInteractionLayer,this.tooltipRefEl)),e instanceof Function&&e(this.disableInteractionLayer)}removeDisableInteractionLayer(){this.disableInteractionLayer&&(this.disableInteractionLayer.parentNode.removeChild(this.disableInteractionLayer),this.disableInteractionLayer=null)}updateLinkClick(){var t;null===(t=this.stepItem)||void 0===t||!t.element||this.isBlockClicks()||this.isIterateAfterClick(this.stepItem)?this.clearTargetLinkClickAdjustment():this.startTargetLinkClickAdjustment()}startTargetLinkClickAdjustment(){var t;this.linkClickListener.clear(!0);const e=Object(n.f)(null===(t=this.stepItem)||void 0===t?void 0:t.element,!0);e&&this.linkClickListener.addElements(e)}clearTargetLinkClickAdjustment(){this.linkClickListener.clear(!0)}processTargetLinkClick(t,e){this.disabled&&this.userInteractionTryWhenDisabledFce&&this.userInteractionTryWhenDisabledFce();const i=this.isBlockClicks();if(this.isIterateStepInAction||this.disabled||!e||i||this.isIterateAfterClick(this.stepItem)){if(t&&i)return t.preventDefault(),t.stopImmediatePropagation(),!1}else{const i=e.getAttribute("href");if(i&&t){if("_blank"===e.getAttribute("target")||this.isOpenTargetLinkClicksInNewTab()){if(this.options.dpDebugEn&&console.log("[dpit] TARGET CLICK: <a> element inside a target was clicked and opened in new tab."),!t.defaultPrevented)try{return window.open(i,"_blank"),!1}catch(t){console.error(t)}}else if(this.onBeforeUnloadByLinkClick instanceof Function)return this.onBeforeUnloadByLinkClick(i),!1}}return!0}clearIterateAfterClick(){this.element&&this.element.classList.remove(r.CLASSES_CORE.target+r.MODIFIERS.click,r.CLASSES_CORE.target+r.MODIFIERS.blockClick)}updateIterateAfterClick(){this.element&&(this.iterateClickListener.clear(!0),this.isIterateAfterClick(this.stepItem)?(this.iterateClickListener.addElement(this.element),this.element.classList.add(r.CLASSES_CORE.target+r.MODIFIERS.click)):this.isBlockClicks(this.stepItem)&&(this.blockClickListener.addElement(this.element),this.element.classList.add(r.CLASSES_CORE.target+r.MODIFIERS.blockClick)))}disable(t){this.disabled=!0,this.userInteractionTryWhenDisabledFce=t}enable(){this.disabled=!1,this.userInteractionTryWhenDisabledFce=null}iterateStepAfterUserAction(){if(this.disabled&&this.userInteractionTryWhenDisabledFce&&this.userInteractionTryWhenDisabledFce(),!this.isIterateStepInAction&&!this.disabled&&this.stepItem){var t,e,i;this.isIterateStepInAction=!0;let n=null!==(t=null===(e=this.stepItem.enable_interaction)||void 0===e||null===(i=e.ext)||void 0===i?void 0:i.iterate_after_click_delay_ms)&&void 0!==t?t:r.TIMING.defaultIterateAfterClick;this.animation.start(),this.onIterateStepInProgress instanceof Function&&this.onIterateStepInProgress(!0),this.destroy(),setTimeout(()=>{var t;this.animation.stop(),Object(s.b)(null===(t=this.stepItem)||void 0===t?void 0:t.element),this.onIterateStepInProgress instanceof Function&&this.onIterateStepInProgress(!1),this.onIterateStep instanceof Function&&this.onIterateStep(),this.isIterateStepInAction=!1},n)}return!1}isInteractionFeatureEnabled(t){return this.stepItem&&this.stepItem.element&&"1"==this.stepItem.enable_interaction.val&&this.stepItem.enable_interaction.ext&&"1"==this.stepItem.enable_interaction.ext[t]}isIterateAfterClick(){return this.isInteractionFeatureEnabled("iterate_after_click")}isOpenTargetLinkClicksInNewTab(){return this.isInteractionFeatureEnabled("open_target_link_clicks_in_new_tab")}isBlockClicks(){return this.isInteractionFeatureEnabled("iterate_after_click_stop_propagation")}updateIterateAfterHover(){this.element&&(this.isIterateAfterHover(this.stepItem)?(this.hoverListeners.add(this.element,"mouseenter",this.iterateStepAfterUserAction.bind(this)),this.element.classList.add(r.CLASSES_CORE.target+r.MODIFIERS.hover)):this.clearIterateAfterHover())}clearIterateAfterHover(){this.element&&this.element.classList.remove(r.CLASSES_CORE.target+r.MODIFIERS.hover)}isIterateAfterHover(){var t;return this.stepItem&&this.stepItem.element&&"1"==this.stepItem.enable_interaction.val&&"1"==(null===(t=this.stepItem.enable_interaction.ext)||void 0===t?void 0:t.iterate_after_hover)}}}}]);
//# sourceMappingURL=DpitUserInteraction-e86d5743.js.map