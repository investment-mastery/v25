{"version":3,"sources":["webpack:///./public/assets/js/modules/core/constants.js","webpack:///./admin/assets/js/modules/DpitMultiStateAnimBtn.js","webpack:///./admin/assets/js/modules/DpitMultiStateBtn.js","webpack:///./admin/assets/js/modules/AdminSetupTippy.js","webpack:///./admin/assets/js/modules/ColorPicker.js","webpack:///./admin/assets/js/modules/DpitAdminBtnActions.js","webpack:///./admin/assets/js/dpit-admin-settings.js","webpack:///./public/assets/js/apps/TourStepEditor/store/appMode.js","webpack:///./includes/assets/js/modules/BulletsAnimation.js","webpack:///./includes/assets/js/modules/dpitUtilsInc.js"],"names":["VERSION","IS_DEBUG","VISUALIZE_BB","ANIM_DBG","FEATURES","controlsAutoFocusEnable","goldenRatioPosAlgEn","followTargetEn","resizeRefreshEn","finalizeStepChangeEn","userInteraction","CLASSES_CORE","stepSpecifier","themeSpecifier","lightAccent","wrap","highlight","flier","tooltipReference","tooltip","tooltipRadiusPadding","tooltipText","arrow","progress","progressBar","tooltipButtons","bullets","rbAnim","number","button","buttonPrevNextWrap","buttonNext","buttonPrev","buttonSkip","buttonDone","overlay","overlayContainer","disableInteraction","hidden","hiddenKeepEvents","hiddenHard","disabled","tourInRun","pause","noTrans","target","noEvents","targetParent","relativePosition","fixedPosition","targetDummy","isStickyTheme","dpitScrollBar","hasScrollBar","CLASSES_CHILD_POSTFIX","text","icoWrap","ico","spacer","CLASSES_CHILD","numberText","buttonText","buttonSpacer","buttonIco","buttonIcoWrap","MODIFIERS","anim","noOverlay","dummy","inHighlight","sec","vert","symbol","noText","onTooltip","above","click","blockClick","hover","fixed","zIdxFix","customStyle","whiteSpacingNormal","overLeft","overTop","overRight","overBottom","full","EVENTS","started","onInit","onBeforeEnd","ended","beforeStepChange","afterStepChange","onButtonHover","onResize","onBeforeRedirect","onMobileMenuClose","onMobileMenuOpen","onOverlayClick","onNoStepsInit","COMMANDS","goToNext","goToPrev","goToStep","exit","setAccent","switchTheme","setCoreOptions","getCoreOptions","startTour","RESIZE_REACTION","none","soft","hard","RESIZE_TYPE","mobUrlBarVisibilityToggle","orientationToggle","majorAreaChange","minorAreaChange","REFRESH_REASONS","unknown","regular","followTarget","resize","builder","stickyDetector","restore","finalize","RES_PROCESS_ASYNC","skip","abort","continue","timeout","deferred","noData","done","SCROLL_SPEED","constant","logCoef","maxCoef","maxParentScrollTimeMs","RESPONSIVE_MODE","desktop","mobile","mobileMenu","CORE_ENGINES","base","sticky","builderSticky","TIMING","userScrolling","finalizeExit","resizeReaction","defaultIterateAfterClick","finalizeSoftRefresh","defaultFlierScroll","defaultTargetScroll","SIZE_LIMITS_PX","minTooltipContentHeightFixedPos","minTooltipContentHeight","minTooltipHeight","DpitMultiStateAnimBtn","constructor","onClickCB","statesOptions","arguments","length","undefined","initState","bemRootClass","additionalClasses","inactive","id","htmlTag","_defineProperty","event","this","bulletsAnimation","isRunning","stopPropagation","preventDefault","Function","state","currentState","element","document","createElement","setAttribute","className","classNames","addEventListener","onClickHandler","btnBemClass","initStates","setOnlyState","deactivate","activate","removeStateClass","addStateClass","renderContent","stateEl","stateContent","HTMLElement","appendChild","innerHTML","stateOptions","stateKeys","Object","keys","forEach","contentBemClassBase","classList","add","stateOption","newStateOption","content","getButtonElement","destroy","_this$element","removeEventListener","deactivateAll","clearActiveClasses","activeMod","activeClass","remove","setActiveClasses","setOnlyStateTemporarily","followingState","setTimeout","key","_this$stateOptions$ke","style","display","super","BulletsAnimation","startAnimation","backward","loops","loopsPassedCb","isAnimated","start","onAnimationEnded","setProperty","stopAnimation","stop","removeProperty","hideStateItems","opacity","showStateItems","AdminSetupTippy","config","$","each","idx","jHintEl","jTdElement","closest","proOnly","find","hasClass","title","html","iconClasses","addClass","append","getInfoIconHtml","fadeOut","tippy","reference","getAttribute","animation","theme","allowHTML","interactive","load","urlJoin","assetsUrl","fadeIn","dpDebugEn","console","log","init","ColorPicker","wpColorPicker","CLASSES","DpitAdminBtnActions","name","dataToPost","actionName","axios","post","siteUrl","headers","nonces","wp_rest","then","catch","error","AxiosError","registerActions","actionNames","concat","containerEl","getElementById","actionButton","buttonArgs","processAction","jQuery","ready","window","dp_main_admin_settings_config","AppState","INIT","VIEW","PANEL_EDIT","TARGET_SELECTION","REDIRECT_MODAL_OPENED","TMCE_MODAL_OPENED","REDIRECTING","PROMO_MODAL_OPENED","CANCEL","STEP_CHANGING","PAUSE","PAUSE_TARGET_SEL_1_CLICK","ProcessState","IDLE","PROCESSING","PROCESSED","ERROR","TargetType","STEP","TRIGGER","MOBILE_MENU","URL_VAR_EXAMPLES","Origin","FRONTEND","ADMIN","SETTINGS","Position","TOP","BOTTOM","LEFT","RIGHT","rootSelectorOrElement","tickMs","totalSize","visibleSize","activeSize","symmetrical","activeBulletClass","bemRoot","inactiveClass","getModifiedClass","activeHalfSize","Math","floor","getRootElement","querySelector","modifier","res","rootElement","focus","preventScroll","bulletsLayer","createBullets","startReloadingSpinnerBack","startReloadingSpinner","getLoopTimeMs","count","bulletElements","i","bulletEl","push","activateBullet","activeIdx","distanceFromActive","distanceFromActiveAbs","abs","stopAfterLoopEnd","loopEndCallback","finishAfterLoopEnd","finishAfterLoopEndCallback","_this$bulletsLayer","_this$rootElement","clearBulletActiveStates","stopReloadSpinner","blur","_this$bulletElements","spinnerInterval","clearInterval","bulletHideTimeout","clearTimeout","setInterval","checkAfterLoopEnd","finishLoop","isVariableUrl","url","indexOf","simpleObjectToStr","obj","separator","valueNameSeparator","strToSimpleObject","str","items","split","item","parts","returnJQueryItem","attr","strLastPart","delimiter","def","dataParts","strFirstPart","rightTrimByString","pos","substring","fixQMarkWithNoSlash","qMarkIdx","sanitizePossibleRelativeUrl","mainSiteUrl","forceSlashBeforeQMark","startsWith","absToRelativeUrl","removeURLParameters","parameters","paramKeys","Array","isArray","parameter","removeURLParameter","urlParts","prefix","encodeURIComponent","pars","lastIndexOf","splice","join","getDpUrlParamName","unifyUrl","removeQuery","removeHash","removeTrailingSlashes","prependSlash","regExp","replace","endsWith","replaceString","isUrlAtOurSite","urlToTest","queryParamsDefinitions","getDpUrlParam","currentUrl","defVal","URL","location","searchParams","get","setDpUrlParam","val","postfixAmpersand","buildDpQueryString","params","unmappedParams","substr","decodeStepParamAdvancedVal","value","paramName","stepDefs","mainValOnlyForSimpleVal","onlyValForExtProps","stepDef","extCfg","ext","defMain","dataObj","_dataObj$val","_dataObj","dataObjStr","atob","JSON","parse","_dataObj$ext$id","_dataObj2","_dataObj2$ext","_extCfg$id","_dataObj$ext$id2","_dataObj3","_dataObj3$ext","_extCfg$id2","encodeStepParamAdvancedVal","_stepDefs$paramName","btoa","stringify","initStepParams","stepDefinitions","mainVal","extVals","extName","getNthStr","supEnabled","isNaN","supStart","supEnd","getCssVar","variableName","documentElement","tmp","getComputedStyle","getPropertyValue","updateCssVar","textStylesIsFontFamilyVal","$key","includes","setMobileSizeCoef","textStylesCfg","winBB","mobileBreakPoint","mobSizeCoef","width","mobile_size_coef","all_in_1_size_coef","round1dec","round","floor1dec","ceil1dec","ceil","round3dec","setTextStyles","_text_styles$font_siz","text_styles","font_size_unit","cssVariables","propName","p_font_size","p_mb","h2_font_size","h5_font_size","unit","unitCnt","h2_mb","h5_mb","percentVal","asyncWait","timeoutMs","Promise","resolve","loadBuilder","mainCfg","instanceCreatorFce","queryParamsDefs","tourId","createNew","builderMode","tours","mainCfgProcessed","builderOrigin","originHashId","triggerId","inNewWindow","mobileAltStepMode","delay","tourCfg","properties","disableStartAnimation","getAdminBarHeight","outerHeight","scrollIntoView","options","align","top","left","cancellable","scrollIntoViewCore","scrollToElementAndAnimate","async","animationClass","animTimeMs","addHighlightClass","removeHighlightClickChildSelector","highlightClass","animateElement","animTime","removeHighlightClass","$removeHighlightClickTargetEl","off","contains","on","wrapElementByContainer","containerClassName","containerId","appendFooterEl","deleteCookie","cookie","setCookie","expiresSeconds","d","Date","setTime","getTime","expires","toUTCString","getCookie","cookies","fromEntries","map","v","decodeURIComponent","getCookieAndDelete"],"mappings":"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","file":"main/dpit-admin-settings-a8e85110.js","sourcesContent":["\r\nexport const VERSION = '5.1.0';\r\n\r\nexport const IS_DEBUG = false;\r\n\r\nexport const VISUALIZE_BB = IS_DEBUG;\r\n\r\nexport const ANIM_DBG = false;\r\n\r\nexport const FEATURES = {\r\n\tcontrolsAutoFocusEnable: true,\r\n\tgoldenRatioPosAlgEn: true,\r\n\tfollowTargetEn: true,\r\n\tresizeRefreshEn: true,\r\n\tfinalizeStepChangeEn: true,\r\n\tuserInteraction: true\r\n};\r\n\r\nexport const CLASSES_CORE = {\r\n\tstepSpecifier: 'dpit-step',\r\n\tthemeSpecifier: 'dpit-theme',\r\n\tlightAccent: 'dpit-light-accent',\r\n\twrap: 'dpit-wrap',\r\n\thighlight: 'dpit-highlight',\r\n\tflier: 'dpit-flier',\r\n\ttooltipReference: 'dpit-tooltip-ref',\r\n\ttooltip: 'dpit-tooltip',\r\n\ttooltipRadiusPadding: 'dpit-tooltip-radius-padding',\r\n\ttooltipText: 'dpit-tooltip-text',\r\n\tarrow: 'dpit-arrow',\r\n\tprogress: 'dpit-progress',\r\n\tprogressBar: 'dpit-progress-bar',\r\n\ttooltipButtons: 'dpit-tooltip-buttons',\r\n\tbullets: 'dpit-bullets',\r\n\trbAnim: 'dpit-anim-rb',\r\n\tnumber: 'dpit-number',\r\n\tbutton: 'dpit-button',\r\n\tbuttonPrevNextWrap: 'dpit-button-pn-wrap',\r\n\tbuttonNext: 'dpit-button--next',\r\n\tbuttonPrev: 'dpit-button--prev',\r\n\tbuttonSkip: 'dpit-button--skip',\r\n\tbuttonDone: 'dpit-button--done',\r\n\toverlay: 'dpit-overlay',\r\n\toverlayContainer: 'dpit-overlay-container',\r\n\tdisableInteraction: 'dpit-disable-interaction',\r\n\thidden: 'dpit-hidden',\r\n\thiddenKeepEvents: 'dpit-hidden-keep-events',\r\n\thiddenHard: 'dpit-hidden-hard',\r\n\tdisabled: 'dpit-disabled',\r\n\ttourInRun: 'dpit-on',\r\n\tpause: 'dpit-pause',\r\n\tnoTrans: 'dpit-no-trans',\r\n\ttarget: 'dpit-target',\r\n\tnoEvents: 'dpit-no-events',\r\n\ttargetParent: 'dpit-target-parent',\r\n\trelativePosition: 'dpit-relative-position',\r\n\tfixedPosition: 'dpit-fixed-position',\r\n\ttargetDummy: 'dpit-target-dummy',\r\n\tisStickyTheme: 'dpit-is-sticky-theme',\r\n\tdpitScrollBar: 'dpit-scrollbar',\r\n\thasScrollBar: 'dpit-has-scrollbar'\r\n};\r\n\r\nexport const CLASSES_CHILD_POSTFIX = {\r\n\ttext: '__text',\r\n\ticoWrap: '__ico-wrap',\r\n\tico: '__ico',\r\n\tspacer: '__spacer'\r\n};\r\n\r\n\r\nexport const CLASSES_CHILD = {\r\n\tnumberText: CLASSES_CORE.number + CLASSES_CHILD_POSTFIX.text,\r\n\tbuttonText: CLASSES_CORE.button + CLASSES_CHILD_POSTFIX.text,\r\n\tbuttonSpacer: CLASSES_CORE.button + CLASSES_CHILD_POSTFIX.spacer,\r\n\tbuttonIco: CLASSES_CORE.button + CLASSES_CHILD_POSTFIX.ico,\r\n\tbuttonIcoWrap: CLASSES_CORE.button + CLASSES_CHILD_POSTFIX.icoWrap,\r\n};\r\n\r\n\r\n\r\nexport const MODIFIERS = {\r\n\tanim: '--anim',\r\n\tnoOverlay: '--no-overlay',\r\n\tdummy: '--dummy',\r\n\tinHighlight: '--in-highlight',\r\n\tsec: '--sec',\r\n\tvert: '--vert',\r\n\tsymbol: '--symbol',\r\n\tnoText: '--no-text',\r\n\tonTooltip: '--on-tooltip',\r\n\tabove: '--above',\r\n\tclick: '--click',\r\n\tblockClick: '--block-click',\r\n\thover: '--hover',\r\n\tfixed: '--fixed',\r\n\tzIdxFix: '--z-idx-fix',\r\n\thidden: '--hidden',\r\n\t'2dig': '--2dig',\r\n\tcustomStyle: '--cs',\r\n\twhiteSpacingNormal: '--wsn',\r\n\toverLeft: '--over-left',\r\n\toverTop: '--over-top',\r\n\toverRight: '--over-right',\r\n\toverBottom: '--over-bottom',\r\n\tfull: '--full'\r\n};\r\n\r\nexport const EVENTS = {\r\n\tstarted: 'started',\r\n\tonInit: 'onInit',\r\n\tonBeforeEnd: 'onBeforeEnd',\r\n\tended: 'ended',\r\n\tbeforeStepChange: 'beforeStepChange',\r\n\tafterStepChange: 'afterStepChange',\r\n\tonButtonHover: 'onButtonHover',\r\n\tonResize: 'onResize',\r\n\tonBeforeRedirect: 'onBeforeRedirect',\r\n\tonMobileMenuClose: 'onMobileMenuClose',\r\n\tonMobileMenuOpen: 'onMobileMenuOpen',\r\n\tonOverlayClick: 'onOverlayClick',\r\n\tonNoStepsInit: 'onNoStepsInit'\r\n};\r\n\r\nexport const COMMANDS = {\r\n\tgoToNext: 'goToNext',\r\n\tgoToPrev: 'goToPrev',\r\n\tgoToStep: 'goToStep',\r\n\texit: 'exit',\r\n\tsetAccent: 'setAccent',\r\n\tswitchTheme: 'switchTheme',\r\n\tsetCoreOptions: 'setCoreOptions',\r\n\tgetCoreOptions: 'getCoreOptions',\r\n\tstartTour: 'startTour'\r\n};\r\n\r\n\r\nexport const RESIZE_REACTION = {\r\n\tnone: 'none',\r\n\tsoft: 'soft',\r\n\thard: 'hard'\r\n};\r\n\r\nexport const RESIZE_TYPE = {\r\n\tmobUrlBarVisibilityToggle: 'mobUrlBarVisibilityToggle',\r\n\torientationToggle: 'orientationToggle',\r\n\tmajorAreaChange: 'majorAreaChange',\r\n\tminorAreaChange: 'minorAreaChange',\r\n};\r\n\r\nexport const REFRESH_REASONS = {\r\n\tunknown: 'unknown',\r\n\tregular: 'regular',\r\n\tfollowTarget: 'follow-target',\r\n\tresize: 'resize',\r\n\tbuilder: 'builder',\r\n\tstickyDetector: 'sticky-detector',\r\n\trestore: 'restore',\r\n\tfinalize: 'finalize',\r\n\tswitchTheme: 'switch-theme'\r\n};\r\n\r\nexport const RES_PROCESS_ASYNC = {\r\n\tskip: 0,\r\n\tabort: -1,\r\n\tcontinue: 1,\r\n\ttimeout: 2,\r\n\tdeferred: 3,\r\n\tnoData: -2,\r\n\tdone: 4\r\n};\r\n\r\nexport const SCROLL_SPEED = {\r\n\tconstant: 1019.4,\r\n\tlogCoef: -214.1,\r\n\tmaxCoef: 3,\r\n\tmaxParentScrollTimeMs: 1000\r\n};\r\n\r\nexport const RESPONSIVE_MODE = {\r\n\tdesktop: 'desktop',\r\n\tmobile: 'mobile',\r\n\tmobileMenu: 'mobileMenu'\r\n};\r\n\r\nexport const CORE_ENGINES = {\r\n\tbase: 'DpitCore',\r\n\tsticky: 'DpitCoreSticky',\r\n\tbuilder: 'DpitBuilderCore',\r\n\tbuilderSticky: 'DpitBuilderCoreSticky',\r\n};\r\n\r\nexport const TIMING = {\r\n\tuserScrolling: 700,\r\n\tfinalizeExit: 500,\r\n\tresizeReaction: 500,\r\n\tdefaultIterateAfterClick: 500,\r\n\tfinalizeSoftRefresh: 250,\r\n\tdefaultFlierScroll: 300,\r\n\tdefaultTargetScroll: 500\r\n};\r\n\r\nexport const SIZE_LIMITS_PX = {\r\n\tminTooltipContentHeightFixedPos: 20,\r\n\tminTooltipContentHeight: 120,\r\n\tminTooltipHeight: 150\r\n};\r\n\r\n","import DpitMultiStateBtn from './DpitMultiStateBtn';\r\nimport BulletsAnimation from '../../../../includes/assets/js/modules/BulletsAnimation';\r\n\r\nexport default class DpitMultiStateAnimBtn extends DpitMultiStateBtn {\r\n\r\n\r\n\t/**\r\n\t * \r\n\t * @param {Function} onClickCB\r\n\t * @param {object} statesOptions \r\n\t * {'default': { content: 'Default state label', isActive: true },\r\n\t * \t'success': { content: 'Success message', isActive: true },\r\n\t * \t'error': { content: 'Error message', isActive: true }}\r\n\t * @param {string} initState\r\n\t * @param {string} bemRootClass\r\n\t * @param {Array|string} additionalClasses\r\n\t * @param {string} id\r\n\t * @param {string} htmlTag\r\n\t */\r\n\tconstructor(onClickCB, statesOptions = {}, initState = 'default', bemRootClass = 'dpit-admin-btn', additionalClasses = [], inactive = false, id = '', htmlTag = 'div') {\r\n\t\tsuper(onClickCB, statesOptions, initState, bemRootClass, additionalClasses, inactive, id, htmlTag);\r\n\t\t// Animation\r\n\t\tthis.bulletsAnimation = new BulletsAnimation(this.element, bemRootClass + '__anim', 90, 12, 5, 3);\r\n\t}\r\n\r\n\tstartAnimation(backward = false, loops = -1, loopsPassedCb = null) {\r\n\t\tthis.isAnimated = true;\r\n\t\tthis.bulletsAnimation.start(backward, loops, () => this.onAnimationEnded(loopsPassedCb));\r\n\t\tthis.element.style.setProperty('pointer-events', 'none');\r\n\t\tthis.element.style.setProperty('cursor', 'default');\r\n\t\tthis.addStateClass('anim');\r\n\t}\r\n\r\n\tstopAnimation() {\r\n\t\tthis.bulletsAnimation.stop();\r\n\t\tthis.element.style.removeProperty('pointer-events');\r\n\t\tthis.element.style.removeProperty('cursor');\r\n\t\tthis.removeStateClass('anim');\r\n\t\tthis.isAnimated = false;\r\n\t}\r\n\r\n\tonAnimationEnded(loopsPassedCb = null) {\r\n\t\tthis.stopAnimation();\r\n\t\tif (loopsPassedCb) loopsPassedCb();\r\n\t}\r\n\r\n\thideStateItems() {\r\n\t\tthis.stateKeys.forEach(state => {\r\n\t\t\tconst stateEl = this.stateOptions[state].element;\r\n\t\t\tif (stateEl) {\r\n\t\t\t\tstateEl.style.opacity = 0;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tshowStateItems() {\r\n\t\tthis.stateKeys.forEach(state => {\r\n\t\t\tconst stateEl = this.stateOptions[state].element;\r\n\t\t\tif (stateEl) {\r\n\t\t\t\tstateEl.style.opacity = '';\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}","import classNames from 'classnames';\r\n\r\n\r\n\r\nexport default class DpitMultiStateBtn {\r\n\r\n\r\n\t/**\r\n\t * \r\n\t * @param {Function} onClickCB\r\n\t * @param {object} statesOptions \r\n\t * { 'default': 'Default state label', 'success': 'Success message', 'error':'Error message' }\r\n\t * @param {string} initState\r\n\t * @param {string} bemRootClass\r\n\t * @param {Array|string} additionalClasses\r\n\t * @param {string} id\r\n\t * @param {string} htmlTag\r\n\t */\r\n\tconstructor(onClickCB, statesOptions = {}, initState = 'default', bemRootClass = 'dpit-btn', additionalClasses = [], inactive = false, id = '', htmlTag = 'div') {\r\n\t\tthis.element = document.createElement(htmlTag);\r\n\t\tif (id) this.element.id = id;\r\n\t\tthis.element.setAttribute('role', 'button');\r\n\t\tif (typeof additionalClasses === 'string') this.element.className = classNames([bemRootClass, additionalClasses]);\r\n\t\telse this.element.className = classNames([bemRootClass, [...additionalClasses]]);\r\n\r\n\t\tthis.element.addEventListener('click', this.onClickHandler);\r\n\t\tthis.btnBemClass = bemRootClass;\r\n\t\tthis.initStates(statesOptions, bemRootClass);\r\n\t\tthis.setOnlyState(initState);\r\n\t\tthis.onClickCB = onClickCB;\r\n\t\tif (inactive) this.deactivate();\r\n\t}\r\n\r\n\tactivate() {\r\n\t\tthis.removeStateClass('inactive');\r\n\t}\r\n\r\n\tdeactivate() {\r\n\t\tthis.addStateClass('inactive');\r\n\t}\r\n\r\n\r\n\trenderContent(stateEl, stateContent) {\r\n\t\tif (stateContent !== null && stateContent !== undefined) {\r\n\t\t\tif (stateContent instanceof HTMLElement) { stateEl.appendChild(stateContent); return true; }\r\n\t\t\telse if (typeof stateContent === 'string') { stateEl.innerHTML = stateContent; return true; }\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tinitStates(statesOptions, btnBemClass) {\r\n\t\tthis.stateOptions = {};\r\n\t\tthis.stateKeys = Object.keys(statesOptions);\r\n\t\tthis.stateKeys.forEach(state => {\r\n\t\t\tconst stateEl = document.createElement('div');\r\n\t\t\tconst contentBemClassBase = btnBemClass + '__content';\r\n\t\t\tstateEl.classList.add(contentBemClassBase);\r\n\t\t\tstateEl.classList.add(contentBemClassBase + '--' + state);\r\n\r\n\t\t\tconst stateOption = statesOptions[state];\r\n\t\t\tif (stateOption) {\r\n\r\n\t\t\t\tlet stateContent = null;\r\n\t\t\t\tlet newStateOption = null;\r\n\t\t\t\tif (typeof stateOption === 'object') {\r\n\t\t\t\t\tstateContent = stateOption.content;\r\n\t\t\t\t\tnewStateOption = { ...stateOption, element: stateEl };\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tstateContent = stateOption;\r\n\t\t\t\t\tnewStateOption = { content: stateOption, element: stateEl };\r\n\t\t\t\t}\r\n\t\t\t\tif (this.renderContent(stateEl, stateContent)) {\r\n\r\n\t\t\t\t\tthis.element.appendChild(stateEl);\r\n\t\t\t\t\tthis.stateOptions[state] = newStateOption;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetButtonElement() {\r\n\t\treturn this.element;\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.element?.removeEventListener('click', this.onClickHandler);\r\n\t}\r\n\r\n\tdeactivateAll() {\r\n\t\tthis.setOnlyState();\r\n\t}\r\n\r\n\r\n\tclearActiveClasses(state) {\r\n\t\tif (state) {\r\n\t\t\tconst stateOption = this.stateOptions[state];\r\n\t\t\tthis.removeStateClass(stateOption.activeMod);\r\n\t\t\tif (stateOption?.activeClass) this.element.classList.remove(stateOption.activeClass);\r\n\t\t}\r\n\t}\r\n\r\n\tsetActiveClasses(state) {\r\n\t\tconst stateOption = this.stateOptions[state];\r\n\t\tif (stateOption) {\r\n\t\t\tthis.addStateClass(stateOption.activeMod);\r\n\t\t\tif (stateOption?.activeClass) this.element.classList.add(stateOption.activeClass);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveStateClass(state) {\r\n\t\tif (state) this.element.classList.remove(this.btnBemClass + '--' + state);\r\n\t}\r\n\r\n\taddStateClass(state) {\r\n\t\tif (state) this.element.classList.add(this.btnBemClass + '--' + state);\r\n\t}\r\n\r\n\tsetOnlyStateTemporarily(state, followingState = '', timeout = 3000) {\r\n\t\tfollowingState = followingState ? followingState : this.currentState;\r\n\t\tthis.setOnlyState(state);\r\n\t\tif (followingState) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.setOnlyState(followingState);\r\n\t\t\t}, timeout);\r\n\t\t}\r\n\t}\r\n\r\n\tsetOnlyState(state = '') {  // '' => deactivate\r\n\t\tthis.removeStateClass(this.currentState);\r\n\t\tthis.clearActiveClasses(this.currentState);\r\n\t\tthis.stateKeys.forEach(key => {\r\n\t\t\tif (this.stateOptions[key]?.element) {\r\n\t\t\t\tif (state === key) {\r\n\t\t\t\t\tthis.addStateClass(key);\r\n\t\t\t\t\tthis.setActiveClasses(key);\r\n\t\t\t\t}\r\n\t\t\t\tthis.stateOptions[key].element.style.display = state === key ? '' : 'none';\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.currentState = state;\r\n\t}\r\n\r\n\tonClickHandler = (event) => {\r\n\t\tif (this.bulletsAnimation.isRunning) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse if (this.onClickCB instanceof Function) {\r\n\t\t\tthis.onClickCB({ state: this.currentState, button: this });\r\n\t\t}\r\n\t};\r\n\r\n}","\r\nimport tippy from 'tippy.js';\r\nimport urlJoin from 'url-join';\r\nimport 'tippy.js/dist/tippy.css';\r\nimport 'tippy.js/themes/material.css';\r\nimport 'tippy.js/animations/scale.css';\r\nimport classNames from 'classnames';\r\nimport { getInfoIconHtml } from '../../../../includes/assets/js/modules/dpitUtilsInc';\r\n\r\nexport default class AdminSetupTippy {\r\n\r\n\tconstructor(config) {\r\n\t\tif (config.dpDebugEn) console.log('[dpit] INIT AdminSetupTippy');\r\n\t\tthis.config = config;\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tinit = () => {\r\n\r\n\t\t$('.dpit-settings__el__hint').each((idx, element) => {\r\n\t\t\tconst jHintEl = $(element);\r\n\t\t\tconst jTdElement = jHintEl.closest('td');\r\n\t\t\tconst proOnly = jTdElement.find('.dpit-settings__el').hasClass('dpit-pro-only');\r\n\t\t\tconst title = jHintEl.closest('tr').find('th').text();\r\n\t\t\tlet text = jHintEl.html() || '';\r\n\t\t\tif (text.length) {\r\n\t\t\t\tconst iconClasses = classNames({\r\n\t\t\t\t\t['dpit-info-icon']: true,\r\n\t\t\t\t\t['dpit-info-icon--inline']: true,\r\n\t\t\t\t\t['dpit-info-icon--bigger']: true,\r\n\t\t\t\t\t['dpit-info-icon--settings']: true,\r\n\t\t\t\t\t['dpit-info-icon--pro-only']: proOnly\r\n\t\t\t\t});\r\n\t\t\t\tjTdElement.addClass('dpit-settings--with-info-icon').append(getInfoIconHtml(iconClasses, text, title));\r\n\t\t\t\tjHintEl.fadeOut(300, () => {\r\n\t\t\t\t\t$('.dpit-info-icon').each((idx, element) => {\r\n\t\t\t\t\t\ttippy(element, {\r\n\t\t\t\t\t\t\tcontent: (reference) => reference.getAttribute('data-info-text'),\r\n\t\t\t\t\t\t\tanimation: 'scale',\r\n\t\t\t\t\t\t\ttheme: 'material',\r\n\t\t\t\t\t\t\tallowHTML: true,\r\n\t\t\t\t\t\t\tinteractive: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$('.dpit-info-icon').load(urlJoin(this.config.assetsUrl, '../../includes/assets/icons/info-circle-solid.svg'), () => {\r\n\t\t\t\t\t\t$('.dpit-info-icon').fadeIn(700);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n}","export default class ColorPicker {\r\n\tconstructor(config) {\r\n\t\tif (config.dpDebugEn) console.log('[dpit] INIT ColorPicker');\r\n\t\t$('.dp-color-picker-field').wpColorPicker();\r\n\t}\r\n}\r\n","import axios from 'axios';\r\nimport AxiosError from 'axios-error';\r\nimport urlJoin from 'url-join';\r\nimport DpitMultiStateAnimBtn from './DpitMultiStateAnimBtn';\r\n\r\nexport const CLASSES = {\r\n\tbutton: 'dpit-admin-btn'\r\n};\r\n\r\n\r\nexport default class DpitAdminBtnActions {\r\n\r\n\tconstructor(config) {\r\n\t\tif (config.dpDebugEn) console.log('DpitAdminBtnActions');\r\n\t\tthis.config = config;\r\n\t\tthis.registerActions(['clear_visit_count']);\r\n\t}\r\n\r\n\tregisterActions(actionNames) {\r\n\r\n\t\tactionNames.forEach((name) => {\r\n\t\t\tconst id = `dpit_action_${name}`;\r\n\t\t\tconst containerEl = document.getElementById(id);\r\n\t\t\tif (containerEl) {\r\n\r\n\t\t\t\tconst actionButton = new DpitMultiStateAnimBtn(\r\n\t\t\t\t\t(buttonArgs) => this.processAction(buttonArgs?.button, name),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'default': containerEl.getAttribute('data-title'),\r\n\t\t\t\t\t\t'success': containerEl.getAttribute('data-msg-success'),\r\n\t\t\t\t\t\t'error': containerEl.getAttribute('data-msg-failed')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'default',\r\n\t\t\t\t\tCLASSES.button,\r\n\t\t\t\t\t'button-secondary'\r\n\r\n\t\t\t\t);\r\n\t\t\t\tcontainerEl.appendChild(actionButton.getButtonElement());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * Insert animation and highlight class to the element\r\n\t * @param {DpitMultiStateAnimBtn} button\r\n\t * @param {string} name\r\n\t */\r\n\tprocessAction = (button, name) => {\r\n\t\t// adjust settings in db\r\n\r\n\t\tconst dataToPost = { actionName: name };\r\n\t\tbutton.startAnimation();\r\n\t\taxios.post(\r\n\t\t\turlJoin(this.config.siteUrl, '/wp-json/dpintrotours/v1/trigger-action'),\r\n\t\t\tdataToPost,\r\n\t\t\t{ headers: { 'X-WP-Nonce': this.config.nonces.wp_rest } }\r\n\t\t)\r\n\t\t\t.then(() => {\r\n\t\t\t\tbutton.stopAnimation();\r\n\t\t\t\tbutton.setOnlyStateTemporarily('success', 'default');\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(new AxiosError(error));\r\n\t\t\t\tbutton.setOnlyStateTemporarily('failed', 'default');\r\n\t\t\t});\r\n\t};\r\n\r\n}","import AdminSetupTippy from './modules/AdminSetupTippy';\r\nimport ColorPicker from './modules/ColorPicker';\r\nimport DpitAdminBtnActions from './modules/DpitAdminBtnActions';\r\n\r\njQuery(document).ready(($) => {\r\n\twindow.$ = $;\r\n\tif (window.dp_main_admin_settings_config.dpDebugEn) console.log('Admin Settings config:', window.dp_main_admin_settings_config);\r\n\tnew AdminSetupTippy(window.dp_main_admin_settings_config);\r\n\tnew ColorPicker(window.dp_main_admin_settings_config);\r\n\tnew DpitAdminBtnActions(window.dp_main_admin_settings_config);\r\n});\r\n","export const AppState = {\r\n\tINIT: 'INIT',\r\n\tVIEW: 'VIEW',\r\n\tPANEL_EDIT: 'PANEL_EDIT',\r\n\tTARGET_SELECTION: 'TARGET_SELECTION',\r\n\tREDIRECT_MODAL_OPENED: 'REDIRECT_MODAL_OPENED',\r\n\tTMCE_MODAL_OPENED: 'TMCE_MODAL_OPENED',\r\n\tREDIRECTING: 'REDIRECTING',\r\n\tPROMO_MODAL_OPENED: 'PROMO_MODAL_OPENED',\r\n\tCANCEL: 'CANCEL',\r\n\tSTEP_CHANGING: 'STEP_CHANGING',\r\n\tPAUSE: 'PAUSE',\r\n\tPAUSE_TARGET_SEL_1_CLICK: 'PAUSE_TARGET_SEL_1_CLICK',\r\n};\r\n\r\nexport const ProcessState = {\r\n\tIDLE: 'IDLE',\r\n\tPROCESSING: 'PROCESSING',\r\n\tPROCESSED: 'PROCESSED',\r\n\tERROR: 'ERROR',\r\n};\r\n/*\r\nexport const TargetType = {\r\n\tSTEP: '1',\r\n\tTRIGGER: '2',\r\n\tMOBILE_MENU: '3',\r\n\tURL_VAR_EXAMPLES: '4',\r\n};*/\r\n\r\nexport const TargetType = {\r\n\tSTEP: 'step',\r\n\tTRIGGER: 'trigger',\r\n\tMOBILE_MENU: 'mobileMenu',\r\n\tURL_VAR_EXAMPLES: 'urlVarExamples',\r\n};\r\n\r\nexport const Origin = {\r\n\tFRONTEND: 'frontend',\r\n\tADMIN: 'admin',\r\n\tSETTINGS: 'settings',\r\n};\r\n\r\nexport const Position = {\r\n\tTOP: 'TOP',\r\n\tBOTTOM: 'BOTTOM',\r\n\tLEFT: 'LEFT',\r\n\tRIGHT: 'RIGHT',\r\n};\r\n\r\n\r\n","import classNames from 'classnames';\r\n\r\nexport default class BulletsAnimation {\r\n\t/**\r\n\t * Insert animation and highlight class to the element specified by rootSelectorOrElement\r\n\t * @param {Element|String} rootSelectorOrElement\r\n\t * @param {Array|String} additionalClasses\r\n\t * @param {string} removeHighlightClickChildSelector\r\n\t * @param {Number} tickMs\r\n\t * @param {Int} totalSize \r\n\t * @param {Int} visibleSize \r\n\t * @param {Int} activeSize \r\n\t * @param {Bool} symmetrical \r\n\t * @param {string} id\r\n\t * @param {string} activeBulletClass\r\n\t */\r\n\tconstructor(rootSelectorOrElement, additionalClasses = '', tickMs = 70, totalSize = 15, visibleSize = 6, activeSize = 4, symmetrical = true, id = '', activeBulletClass = 'dpit-on') {\r\n\r\n\t\tthis.rootSelectorOrElement = rootSelectorOrElement;\r\n\t\tthis.bemRoot = 'dpit-anim-rb';\r\n\t\tthis.additionalClasses = classNames([additionalClasses, 'dpit-anim-rb']);\r\n\t\tthis.inactiveClass = BulletsAnimation.getModifiedClass(this.bemRoot, 'off');\r\n\t\tthis.activeClass = activeBulletClass;\r\n\t\tthis.id = id;\r\n\t\tthis.visibleSize = visibleSize;\r\n\t\tthis.totalSize = totalSize;\r\n\t\tthis.tickMs = tickMs;\r\n\t\tthis.activeSize = activeSize;\r\n\t\tthis.activeHalfSize = Math.floor(activeSize / 2);\r\n\t\tthis.symmetrical = symmetrical;\r\n\t}\r\n\r\n\tgetRootElement() {\r\n\t\treturn this.rootSelectorOrElement instanceof HTMLElement\r\n\t\t\t? this.rootSelectorOrElement\r\n\t\t\t: document.querySelector(this.rootSelectorOrElement);\r\n\t}\r\n\r\n\tstatic getModifiedClass(bemRoot, modifier) {\r\n\t\tlet res = '';\r\n\t\tif (bemRoot) res = bemRoot + '--';\r\n\t\tres += modifier;\r\n\t\treturn res;\r\n\t}\r\n\r\n\tstart(backward = false, loops = -1, loopsPassedCb = null) {\r\n\t\tthis.backward = backward;\r\n\t\tthis.rootElement = this.getRootElement();\r\n\t\tif (this.rootElement) {\r\n\t\t\tthis.rootElement.focus({ preventScroll: true });\r\n\t\t\tthis.isRunning = true;\r\n\t\t\tif (!this.bulletsLayer) {\r\n\t\t\t\tthis.createBullets(this.visibleSize, this.rootElement);\r\n\t\t\t} else {\r\n\t\t\t\tthis.bulletsLayer.classList.remove(this.inactiveClass);\r\n\t\t\t}\r\n\r\n\t\t\tif (backward) this.startReloadingSpinnerBack(loops, loopsPassedCb);\r\n\t\t\telse this.startReloadingSpinner(loops, loopsPassedCb);\r\n\t\t}\r\n\t}\r\n\r\n\tgetLoopTimeMs() {\r\n\t\treturn this.totalSize * this.tickMs;\r\n\t}\r\n\r\n\tcreateBullets(count, rootElement) {\r\n\r\n\t\tthis.bulletsLayer = document.createElement('div');\r\n\t\tthis.bulletsLayer.className = classNames([this.bemRoot, this.additionalClasses]);\r\n\t\tthis.bulletsLayer.setAttribute('aria-hidden', 'true');\r\n\t\tthis.bulletsLayer.id = this.id;\r\n\t\tthis.bulletsLayer.style.opacity = 0;\r\n\t\tthis.bulletsLayer.style.display = 'block';\r\n\t\tthis.bulletElements = [];\r\n\t\tconst containerEl = document.createElement('div');\r\n\t\tcontainerEl.classList.add(this.bemRoot + '__wrap');\r\n\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\tconst bulletEl = document.createElement('div');\r\n\t\t\tthis.bulletElements.push(bulletEl);\r\n\t\t\tcontainerEl.appendChild(bulletEl);\r\n\t\t}\r\n\t\tthis.bulletsLayer.appendChild(containerEl);\r\n\t\tthis.bulletsLayer.style.opacity = 1;\r\n\t\trootElement.appendChild(this.bulletsLayer);\r\n\t}\r\n\r\n\r\n\r\n\tactivateBullet(activeIdx) {\r\n\t\tthis.bulletElements.forEach((element, idx) => {\r\n\t\t\tlet className = '';\r\n\t\t\tconst distanceFromActive = activeIdx - idx;\r\n\t\t\tif (distanceFromActive === 0) {\r\n\t\t\t\tclassName = this.activeClass;\r\n\t\t\t} else {\r\n\t\t\t\tconst distanceFromActiveAbs = Math.abs(distanceFromActive);\r\n\t\t\t\tif (this.symmetrical) {\r\n\t\t\t\t\tif (distanceFromActiveAbs <= this.activeHalfSize) {\r\n\t\t\t\t\t\tclassName = this.activeClass + '--' + distanceFromActiveAbs;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (distanceFromActiveAbs < this.activeSize) {\r\n\t\t\t\t\tif (distanceFromActive > 0 && !this.backward) {\r\n\t\t\t\t\t\tclassName = this.activeClass + '--' + distanceFromActiveAbs;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (distanceFromActive < 0 && this.backward) {\r\n\t\t\t\t\t\tclassName = this.activeClass + '--' + distanceFromActiveAbs;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telement.className = className;\r\n\t\t});\r\n\t}\r\n\r\n\tstopAfterLoopEnd(loopEndCallback = null) {\r\n\t\tthis.finishAfterLoopEnd = true;\r\n\t\tthis.finishAfterLoopEndCallback = loopEndCallback;\r\n\t}\r\n\r\n\tstop() {\r\n\t\tthis.bulletsLayer?.classList.add(this.inactiveClass);\r\n\t\tthis.clearBulletActiveStates();\r\n\t\tthis.stopReloadSpinner();\r\n\t\tthis.rootElement?.blur();\r\n\t}\r\n\r\n\tclearBulletActiveStates() {\r\n\t\tthis.bulletElements?.forEach(element => {\r\n\t\t\telement.className = '';\r\n\t\t});\r\n\t}\r\n\r\n\tstopReloadSpinner() {\r\n\t\tif (this.spinnerInterval) clearInterval(this.spinnerInterval);\r\n\t\tthis.spinnerInterval = null;\r\n\t\tthis.isRunning = false;\r\n\t}\r\n\r\n\tstartReloadingSpinner(loops, loopsPassedCb) {\r\n\t\tlet idx = this.symmetrical ? - this.activeHalfSize : 0;\r\n\t\tif (this.spinnerInterval) clearInterval(this.spinnerInterval);\r\n\t\tif (this.bulletHideTimeout) clearTimeout(this.bulletHideTimeout);\r\n\t\tthis.spinnerInterval = setInterval(() => {\r\n\t\t\tthis.activateBullet(idx, idx - 1);\r\n\t\t\tidx++;\r\n\t\t\tif (idx > this.totalSize) {\r\n\t\t\t\tidx = this.symmetrical ? - this.activeHalfSize : 0;\r\n\t\t\t\tthis.checkAfterLoopEnd();\r\n\t\t\t\tif (loops > 0) {\r\n\t\t\t\t\tloops = this.finishLoop(loops, loopsPassedCb);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}, this.tickMs);\r\n\t}\r\n\r\n\tstartReloadingSpinnerBack(loops, loopsPassedCb) {\r\n\t\tif (this.spinnerInterval) clearInterval(this.spinnerInterval);\r\n\t\tif (this.bulletHideTimeout) clearTimeout(this.bulletHideTimeout);\r\n\t\tlet idx = this.symmetrical ? this.visibleSize + this.activeHalfSize : this.visibleSize;\r\n\t\tthis.spinnerInterval = setInterval(() => {\r\n\t\t\tthis.activateBullet(idx);\r\n\t\t\tidx--;\r\n\t\t\tif (idx < this.visibleSize - this.totalSize) {\r\n\t\t\t\tidx = this.symmetrical ? this.visibleSize + this.activeHalfSize : this.visibleSize;\r\n\t\t\t\tthis.checkAfterLoopEnd();\r\n\t\t\t\tif (loops > 0) {\r\n\t\t\t\t\tloops = this.finishLoop(loops, loopsPassedCb);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}, this.tickMs);\r\n\t}\r\n\r\n\tcheckAfterLoopEnd() {\r\n\t\tif (this.finishAfterLoopEnd) {\r\n\t\t\tthis.finishAfterLoopEnd = false;\r\n\t\t\tthis.stop();\r\n\t\t\tif (this.finishAfterLoopEndCallback instanceof Function) this.finishAfterLoopEndCallback();\r\n\t\t\tthis.finishAfterLoopEndCallback = null;\r\n\t\t}\r\n\t}\r\n\r\n\tfinishLoop(loops, loopsPassedCb) {\r\n\t\tif (loops > 0) {\r\n\t\t\tloops--;\r\n\t\t\tif (loops === 0) {\r\n\t\t\t\tthis.stop();\r\n\t\t\t\tif (loopsPassedCb && loopsPassedCb instanceof Function) loopsPassedCb();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn loops;\r\n\t}\r\n\r\n}\r\n","import scrollIntoViewCore from 'scroll-into-view';\r\nimport replaceString from 'replace-string';\r\nimport urlJoin from 'url-join';\r\nimport { RESPONSIVE_MODE } from '../../../../public/assets/js/modules/core/constants';\r\nimport { TargetType } from '../../../../public/assets/js/apps/TourStepEditor/store/appMode';\r\n\r\n\r\n\r\nexport const init = (dpDebugEn) => {\r\n\tif (dpDebugEn) console.log('[dpit] INIT dpitUtilsInc');\r\n};\r\n\r\nexport const strCapitalize = (inputString) => {\r\n\treturn inputString.charAt(0).toUpperCase() + inputString.slice(1);\r\n};\r\n\r\nexport const isVariableUrl = (url) => {\r\n\tconst start = url.indexOf('{');\r\n\tconst stop = url.indexOf('}');\r\n\treturn start >= 0 && stop > start;\r\n};\r\n\r\nexport const fillUrlVariables = (urlVars, url) => {\r\n\tif (urlVars && url) {\r\n\t\tObject.keys(urlVars).forEach((varId) => {\r\n\t\t\turl = replaceString(url, `{${varId}}`, urlVars[varId]);\r\n\t\t});\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const simpleObjectToStr = (obj, separator = '|', valueNameSeparator = '=') => {\r\n\tlet res = '';\r\n\tif (obj) {\r\n\t\tObject.keys(obj).forEach((key, idx) => {\r\n\t\t\tif (idx != 0) res += separator;\r\n\t\t\tres += `${key}${valueNameSeparator}${obj[key]}`;\r\n\t\t});\r\n\t}\r\n\treturn res;\r\n};\r\n\r\nexport const strToSimpleObject = (str, separator = '|', valueNameSeparator = '=') => {\r\n\tconst res = {};\r\n\tif (str) {\r\n\t\tconst items = str.split(separator);\r\n\t\tif (items) {\r\n\t\t\titems.forEach((item) => {\r\n\t\t\t\tconst parts = item.split(valueNameSeparator);\r\n\t\t\t\tif (parts && parts.length >= 2) {\r\n\t\t\t\t\tres[parts[0]] = parts[1];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\treturn res;\r\n};\r\n\r\nexport const getInfoIconHtml = (className, text, title = '', returnJQueryItem = true) => {\r\n\tif (title) text = `<strong class=\"info-tip-title\">${title}</strong>${text}`;\r\n\tif (returnJQueryItem) return $(`<div class=\"${className}\"></div>`).attr('data-info-text', text);\r\n\telse return `<div class='${className}' data-info-text='${text}'></div>`;\r\n};\r\n\r\nexport const strLastPart = (text, delimiter = '.', def = '') => {\r\n\tconst dataParts = text.split(delimiter);\r\n\tif (dataParts && dataParts.length > 0) {\r\n\t\treturn dataParts[dataParts.length - 1];\r\n\t}\r\n\treturn def;\r\n};\r\n\r\nexport const strFirstPart = (text, delimiter = '.', def = '') => {\r\n\tconst dataParts = text.split(delimiter);\r\n\tif (dataParts && dataParts.length > 0) {\r\n\t\treturn dataParts[0];\r\n\t}\r\n\treturn def;\r\n};\r\n\r\nexport const rightTrimByString = (url, delimiter = '.') => {\r\n\r\n\tconst pos = url.indexOf(delimiter);\r\n\tif (pos >= 0) {\r\n\t\treturn url.substring(0, pos);\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const fixQMarkWithNoSlash = (url) => {\r\n\tconst qMarkIdx = url.indexOf('?');\r\n\tif (qMarkIdx >= 0) {\r\n\t\tif (qMarkIdx === 0 || url[qMarkIdx - 1] != '/') {\r\n\t\t\turl = `${url.substring(0, qMarkIdx)}/${url.substring(qMarkIdx)}`;\r\n\t\t}\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const forceQMarkWithoutSlash = (url) => {\r\n\tconst qMarkIdx = url.indexOf('?');\r\n\tif (qMarkIdx > 0 && url[qMarkIdx - 1] == '/') {\r\n\t\turl = url.substring(0, qMarkIdx - 1) + url.substring(qMarkIdx);\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const sanitizePossibleRelativeUrl = (url, mainSiteUrl, forceSlashBeforeQMark = false) => {\r\n\tif (url.startsWith('/')) {\r\n\t\turl = urlJoin(mainSiteUrl, url);\r\n\t\tif (forceSlashBeforeQMark) {\r\n\t\t\turl = fixQMarkWithNoSlash(url);\r\n\t\t}\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const absToRelativeUrl = (url, mainSiteUrl) => {\r\n\tif (mainSiteUrl && url.startsWith(mainSiteUrl)) {\r\n\t\turl = url.substring(mainSiteUrl.length);\r\n\t\tif (!url.startsWith('/')) url = `/${url}`;\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const removeURLParameter = (url, parameter) => {\r\n\t// prefer to use l.search if you have a location/link object\r\n\tconst urlParts = url.split('?');\r\n\tif (urlParts.length >= 2) {\r\n\t\tconst prefix = `${encodeURIComponent(parameter)}=`;\r\n\t\tconst pars = urlParts[1].split(/[&;]/g);\r\n\r\n\t\t// reverse iteration as may be destructive\r\n\t\tfor (let i = pars.length; i-- > 0;) {\r\n\t\t\t// idiom for string.startsWith\r\n\t\t\tif (pars[i].lastIndexOf(prefix, 0) !== -1) {\r\n\t\t\t\tpars.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn urlParts[0] + (pars.length > 0 ? `?${pars.join('&')}` : '');\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const removeURLParameters = (url, parameters) => {\r\n\tlet paramKeys = parameters;\r\n\tif (!Array.isArray(parameters)) paramKeys = Object.keys(parameters);\r\n\tparamKeys.forEach((parameter) => {\r\n\t\turl = removeURLParameter(url, getDpUrlParamName(parameter, parameters));\r\n\t});\r\n\treturn url;\r\n};\r\n\r\nexport const unifyUrl = (url, removeQuery = true, removeHash = true, removeTrailingSlashes = true, prependSlash = false) => {\r\n\tif (url) {\r\n\t\turl = strLastPart(url, '://', url);\r\n\t\tif (url && url.startsWith('www.')) url = url.substring(4);\r\n\t\tif (url && removeHash) url = strFirstPart(url, '#', url);\r\n\t\tif (url && removeQuery) {\r\n\t\t\turl = strFirstPart(url, '?', url);\r\n\t\t} else {\r\n\t\t\turl = fixQMarkWithNoSlash(url);\r\n\t\t}\r\n\t\tif (url) {\r\n\t\t\tlet regExp = /\\/+$/;\r\n\t\t\tif (!removeTrailingSlashes) {\r\n\t\t\t\tregExp = /^\\/+/g;\r\n\t\t\t}\r\n\t\t\turl = url.replace(regExp, '');\r\n\t\t}\r\n\t\tif (url && prependSlash) {\r\n\t\t\turl = `/${url}`;\r\n\t\t}\r\n\t}\r\n\tif (!url) {\r\n\t\turl = '/';\r\n\t}\r\n\telse {\r\n\t\tif (url.endsWith('/index.php')) {\r\n\t\t\turl = rightTrimByString(url, '/index.php');\r\n\t\t} else if (!removeQuery) {\r\n\t\t\turl = replaceString(url, '/index.php/', '/');\r\n\t\t}\r\n\t}\r\n\treturn url;\r\n};\r\n\r\nexport const isUrlAtOurSite = (urlToTest, siteUrl) => {\r\n\treturn urlToTest.startsWith(siteUrl);\r\n};\r\n/*\r\nexport const isUrlAtOurSite = (urlToTest, siteUrl) => {\r\n\tlet urlToTestAbs = sanitizePossibleRelativeUrl(urlToTest, siteUrl);\r\n\treturn urlToTestAbs.startsWith(siteUrl);\r\n\r\n};*/\r\n\r\n\r\nexport const getDpUrlParamName = (id, queryParamsDefinitions) => {\r\n\tlet res = id;\r\n\tif (queryParamsDefinitions) res = queryParamsDefinitions[id];\r\n\treturn res;\r\n};\r\n\r\nexport const getDpUrlParam = (id, queryParamsDefinitions, currentUrl = null, defVal = null) => {\r\n\tlet res = defVal;\r\n\tconst key = getDpUrlParamName(id, queryParamsDefinitions);\r\n\tif (key) {\r\n\t\tif (!currentUrl) currentUrl = new URL(window.location);\r\n\t\tres = currentUrl.searchParams.get(key);\r\n\t}\r\n\treturn res;\r\n};\r\n\r\nexport const setDpUrlParam = (id, queryParamsDefinitions, val, postfixAmpersand = true) => {\r\n\tlet res = '';\r\n\tconst key = getDpUrlParamName(id, queryParamsDefinitions);\r\n\tif (key) {\r\n\t\tres = key + '=' + val;\r\n\t\tif (postfixAmpersand) res += '&';\r\n\t}\r\n\treturn res;\r\n};\r\n\r\nexport const buildDpQueryString = (params, queryParamsDefinitions, prefix = '?', unmappedParams = null) => {\r\n\tlet res = prefix;\r\n\tif (unmappedParams) {\r\n\t\tconst idsUm = Object.keys(unmappedParams);\r\n\t\tidsUm.forEach((id) => {\r\n\t\t\tif (unmappedParams[id] !== null && unmappedParams[id] !== undefined && unmappedParams[id] !== '')\r\n\t\t\t\tres += id + '=' + unmappedParams[id] + '&';\r\n\t\t});\r\n\t}\r\n\tif (params) {\r\n\t\tconst ids = Object.keys(params);\r\n\t\tids.forEach((id) => {\r\n\t\t\tif (params[id] !== null && params[id] !== undefined && params[id] !== '')\r\n\t\t\t\tres += setDpUrlParam(id, queryParamsDefinitions, params[id]);\r\n\t\t});\r\n\t}\r\n\r\n\tif (res && res[res.length - 1] == '&') res = res.substr(0, res.length - 1);\r\n\tif (res == prefix) res = '';\r\n\treturn res;\r\n};\r\n\r\nexport const decodeStepParamAdvancedVal = (value, paramName, stepDefs, mainValOnlyForSimpleVal = true, onlyValForExtProps = false) => {\r\n\tconst stepDef = stepDefs?.[paramName];\r\n\tconst extCfg = stepDef?.ext;\r\n\tlet res = {\r\n\t\tval: value ?? stepDef?.defMain,\r\n\t\text: {}\r\n\t};\r\n\tif (value?.startsWith('base64__') || extCfg) {\r\n\t\tlet dataObj = null;\r\n\t\tif (value?.startsWith('base64__')) {\r\n\t\t\tconst dataObjStr = atob(value.substr(8));\r\n\t\t\tdataObj = dataObjStr ? JSON.parse(dataObjStr) : null;\r\n\t\t\tres.val = dataObj?.val ?? stepDef?.defMain;\r\n\t\t}\r\n\t\tif (extCfg) {\r\n\t\t\tObject.keys(extCfg).forEach(id => {\r\n\t\t\t\tif (onlyValForExtProps) {\r\n\t\t\t\t\tres.ext[id] = dataObj?.ext?.[id] ?? extCfg[id]?.def;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tres.ext[id] = {\r\n\t\t\t\t\t\t...extCfg[id],\r\n\t\t\t\t\t\tval: dataObj?.ext?.[id] ?? extCfg[id]?.def\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t} else if (mainValOnlyForSimpleVal) {\r\n\t\tres = value;\r\n\t}\r\n\treturn res;\r\n};\r\n\r\nexport const encodeStepParamAdvancedVal = (value, paramName, stepDefs) => {\r\n\tconst extCfg = stepDefs?.[paramName]?.ext;\r\n\treturn extCfg ? 'base64__' + btoa(JSON.stringify(value)) : value;\r\n};\r\n\r\nexport const initStepParams = (stepDefinitions) => {\r\n\tconst res = {};\r\n\tObject.keys(stepDefinitions).forEach(paramName => {\r\n\t\tlet mainVal = '';\r\n\t\tif (stepDefinitions[paramName]) {\r\n\t\t\tmainVal = stepDefinitions[paramName].def || '';\r\n\t\t\tif (stepDefinitions[paramName].ext) {\r\n\t\t\t\tlet extVals = {};\r\n\t\t\t\tObject.keys(stepDefinitions[paramName].ext).forEach(extName => {\r\n\t\t\t\t\textVals[extName] = stepDefinitions[paramName].ext[extName].def;\r\n\t\t\t\t});\r\n\t\t\t\tmainVal = {\r\n\t\t\t\t\tval: mainVal,\r\n\t\t\t\t\text: extVals\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tres[paramName] = mainVal;\r\n\t});\r\n\treturn res;\r\n};\r\n\r\nexport const getNthStr = (idx, supEnabled = true) => {\r\n\tif (idx !== false && !isNaN(idx)) {\r\n\t\tlet supStart = '';\r\n\t\tlet supEnd = '';\r\n\t\tif (supEnabled) {\r\n\t\t\tsupStart = '<span class=\"dpit-sup\">';\r\n\t\t\tsupEnd = '</span>';\r\n\t\t}\r\n\t\tlet res = '';\r\n\t\tswitch (idx) {\r\n\t\t\tcase 1: res = `1${supStart}st${supEnd}`; break;\r\n\t\t\tcase 2: res = `2${supStart}nd${supEnd}`; break;\r\n\t\t\tcase 3: res = `3${supStart}rd${supEnd}`; break;\r\n\t\t\tdefault: res = `${idx}${supStart}th${supEnd}`; break;\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\treturn '';\r\n};\r\n\r\n\r\nexport const getCssVar = (variableName, def = null, element = document.documentElement) => {\r\n\tlet res = def;\r\n\tif (element && variableName) {\r\n\t\tconst tmp = getComputedStyle(element).getPropertyValue(variableName);\r\n\t\tif (tmp !== null && tmp !== undefined && tmp !== '') {\r\n\t\t\tres = tmp;\r\n\t\t}\r\n\t}\r\n\treturn res;\r\n};\r\n\r\nexport const updateCssVar = (name, value, element = document.documentElement) => {\r\n\telement.style.setProperty(name, value);\r\n};\r\n\r\nexport const textStylesIsHOrPOption = ($key) => {\r\n\treturn $key.length >= 3 && ($key[0] === 'p' && $key[1] === '_' || $key[0] === 'h' && $key[2] === '_');\r\n};\r\n\r\nexport const textStylesIsFontFamilyVal = ($key) => {\r\n\treturn ['p_font', 'h_font', 'btn_font'].includes($key);\r\n};\r\n\r\nexport const setMobileSizeCoef = (textStylesCfg, winBB = null, mobileBreakPoint = -1, element = document.documentElement) => {\r\n\tif (textStylesCfg) {\r\n\t\tconst mobSizeCoef = (mobileBreakPoint > 0 && winBB && winBB.width <= mobileBreakPoint) ? textStylesCfg.mobile_size_coef / 100 : 1;\r\n\t\tupdateCssVar('--font-size-coef', mobSizeCoef * textStylesCfg.all_in_1_size_coef / 100, element);\r\n\t}\r\n};\r\n\r\nexport const round1dec = (number) => {\r\n\treturn Math.round(number * 10) / 10;\r\n};\r\n\r\nexport const floor1dec = (number) => {\r\n\treturn Math.floor(number * 10) / 10;\r\n};\r\n\r\nexport const ceil1dec = (number) => {\r\n\treturn Math.ceil(number * 10) / 10;\r\n};\r\n\r\nexport const round3dec = (number) => {\r\n\treturn Math.round(number * 1000) / 1000;\r\n};\r\n\r\nexport const round6dec = (number) => {\r\n\treturn Math.round(number * 1000000) / 1000000;\r\n};\r\n\r\nexport const setTextStyles = (textStylesCfg, winBB = null, mobileBreakPoint = -1, element = document.documentElement) => {\r\n\r\n\tif (textStylesCfg && element) {\r\n\t\tsetMobileSizeCoef(textStylesCfg, winBB, mobileBreakPoint, element);\r\n\t\tconst text_styles = { ...textStylesCfg };\r\n\t\tconst font_size_unit = text_styles.font_size_unit ?? 'em';\r\n\t\tconst cssVariables = [];\r\n\r\n\t\tObject.keys(text_styles).forEach(propName => {\r\n\t\t\tif (textStylesIsFontFamilyVal(propName)) {\r\n\t\t\t\tcssVariables[`--${propName}`] = (text_styles[propName] || text_styles[propName] == '0') ? text_styles[propName] : 'inherit';\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (text_styles.p_font_size || text_styles.p_font_size === '0') {\r\n\t\t\tcssVariables['--p_font_size'] = 'calc(' + text_styles.p_font_size + font_size_unit + '*var(--font-size-coef))';\r\n\t\t\tif (text_styles.p_mb || text_styles.p_mb === '0') {\r\n\t\t\t\tcssVariables['--p_mb'] = 'calc(' + round3dec(text_styles.p_mb / 100) + '*' + cssVariables['--p_font_size'] + ')';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (text_styles.h2_font_size || text_styles.h2_font_size == 0 && text_styles.h5_font_size || text_styles.h5_font_size == 0) {\r\n\t\t\tconst unit = (text_styles.h2_font_size - text_styles.h5_font_size) / 4;\r\n\t\t\tfor (let i = 1; i <= 6; i++) {\r\n\t\t\t\tconst unitCnt = i - 2;\r\n\t\t\t\tcssVariables[`--h${i}_font_size`] = 'calc(' + round3dec(text_styles.h2_font_size - unitCnt * unit) + font_size_unit + '*var(--font-size-coef))';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (text_styles.h2_mb || text_styles.h2_mb == 0 && text_styles.h5_mb || text_styles.h5_mb == 0) {\r\n\t\t\tconst unit = (text_styles.h2_mb - text_styles.h5_mb) / 4;\r\n\t\t\tfor (let i = 1; i <= 6; i++) {\r\n\t\t\t\tconst unitCnt = i - 2;\r\n\t\t\t\tconst percentVal = round3dec(text_styles.h2_mb - unitCnt * unit);\r\n\t\t\t\tcssVariables[`--h${i}_mb`] = 'calc(' + round3dec(percentVal / 100) + '*' + cssVariables[`--h${i}_font_size`] + ')';\r\n\t\t\t\tif (i === 2) {\r\n\t\t\t\t\tcssVariables['--dpit-unit'] = 'calc(' + round3dec(percentVal * 1.3 /*line height*/ / 1000 /* smaller unit */) + '*' + cssVariables[`--h${i}_font_size`] + ')';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tObject.keys(cssVariables).forEach(propName => {\r\n\t\t\tupdateCssVar(propName, cssVariables[propName], element);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const asyncWait = (timeoutMs = 10) => {\r\n\treturn new Promise(resolve => {\r\n\t\tsetTimeout(() => resolve(true), timeoutMs);\r\n\t});\r\n};\r\n\r\n\r\nexport const loadBuilder = (mainCfg, instanceCreatorFce) => {\r\n\tif (mainCfg.dpDebugEn) console.log('[dpit] INIT Builder config:', mainCfg);\r\n\tconst currentUrl = new URL(window.location);\r\n\tconst queryParamsDefs = mainCfg.queryParamsDefs;\r\n\tconst tourId = getDpUrlParam('dp_qp_tour_id', queryParamsDefs, currentUrl);\r\n\tconst createNew = getDpUrlParam('dp_qpb_create_new', queryParamsDefs, currentUrl);\r\n\tconst builderMode = getDpUrlParam('dp_qpb_builder_mode', queryParamsDefs, currentUrl);\r\n\tif ((mainCfg.tours && mainCfg.tours.length) || builderMode === TargetType.MOBILE_MENU) {\r\n\t\tconst mainCfgProcessed = { ...mainCfg };\r\n\t\tdelete mainCfgProcessed.tours;\r\n\t\tmainCfgProcessed.builderOrigin = getDpUrlParam('dp_qpb_builder_origin', queryParamsDefs, currentUrl);\r\n\t\tmainCfgProcessed.builderMode = builderMode;\r\n\t\tmainCfgProcessed.originHashId = getDpUrlParam('dp_qpb_origin_el_id', queryParamsDefs, currentUrl);\r\n\t\tmainCfgProcessed.triggerId = getDpUrlParam('dp_qp_trigger_id', queryParamsDefs, currentUrl) || 0;\r\n\t\tmainCfgProcessed.initState = getDpUrlParam('dp_qpb_init_state', queryParamsDefs, currentUrl);\r\n\t\tmainCfgProcessed.inNewWindow = getDpUrlParam('dp_qpb_in_new_window', queryParamsDefs, currentUrl) === '1';\r\n\t\tmainCfgProcessed.mobileAltStepMode = getDpUrlParam('dp_qpb_mobile_alt_step_mode', queryParamsDefs, currentUrl);\r\n\t\tconst delay = mainCfgProcessed.mobileAltStepMode === RESPONSIVE_MODE.mobileMenu ? 500 : 0;\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (builderMode === TargetType.MOBILE_MENU) {\r\n\t\t\t\tinstanceCreatorFce(mainCfgProcessed, null);\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmainCfg.tours.forEach((tourCfg) => {\r\n\t\t\t\t\tif ((createNew && tourCfg.createNew) || tourCfg.tourId == tourId) {\r\n\t\t\t\t\t\tif (tourCfg && tourCfg.properties) tourCfg.properties.disableStartAnimation = builderMode !== TargetType.STEP;\r\n\t\t\t\t\t\tinstanceCreatorFce(mainCfgProcessed, tourCfg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, delay);\r\n\t}\r\n};\r\n\r\nexport const getAdminBarHeight = () => $('#wpadminbar').outerHeight() || 0;\r\n\r\n\r\n/**\r\n * Scroll element into view\r\n * @param {Element} element element to scroll into view\r\n * @param {options} object scrollIntoView options see https://github.com/KoryNunn/scroll-into-view\r\n * @returns {Promise}\r\n */\r\nexport const scrollIntoView = (element, options = { align: { top: 0.5, left: 0.5 }, cancellable: true }) => {\r\n\treturn new Promise((resolve) => {\r\n\t\tscrollIntoViewCore(element, options, resolve);\r\n\t});\r\n};\r\n\r\n\r\n/**\r\n * Insert animation and highlight class to the element\r\n * @param {Element} element\r\n * @param {string} animationClass\r\n * @param {options} options scrollIntoView options see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\r\n * @param {boolean} addHighlightClass\r\n * @param {string} removeHighlightClickChildSelector\r\n * @param {string} highlightClass\r\n */\r\nexport const scrollToElementAndAnimate = async (\r\n\telement,\r\n\tanimationClass = 'dpit-admin-pulse-anim',\r\n\tanimTimeMs = 1000,\r\n\toptions = { align: { top: 0.5, left: 0.5 } },\r\n\taddHighlightClass = false,\r\n\tremoveHighlightClickChildSelector = '',\r\n\thighlightClass = 'dpit-admin-err-highlight'\r\n) => {\r\n\tif (element) {\r\n\t\tawait scrollIntoView(element, options);\r\n\t\treturn await animateElement(element, animationClass, animTimeMs, addHighlightClass, removeHighlightClickChildSelector, highlightClass);\r\n\t}\r\n};\r\n\r\n/**\r\n * Insert animation and highlight class to the element\r\n * @param {Element} element\r\n * @param {string} animationClass\r\n * @param {boolean} addHighlightClass\r\n * @param {string} removeHighlightClickChildSelector\r\n * @param {string} highlightClass\r\n */\r\nexport const animateElement = async (element, animationClass = 'dpit-admin-pulse-anim', animTime = 1000, addHighlightClass = false, removeHighlightClickChildSelector = '', highlightClass = 'dpit-admin-err-highlight') => {\r\n\tfunction removeHighlightClass() {\r\n\t\telement.classList.remove(highlightClass);\r\n\t\tconst $removeHighlightClickTargetEl = $(removeHighlightClickChildSelector);\r\n\t\tif ($removeHighlightClickTargetEl) {\r\n\t\t\t$removeHighlightClickTargetEl.off('click', removeHighlightClass);\r\n\t\t}\r\n\t}\r\n\tif (addHighlightClass && highlightClass && !element.classList.contains(highlightClass)) {\r\n\t\telement.classList.add(highlightClass);\r\n\r\n\t\tif (removeHighlightClickChildSelector) {\r\n\t\t\tconst $removeHighlightClickTargetEl = $(removeHighlightClickChildSelector);\r\n\t\t\tif ($removeHighlightClickTargetEl) {\r\n\t\t\t\t$removeHighlightClickTargetEl.on('click', removeHighlightClass);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (animationClass) {\r\n\t\telement.classList.add(animationClass);\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\telement.classList.remove(animationClass);\r\n\t\t\t\tresolve();\r\n\t\t\t}, animTime);\r\n\t\t});\r\n\t} else {\r\n\t\treturn Promise.resolve();\r\n\t}\r\n};\r\n\r\n/**\r\n  * @param {HTMLElement|Node} element\r\n * @param {String} containerClassName\r\n * @param {String} containerId\r\n * @param {HTMLElement|Node} appendFooterEl\r\n * @return {HTMLElement|Node} returns container element\r\n */\r\nexport const wrapElementByContainer = (element, containerClassName = '', containerId = '', appendFooterEl = null) => {\r\n\tlet containerEl = document.createElement('div');\r\n\tcontainerEl.className = containerClassName;\r\n\tcontainerEl.id = containerId;\r\n\tcontainerEl.appendChild(element);\r\n\tif (appendFooterEl) {\r\n\t\tcontainerEl.appendChild(appendFooterEl);\r\n\t}\r\n\treturn containerEl;\r\n};\r\n\r\nexport const deleteCookie = (name) => {\r\n\tdocument.cookie = name + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n};\r\n\r\nexport const setCookie = (name, value, expiresSeconds) => {\r\n\tconst d = new Date();\r\n\td.setTime(d.getTime() + (expiresSeconds * 1000));\r\n\tlet expires = 'expires=' + d.toUTCString();\r\n\tdocument.cookie = name + '=' + value + ';' + expires + ';path=/';\r\n};\r\n\r\nexport const getCookie = (name) => {\r\n\tconst cookies = Object.fromEntries(document.cookie.split('; ').map(v => v.split(/=(.*)/s).map(decodeURIComponent)));\r\n\treturn cookies ? cookies[name] : '';\r\n};\r\n\r\nexport const getCookieAndDelete = function (name) {\r\n\tconst value = getCookie(name);\r\n\tdeleteCookie(name);\r\n\treturn value;\r\n};\r\n\r\n\r\n/**\r\n * @param {Element} element\r\n */\r\nexport const isElementVisible = (element) => {\r\n\tif (!element) return false;\r\n\tconst style = getComputedStyle(element);\r\n\treturn style.getPropertyValue('display') !== 'none'\r\n\t\t&& style.getPropertyValue('visibility') !== 'hidden'\r\n\t\t&& style.getPropertyValue('opacity') !== '0';\r\n};\r\n\r\n/**\r\n * @param {Element} element\r\n */\r\nexport const isElementVisibleParentInc = (element) => {\r\n\tif (!element) return false;\r\n\tlet parentElm = element;\r\n\twhile (parentElm != null) {\r\n\t\tif (!parentElm.tagName || parentElm.tagName.toLowerCase() === 'body') break;\r\n\t\tif (!isElementVisible(parentElm)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tparentElm = parentElm.parentNode;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n\r\n/**\r\n * Remove an entry from a string array if it's there, does nothing if it isn't there.\r\n *\r\n * @param {Array} stringArray\r\n * @param {String} stringToRemove\r\n */\r\nexport const removeEntry = (stringArray, stringToRemove) => {\r\n\tif (stringArray.indexOf(stringToRemove) > -1) {\r\n\t\tstringArray.splice(stringArray.indexOf(stringToRemove), 1);\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}