"use strict";function wpieSetNameFields(e,i){jQuery.isEmptyObject(e)||jQuery.each(e,function(e,t){if(null===t)return!0;var p="undefined"!=typeof t.type&&null!==t.type?jQuery.trim(t.type.toLowerCase()):"";if(""===p||jQuery('[name="acf'+i+"["+e+'][type]"]').length<1)return!0;var r="";switch(p){case"group":case"clone":var a="undefined"!=typeof t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):"";if("direct"===a){var n="undefined"!=typeof t.sub_fields?t.sub_fields:"";wpieSetNameFields(n,i+"["+e+"][sub_fields]")}else jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r="undefined"!=typeof t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r);break;case"repeater":case"flexible_content":var a="undefined"!=typeof t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):"";"direct"===a?jQuery.each(t,function(t,r){if("type"===jQuery.trim(t.toLowerCase()))return!0;var a="undefined"!=typeof r.sub_fields?r.sub_fields:"",n=jQuery('[name="acf'+i+"["+e+'][type]"]').closest(".wpie_acf_field_data_wrapper").children(".wpie_item_act_inner_wrapper");if("repeater"===p)wpieAddNewRepeaterField(n.children(".wpie_acf_fc_layout_action_wrapper").find(".wpie_acf_repeater_add_row"));else{var o="undefined"!=typeof r.layout?r.layout:"";wpieAddNewFcField(n,"wpie_acf_cf_layout_"+o)}wpieSetNameFields(a,i+"["+e+"]["+t+"][sub_fields]")}):(jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r="undefined"!=typeof t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r));break;case"image":case"file":case"gallery":if(r="undefined"!=typeof t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r),"undefined"!=typeof t.search_through_media&&"1"===t.search_through_media?jQuery('[name="acf'+i+"["+e+'][search_through_media]"]').prop("checked",!0):jQuery('[name="acf'+i+"["+e+'][search_through_media]"]').prop("checked",!1),"undefined"!=typeof t.use_upload_dir&&"1"===t.use_upload_dir?jQuery('[name="acf'+i+"["+e+'][use_upload_dir]"]').prop("checked",!0):jQuery('[name="acf'+i+"["+e+'][use_upload_dir]"]').prop("checked",!1),"gallery"===p){var o="undefined"!=typeof t.delim?t.delim:"";jQuery('[name="acf'+i+"["+e+'][delim]"]').val(o)}break;case"select":case"checkbox":case"radio":case"button_group":case"true_false":case"taxonomy":var a="undefined"!=typeof t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):"";if("direct"===a){if(jQuery('[name="acf'+i+"["+e+'][value_option]"][value="direct"]').prop("checked",!0),r="undefined"!=typeof t[e]?t[e]:"","select"===p)jQuery('[name="acf'+i+"["+e+"]["+e+']"]').val(r).trigger("chosen:updated");else if("checkbox"===p||"taxonomy"===p)jQuery.each(jQuery('[name="acf'+i+"["+e+"]["+e+'][]"]'),function(e){-1!==jQuery.inArray(jQuery(this).val(),r)?jQuery(this).prop("checked",!0):jQuery(this).prop("checked",!1)});else if("radio"===p||"button_group"===p)jQuery.each(jQuery('[name="acf'+i+"["+e+"]["+e+']"]'),function(e){return jQuery(this).val()===r?(jQuery(this).prop("checked",!0),!1):void 0});else if("true_false"===p){var s=jQuery('[name="acf['+i+e+"]["+e+']"][type="checkbox"]');s.val()===r?s.prop("checked",!0):s.prop("checked",!1)}}else jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r="undefined"!=typeof t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r);break;case"link":r="undefined"!=typeof t.value?t.value:"";var _="undefined"!=typeof r.title?r.title:"";jQuery('[name="acf'+i+"["+e+'][value][title]"]').val(_);var l="undefined"!=typeof r.url?r.url:"";jQuery('[name="acf'+i+"["+e+'][value][url]"]').val(l);var u="undefined"!=typeof r.target?r.target:"";jQuery('[name="acf'+i+"["+e+'][value][target]"]').val(u);break;case"google_map":r="undefined"!=typeof t.value?t.value:"";var w="undefined"!=typeof r.address?r.address:"";jQuery('[name="acf'+i+"["+e+'][value][address]"]').val(w);var d="undefined"!=typeof r.lat?r.lat:"";jQuery('[name="acf'+i+"["+e+'][value][lat]"]').val(d);var c="undefined"!=typeof r.lng?r.lng:"";jQuery('[name="acf'+i+"["+e+'][value][lng]"]').val(c);break;case"post_object":case"page_link":case"relationship":case"user":r="undefined"!=typeof t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r);var o="undefined"!=typeof t.delim?t.delim:"";jQuery('[name="acf'+i+"["+e+'][delim]"]').val(o);break;default:r="undefined"!=typeof t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r)}})}function wpieSetupACFFields(){return"undefined"!=typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields&&wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields===!0?!0:(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields=!0,"undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]=[]),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData=[],wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData=[],jQuery(".wpie_acf_cf_layout_container").each(function(e){var i=jQuery(this);jQuery(this).find(".wpie_content_data_select").chosen("destroy");var t=jQuery(this).attr("data-container");return"undefined"==typeof t?!0:(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t]=jQuery("<div>").append(i).html(),void jQuery(this).remove())}),jQuery(".wpie_acf_repeater_container").each(function(e){var i=jQuery(this);jQuery(this).find(".wpie_content_data_select").chosen("destroy");var t=jQuery(this).attr("data-container");return"undefined"==typeof t?!0:(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t]=jQuery("<div>").append(i).html(),void jQuery(this).remove())}),jQuery(".wpie_item_add_on_demand").each(function(e){var i=jQuery(this).attr("data-container");return jQuery("."+i).length<1?!0:(jQuery("."+i).find(".wpie_content_data_select").chosen("destroy"),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[i]=jQuery("<div>").append(jQuery("."+i)).html(),jQuery("."+i).remove(),void jQuery(this).trigger("change"))}),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount=0,void(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount=0))}function wpieAddNewFcField(e,i){if("undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[i])return!1;var t=wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[i];"undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount=0),e.children(".wpie_acf_fc_layout_wrapper").append(t.replace(/\wpie_row_number/g,wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount)),e.children(".wpie_acf_fc_layout_wrapper").find("select").chosen(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount++,wpieSetToolTip()}function wpieAddNewRepeaterField(e){var i=e.closest(".wpie_repreater_direct_container"),t=e.attr("data-container");if("undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t])return!1;var p=wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t];"undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount=0),i.children(".wpie_acf_repreater_wrapper").append(p.replace(/\[wpie_row_number\]/g,"["+wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount+"]")),i.children(".wpie_acf_repreater_wrapper").find("select").chosen(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount++,wpieSetToolTip()}jQuery(document).on("wpieAfterChangeTemplate",function(e,i){var t="undefined"!=typeof i.is_exported?i.is_exported:0;0===t?jQuery(".wpie_item_acf_group").prop("checked",!1).trigger("change"):jQuery(".wpie_item_acf_group").prop("checked",!0).trigger("change"),jQuery.isEmptyObject(i)||(0===t&&"undefined"!=typeof i.wpie_item_acf_group&&null!==i.wpie_item_acf_group&&jQuery.each(i.wpie_item_acf_group,function(e,i){jQuery(".wpie_item_acf_group_"+e).prop("checked",!0).trigger("change")}),"undefined"!=typeof i.acf&&null!==i.acf&&wpieSetNameFields(i.acf,""))}),jQuery(document).on("wpieBeforeChangeConfig",function(){"undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]=[]),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields=!1,wpieSetupACFFields()}),jQuery(document).on("change",".wpie_item_add_on_demand",function(){wpieSetupACFFields(),"undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData=[]);var e=jQuery(this).attr("data-container");jQuery(this).is(":checked")?(jQuery("."+e).length&&jQuery("."+e).remove(),"undefined"==typeof wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[e]&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[e]=""),jQuery(this).parent().append(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[e]),jQuery("."+e).find(".wpie_content_data_select").chosen(),wpieSetToolTip()):jQuery("."+e).remove(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount=0,wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount=0}),jQuery(document).on("click",".wpie_acf_fc_add_layout",function(){var e=jQuery(this).closest(".wpie_fc_direct_container"),i=jQuery(this).closest(".wpie_acf_fc_layout_action_wrapper").find(".wpie_acf_cf_layout_data").val();return""===i?(wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieEmptyLayout),!1):void wpieAddNewFcField(e,i)}),jQuery(document).on("click",".wpie_acf_fc_remove_layout",function(){var e=jQuery(this).closest(".wpie_fc_direct_container").children(".wpie_acf_fc_layout_wrapper");e.children(".wpie_acf_cf_layout_container").last().remove(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount--}),jQuery(document).on("click",".wpie_acf_repeater_add_row",function(){wpieAddNewRepeaterField(jQuery(this))}),jQuery(document).on("click",".wpie_acf_repeater_remove_row",function(){var e=jQuery(this).closest(".wpie_repreater_direct_container");e.children(".wpie_acf_repreater_wrapper").children(".wpie_acf_repeater_container").last().remove(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount--});